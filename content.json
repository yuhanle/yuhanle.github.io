{"meta":{"title":"ç…œå¯’äº†","subtitle":"å…³å¿ƒç²®é£Ÿå’Œè”¬èœ","description":"å‰çˆ±å¥‡è‰ºé«˜çº§ä¼šå‘˜","author":"ç…œå¯’äº†","url":"https://blog.yuhanle.com"},"pages":[{"title":"","date":"2021-10-21T08:18:48.332Z","updated":"2021-10-21T08:18:48.332Z","comments":false,"path":"/404.html","permalink":"https://blog.yuhanle.com//404.html","excerpt":"","text":""},{"title":"å…³äºæˆ‘","date":"2018-02-27T04:48:18.000Z","updated":"2021-10-21T08:18:48.340Z","comments":true,"path":"about/index.html","permalink":"https://blog.yuhanle.com/about/index.html","excerpt":"","text":"ç”Ÿå‘½å¦‚è‰èŠ¥ï¼Œæœ‰æ—¶å¾ˆè„†å¼±ï¼Œä½†æ¯”å®‡å®™é—´çš„ä»»ä½•ä¸œè¥¿éƒ½é«˜è´µçš„å¤šï¼Œå› ä¸ºäººæœ‰ä¸€æ£µèƒ½æ€æƒ³çš„çµé­‚ è”ç³»æˆ‘Weibo | Email | Github æ„Ÿè°¢æŠ•é£Ÿ"},{"title":"å‹æƒ…é“¾æ¥","date":"2018-06-30T02:55:32.000Z","updated":"2021-10-21T08:18:48.341Z","comments":true,"path":"links/index.html","permalink":"https://blog.yuhanle.com/links/index.html","excerpt":"","text":"åšå®¢å ä½œè€… ä»‹ç» é‡Œè„Šä¸²çš„å¼€å‘éšç¬” é‡Œè„Šä¸² å‡ ä¹å…¨æ ˆ Casa Taloyum Casa æ¶æ„å¸ˆ Halfrostâ€™s Field - å†°éœœä¹‹åœ° å†°éœœ é€†å¤©é«˜äº§"},{"title":"æ ‡ç­¾","date":"2018-02-27T04:49:30.000Z","updated":"2021-10-21T08:18:48.341Z","comments":false,"path":"tags/index.html","permalink":"https://blog.yuhanle.com/tags/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2018-02-27T04:48:55.000Z","updated":"2021-10-21T08:18:48.341Z","comments":false,"path":"categories/index.html","permalink":"https://blog.yuhanle.com/categories/index.html","excerpt":"","text":""},{"title":"æ„Ÿè°¢ä»¥ä¸‹ç½‘å‹æŠ•é£Ÿ","date":"2018-07-06T09:13:09.000Z","updated":"2021-10-21T08:18:48.342Z","comments":true,"path":"thanks/index.html","permalink":"https://blog.yuhanle.com/thanks/index.html","excerpt":"","text":"æ˜µç§° é‡‘é¢/å…ƒ å¤‡æ³¨ æ¸ é“ æ—¶é—´ *ä¸« 2.33 From ç…œå¯’äº† çš„æ–‡ç«  å¾®ä¿¡ 2018-07-06 16:59 Maggieçš„å°èœ—å±… 2.00 iOS-BLEè“ç‰™å¼€å‘æŒç»­æ›´æ–° ç®€ä¹¦ 2017-05-24 15:59 å¶èˆæ¸…é£ 2.00 iOS-BLEè“ç‰™å¼€å‘æŒç»­æ›´æ–° ç®€ä¹¦ 2017-01-20 14:46 å®‹ä¸«å¤´ 2.00 iOS-BLEè“ç‰™å¼€å‘æŒç»­æ›´æ–° ç®€ä¹¦ 2016-12-01 16:46 CocoaCxx 5.00 iOS-ä½¿ç”¨AudioServicesç›¸å…³æ¥å£çš„è¿ç»­éœ‡åŠ¨ ç®€ä¹¦ 2016-07-29 12:03 CocoaCxx 10.00 iOS-BLEè“ç‰™å¼€å‘æŒç»­æ›´æ–° ç®€ä¹¦ 2016-07-21 17:33 CocoaCxx 1.00 iOS-BLEè“ç‰™å¼€å‘æŒç»­æ›´æ–° ç®€ä¹¦ 2016-07-21 17:14 æŠ•é£Ÿ å¾®ä¿¡æ”¯ä»˜ æ”¯ä»˜å®"}],"posts":[{"title":"ä½¿ç”¨ fastlane è¿›è¡Œ iOS æ‰“åŒ…","slug":"fastlane-say-here","date":"2018-08-06T01:00:00.000Z","updated":"2021-10-21T08:18:48.335Z","comments":true,"path":"2018/08/06/fastlane-say-here/","link":"","permalink":"https://blog.yuhanle.com/2018/08/06/fastlane-say-here/","excerpt":"fastlane æ˜¯ä¸€ä¸ªé€šè¿‡ç®€å•å‘½ä»¤æ¥å®Œæˆè¯¸å¦‚æˆªå›¾ã€è·å–è¯ä¹¦ã€ç¼–è¯‘ã€å¯¼å‡ºå®‰è£…åŒ…ã€æäº¤ iTunesConnect ç­‰ä¸€ç³»åˆ—æ“ä½œçš„å·¥å…·ï¼Œå®ƒåŒæ—¶æ”¯æŒ iOS å’Œ Androidã€‚","text":"fastlane æ˜¯ä¸€ä¸ªé€šè¿‡ç®€å•å‘½ä»¤æ¥å®Œæˆè¯¸å¦‚æˆªå›¾ã€è·å–è¯ä¹¦ã€ç¼–è¯‘ã€å¯¼å‡ºå®‰è£…åŒ…ã€æäº¤ iTunesConnect ç­‰ä¸€ç³»åˆ—æ“ä½œçš„å·¥å…·ï¼Œå®ƒåŒæ—¶æ”¯æŒ iOS å’Œ Androidã€‚ fastlane ğŸš€ Save hours every time you push a new release to the store or beta testing service âœ¨ Integrates with all your existing tools and services (170 actions currently) ğŸ“– 100% open source under the MIT license ğŸ© Easy setup assistant to get started in a few minutes âš’ Runs on your machine, itâ€™s your app and your data ğŸ‘» Integrates with all major CI systems ğŸ–¥ Supports iOS, Mac, and Android apps ğŸ”§ Extend and customise fastlane to fit your needs, youâ€™re not dependent on anyone ğŸ’­ Never remember any commands any more, just fastlane ğŸš¢ Deploy from any computer, including a CI server ä½ èƒ½å¤Ÿé€šè¿‡ç®€å•çš„æ–¹å¼é…ç½®æµç¨‹è¿›è¡Œçš„é¡ºåºï¼Œå¹¶é€šè¿‡éå¸¸ç®€å•çš„å‘½ä»¤æ‰§è¡Œå…¶ä¸­çš„ä¸€ä¸ªæµç¨‹ã€‚å½“ç„¶å®ƒçš„ç®€å•å¹¶ä¸ä»£è¡¨åŠŸèƒ½ä¹Ÿç®€é™‹ï¼Œæœ‰å¼€æºç¤¾åŒºçš„æ”¯æŒï¼Œæ›´æ–°è¿…é€Ÿä¸”æœ‰å¾ˆå¤šåŠŸèƒ½èƒ½å¤Ÿæ»¡è¶³ä½ çš„éœ€æ±‚ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨å®ƒä½œä¸ºå…¬å¸çš„ iOS ç¨‹åºå‘˜ï¼Œå°‘ä¸äº†åœ¨å‘å¸ƒåº”ç”¨çš„æ—¶å€™å„ç§ç­‰å¾…ã€‚æ ‡å‡†çš„æ‰‹åŠ¨å‘å¸ƒæµç¨‹æ˜¯ï¼šç¼–è¯‘-&gt;æ‰“åŒ…ä¸Šä¼ -&gt;å¡«å†™åº”ç”¨æ›´æ–°æ•°æ®-&gt;ç­‰å¾… iTunesConnect ç¼–è¯‘-&gt;é€‰æ‹©ç‰ˆæœ¬å‘å¸ƒï¼Œæ•´ä¸ªè¿‡ç¨‹å¤§æ¦‚éœ€è¦ 30 åˆ†é’Ÿå·¦å³ã€‚å…³é”®æ˜¯è¿™ä¸ªè¿‡ç¨‹å°±åƒwindows è£…ç³»ç»Ÿä¸€æ ·ï¼Œè™½ç„¶æ‰‹åŠ¨å‚ä¸çš„ä¸å¤šï¼Œä½†æ˜¯è¦ä¸€ç›´å®ˆåœ¨ç”µè„‘å‰ç­‰ç€ã€‚ åˆšå¼€å§‹ç”¨ fastlaneï¼Œå‘ç°å…¶ä½¿ç”¨å’Œé…ç½®è¿˜ç®—ç®€å•ï¼Œæœ‰å¼€æºç¤¾åŒºæ”¯æŒï¼Œæ›´æ–°è¿…é€ŸåŠŸèƒ½å¼ºå¤§ã€‚ä¸”ç›¸æ¯” jenkins é‡Œçš„æ’ä»¶ï¼Œfastlane å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è¢«å¤šç§CI æ¥å…¥ã€‚ ç¨‹åºå‘˜è¿™ä¹ˆæ‡’ï¼Œä¸€å®šä¼šæƒ³åŠæ³•è®©ä»–è‡ªåŠ¨åŒ–çš„ã€‚åæ¥å‘ç°ç‰¹åˆ«æ‡’çš„ Felix Krause å†™çš„ Fastlaneï¼ŒFastlaneå¯ä»¥éå¸¸å¿«é€Ÿç®€å•çš„æ­å»ºä¸€ä¸ªè‡ªåŠ¨åŒ–å‘å¸ƒæœåŠ¡ï¼Œå¹¶ä¸”æ”¯æŒ Androidï¼ŒiOSï¼ŒMacOSã€‚ä»–å¯ä»¥å®ç°ä¸€æ¡å‘½ä»¤ä»ç¼–è¯‘åˆ°é€‰ç‰ˆå‘å¸ƒå…¨ç¨‹ä¸ç”¨å¹²é¢„ã€‚ä½œä¸ºç¨‹åºå‘˜çš„ä½ åªè¦ä¸€æ¡å‘½ä»¤ï¼Œçœ‹é›†ç¾å‰§ï¼Œå‘å¸ƒå°±å®Œæˆäº†ã€‚æˆªæ­¢åˆšåˆš Fastlane å®˜ç½‘ä¸Šå®£ç§°å·²ç»ä¸ºç¨‹åºå‘˜èŠ‚çœäº†13,746,550å°æ—¶+ã€‚ ä½¿ç”¨åœºæ™¯ æäº¤æ—¶æ‰§è¡Œæµ‹è¯•ï¼ˆåŒ…æ‹¬å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼‰ï¼› æ„å»ºå¹¶åˆ†å‘å†…éƒ¨æµ‹è¯•ï¼Œå…¬å¼€æµ‹è¯•ç‰ˆæœ¬ï¼› æ„å»ºç”Ÿäº§ç‰ˆæœ¬å¹¶ä¸Šä¼ è‡³ ITCï¼ˆåŒ…æ‹¬æ›´æ–°é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºæ–°çš„å±å¹•æˆªå›¾ï¼Œä¸Šä¼ åº”ç”¨å¹¶æäº¤å®¡æ ¸ï¼‰ï¼› â€¦ ç³»ç»Ÿè¦æ±‚ ä¼šç¼–ç¨‹ Xcode7+ Mac OS 10.11+ å·¥å…·é›†fastlane å°†å¦‚ä¸‹çš„å·¥å…·å¥—ä»¶æœ‰æœºåœ°ç»“åˆèµ·æ¥,ä»ç®¡ç†è¯ä¹¦åˆ°å•å…ƒæµ‹è¯•,ä»ç¼–è¯‘æ‰“åŒ…åˆ°ä¸Šä¼ å‘å¸ƒ,éƒ½èƒ½é€šè¿‡å‘½ä»¤è¡Œè½»æ¾å®Œæˆ.è¯¥å¥—ä»¶æ”¯æŒä¸ Jenkins å’Œ CocoaPodsï¼Œxctools ç­‰å…¶ä»–ç¬¬ä¸‰æ–¹å·¥å…·çš„é›†æˆ,å¹¶ä¸”èƒ½å¤Ÿå®šä¹‰å¤šä¸ªé€šé“ï¼ˆlanesï¼‰ä»¥æ”¯æŒä¸åŒçš„éƒ¨ç½²ç›®æ ‡ã€‚ æµ‹è¯• scan =&gt; è‡ªåŠ¨è¿è¡Œæµ‹è¯•å·¥å…·ï¼Œå¹¶ä¸”å¯ä»¥ç”Ÿæˆæ¼‚äº®çš„ HTML æŠ¥å‘Š è¯ä¹¦ï¼Œé…ç½®æ–‡ä»¶ cert =&gt; è‡ªåŠ¨åˆ›å»ºç®¡ç† iOS ä»£ç ç­¾åè¯ä¹¦ sigh =&gt; ä¸€å£°å¹æ¯å•Šï¼Œè¿™ä¹ˆå¤šå¹´å’Œ Provisioning Profileæˆ˜æ–—è¿‡æ— æ•°æ¬¡ã€‚æ€»æ˜¯æœ‰è¿™æ ·é‚£æ ·çš„é—®é¢˜å¯¼è‡´é…ç½®æ–‡ä»¶è¿‡æœŸæˆ–è€…å¤±æ•ˆã€‚sigh æ˜¯ç”¨æ¥åˆ›å»ºã€æ›´æ–°ã€ä¸‹è½½ã€ä¿®å¤ Provisioning Profile çš„å·¥å…·ã€‚ pem =&gt; è‡ªåŠ¨ç”Ÿæˆã€æ›´æ–°æ¨é€é…ç½®æ–‡ä»¶ match =&gt; ä¸€ä¸ªæ–°çš„è¯ä¹¦å’Œé…ç½®æ–‡ä»¶ç®¡ç†å·¥å…·ã€‚æˆ‘ä¼šå¦å†™ä¸€ç¯‡æ–‡ç« ä¸“é—¨ä»‹ç»è¿™ä¸ªå·¥å…·ã€‚ä»–ä¼šæ‰€æœ‰éœ€è¦ç”¨åˆ°çš„è¯ä¹¦ä¼ åˆ° git ç§æœ‰åº“ä¸Šï¼Œä»»ä½•éœ€è¦é…ç½®çš„æœºå™¨ç›´æ¥ç”¨ match åŒæ­¥å›æ¥å°±ä¸ç”¨ç®¡è¯ä¹¦é—®é¢˜äº†ï¼Œå°å›¢é˜Ÿç¦éŸ³å•Šï¼ æˆªå›¾ snapshot =&gt; ç”¨ Xcode7 æ¨å‡ºçš„ UI test åŠŸèƒ½å®ç°è‡ªåŠ¨åŒ–æˆªå›¾ frameit =&gt; å¯ä»¥æŠŠæˆªçš„å›¾ç‰‡è‡ªåŠ¨å¥—ä¸Šä¸€å±‚å¤–è¾¹æ¡† å‘å¸ƒ produce =&gt; å¦‚æœä½ çš„äº§å“è¿˜æ²¡åœ¨ iTunes Connect(iTC) æˆ–è€… Apple Developer Center(ADC) å»ºç«‹ï¼Œproduce å¯ä»¥è‡ªåŠ¨å¸®ä½ å®Œæˆè¿™äº›å·¥ä½œ deliver =&gt; è‡ªåŠ¨ä¸Šä¼ æˆªå›¾ï¼ŒAPP çš„å…ƒæ•°æ®ï¼ŒäºŒè¿›åˆ¶ (ipa) æ–‡ä»¶åˆ° iTunes Connect TestFlight ç®¡ç† pilot =&gt; ç®¡ç† TestFlight çš„æµ‹è¯•ç”¨æˆ·ï¼Œä¸Šä¼ äºŒè¿›åˆ¶æ–‡ä»¶ boarding =&gt; å»ºç«‹ä¸€ä¸ªæ·»åŠ æµ‹è¯•ç”¨æˆ·ç•Œé¢ï¼Œå‘ç»™æµ‹è¯•è€…ï¼Œå¯è‡ªè¡Œæ·»åŠ é‚®ä»¶åœ°å€ï¼Œå¹¶åŒæ­¥åˆ° iTC è¾…åŠ©å·¥å…· spaceship =&gt; ä¸º pilotï¼Œboardingå’Œ deliverç­‰å·¥å…·æä¾›å’Œ iTC å’Œ ADC çš„äº¤äº’ APIã€‚spaceshipæœ¬æ¥æ˜¯ä¸ªç‹¬ç«‹çš„é¡¹ç›®ï¼Œåæ¥è¢« Fastlane æ”¶ç¼–è¿›æ¥ WatchBuild =&gt; æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ iTC ç›‘æ§å·¥å…·ï¼Œå¼€å¯ WatchBuild å¯ä»¥ç›‘æ§ iTC ä¸Šçš„æ–‡ä»¶çŠ¶æ€ï¼Œå¼¹å‡º MacOS è‡ªå¸¦çš„ Notification Android supply =&gt; è‡ªåŠ¨ä¸Šä¼ åˆ° Google Play å·¥å…· screengrab =&gt; Android çš„è‡ªåŠ¨æˆªå›¾å·¥å…· ç®€ä¾‹fastlane å‘½ä»¤æ˜¯ä¸€ä¸ªæµç¨‹æ§åˆ¶çš„å‘½ä»¤è¡Œå·¥å…·(CLI)ï¼Œé€šè¿‡å†…éƒ¨é›†æˆ action å’Œç¬¬ä¸‰æ–¹çš„ action å®Œæˆä¸€ç³»åˆ—æ§åˆ¶æµç¨‹ã€‚è¿è¡Œ fastlane å‘½ä»¤è¡Œå·¥å…·ï¼Œä¼šè¯»å–å½“å‰ç›®å½•æˆ–è€… ./fastlane ç›®å½•ä¸‹çš„ Fastfile é…ç½®æ–‡ä»¶ã€‚ åœ¨ Fastfile ä¸­ï¼š action =&gt; Fastlane ä¸­çš„æ¯ä¸€æ¡å‘½ä»¤éƒ½æ˜¯ä¸€ä¸ªæ‰©å±•(action)ï¼Œä¸Šé¢æåˆ°çš„ deliverï¼Œsighä¹‹ç±»çš„å·¥å…·æœ¬èº«æ˜¯ CLIï¼Œä½†æ˜¯åœ¨ Fastlane ä¸­å†…åµŒäº†å¯¹ä»–ä»¬æ”¯æŒçš„ action lane =&gt; Fastlane ä¸­æµç¨‹çš„åˆé›†ï¼Œæ¯ä¸€ä¸ªåŠ¨ä½œå³å¯ä»¥æ˜¯ actionï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„ laneã€‚è¯­æ³•å’Œ ruby ä¸­çš„ rake éå¸¸åƒ ä¸€ä¸ªç®€å•çš„å‘å¸ƒæµç¨‹ï¼š 123456789101112lane :deploy do # æ‰§è¡Œ pod instasll cocoapods # æ‰§è¡Œ carthage bootstrap carthage # å¢åŠ buildç‰ˆæœ¬å· increment_build_number # ç¼–è¯‘ä»£ç  gym # å‘å¸ƒåˆ°Apple Store deliver(force: true)end å®‰è£…å®‰è£…å¦‚æœ ruby ç‰ˆæœ¬æ»¡è¶³è¦æ±‚ï¼Œå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… fastlane 12#å®‰è£…fastlanesudo gem install -n /usr/local/bin fastlane ä½¿ç”¨çš„ç¯å¢ƒæ­å»ºå¥½äº†ï¼Œå°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥æ¥é…ç½® fastlane åˆå§‹åŒ–æ‰§è¡Œé»˜è®¤çš„åˆå§‹åŒ– 12cd é¡¹ç›®ç›®å½•fastlane init å¦‚æœä½ çš„é¡¹ç›®åªæœ‰ä¸€ä¸ª bundle id ä¹Ÿåªæœ‰ä¸€ä¸ªå¼€å‘è€…è´¦å·çš„è¯ï¼Œå¯ä»¥ç›´æ¥éµå¾ªå®˜æ–¹çš„æ­¥éª¤é…ç½®ã€‚å¦åˆ™éœ€è¦æŒ‰ç…§å®˜æ–¹æ–‡æ¡£ï¼Œé…ç½®ä¸åŒå‚æ•°å’Œç¯å¢ƒå˜é‡ã€‚ 1234567891011121314151617Last login: Tue Aug 7 13:19:59 on ttys000yuhanle:360qws-G100 yuhanle$ fastlane init[âœ”] ğŸš€ [âœ”] Looking for iOS and Android projects in current directory...[13:33:35]: Created new folder './fastlane'.[13:33:35]: Detected an iOS/macOS project in the current directory: 'G100.xcworkspace'[13:33:35]: -----------------------------[13:33:35]: --- Welcome to fastlane ğŸš€ ---[13:33:35]: -----------------------------[13:33:35]: fastlane can help you with all kinds of automation for your mobile app[13:33:35]: We recommend automating one task first, and then gradually automating more over time[13:33:35]: What would you like to use fastlane for?1. ğŸ“¸ Automate screenshots2. ğŸ‘©â€âœˆï¸ Automate beta distribution to TestFlight3. ğŸš€ Automate App Store distribution4. ğŸ›  Manual setup - manually setup your project to automate your tasks? åœ¨æé—®äº†ä½ çš„ Apple IDï¼ŒTeam çš„é—®é¢˜ä¹‹åï¼Œfastlane ä¼šè‡ªåŠ¨æ£€æµ‹å½“å‰ç›®å½•ä¸‹é¡¹ç›®çš„ App Name å’Œ App Identifierã€‚å¦‚æœæ£€æµ‹çš„ä¸å¯¹ï¼Œé€‰æ‹© n è‡ªè¡Œè¾“å…¥ã€‚ æ¥ä¸‹æ¥ä¼šé—®ä½ è¿™ä¸ª app æ˜¯å¦éœ€è¦åœ¨ iTC å’Œ ADC ä¸­åˆ›å»º(ä¸Šä¸€æ­¥ä¸­å¦‚æœé€‰æ‹© y ä¼šè‡ªåŠ¨æ£€æµ‹æ˜¯å¦éœ€è¦åˆ›å»º)ï¼Œfastlane ä¼šè°ƒç”¨ produce è¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚æœç°åœ¨è¿˜ä¸æƒ³åˆ›å»ºï¼Œä¹Ÿå¯ä»¥ä¹‹åå†è¿è¡Œ produce init è¿›è¡Œè¿™ä¸ªæµç¨‹ã€‚å¦‚æœä¸æ‰§è¡Œ produce çš„æµç¨‹ï¼Œdeliver çš„æµç¨‹ä¹Ÿä¼šè¢«æ è¿‡ï¼Œå½“ç„¶ä¹‹åä¹Ÿå¯ä»¥ deliver init è¿è¡Œå®Œå…¨ä¸€æ ·çš„æµç¨‹ã€‚ åœ¨æ‰§è¡Œ deliver init çš„è¿‡ç¨‹ä¸­ï¼Œä¼šåŒæ­¥ iTC ä¸­çš„æ‰€æœ‰è¯­è¨€çš„å…ƒæ•°æ®å’Œæˆªå›¾ï¼Œå¹¶æŒ‰ç…§ç›®å½•ç»“æ„ç»„ç»‡å¥½ã€‚ç›®å½•ç»“æ„åº”è¯¥ç±»ä¼¼ä¸‹é¢ï¼š 1234567891011121314151617181920212223242526272829303132fastlaneâ”œâ”€â”€ Appfileâ”œâ”€â”€ Deliverfileâ”œâ”€â”€ Fastfileâ”œâ”€â”€ metadataâ”‚ â”œâ”€â”€ copyright.txtâ”‚ â”œâ”€â”€ en-USâ”‚ â”‚ â”œâ”€â”€ description.txtâ”‚ â”‚ â”œâ”€â”€ keywords.txtâ”‚ â”‚ â”œâ”€â”€ marketing_url.txtâ”‚ â”‚ â”œâ”€â”€ name.txtâ”‚ â”‚ â”œâ”€â”€ privacy_url.txtâ”‚ â”‚ â”œâ”€â”€ release_notes.txtâ”‚ â”‚ â””â”€â”€ support_url.txtâ”‚ â”œâ”€â”€ primary_category.txtâ”‚ â”œâ”€â”€ primary_first_sub_category.txtâ”‚ â”œâ”€â”€ primary_second_sub_category.txtâ”‚ â”œâ”€â”€ secondary_category.txtâ”‚ â”œâ”€â”€ secondary_first_sub_category.txtâ”‚ â”œâ”€â”€ secondary_second_sub_category.txtâ”‚ â””â”€â”€ zh-Hansâ”‚ â”œâ”€â”€ description.txtâ”‚ â”œâ”€â”€ keywords.txtâ”‚ â”œâ”€â”€ marketing_url.txtâ”‚ â”œâ”€â”€ name.txtâ”‚ â”œâ”€â”€ privacy_url.txtâ”‚ â”œâ”€â”€ release_notes.txtâ”‚ â””â”€â”€ support_url.txtâ””â”€â”€ screenshots â”œâ”€â”€ README.txt â”œâ”€â”€ en-US â”‚ â”œâ”€â”€ ä¸€å †pngå›¾ç‰‡ è¿™é‡Œè‚¯å®šä¼šè¢«åˆ›å»ºçš„æ˜¯ Appfile å’Œ Fastfileã€‚å¦‚æœ Deliverfileï¼Œscreenshots å’Œ metadata ç›®å½•æ²¡è¢«åˆ›å»ºï¼Œå¯ä»¥è¿è¡Œ deliver init æ¥åˆ›å»ºã€‚ Fastfile =&gt; ç”¨æ¥å®šä¹‰æ‰€æœ‰çš„ lane ä»»åŠ¡ Fastfileå¸®åŠ© Appfile =&gt; æ˜¯ç”¨æ¥å­˜å‚¨ä¸€äº›å…¬å…±ä¿¡æ¯çš„ï¼Œæ¯”å¦‚ app_identifierï¼Œapple_idï¼Œteam_idï¼Œitc_team_idç­‰ã€‚Appfileå¸®åŠ© Deliverfile =&gt; deliver çš„é…ç½®æ–‡ä»¶ Deliverfileå¸®åŠ© PS: è¿™é‡Œæœ‰ä¸ªå°é—®é¢˜ï¼ŒiTC å’Œ ADC ä¸­çš„ Team ID æ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨ fastlane init ä¸­åªä¼šè‡ªåŠ¨åœ¨ Appfile é‡Œå†™å…¥ ADC çš„ team_idï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šä¸åœçš„é—®ä½  iTC çš„ Team IDï¼Œæ‰€ä»¥åœ¨åˆ›å»ºå®Œ Appfile åï¼Œæ‰‹åŠ¨åœ¨é‡Œé¢æ·»åŠ  itc_team_idã€‚ è¿™ä¸ªé—®ç­”å¯¹ä¸åŒçš„é¡¹ç›®å¯èƒ½æœ‰å„ç§å„æ ·çš„åˆ†æ”¯ã€‚æˆ‘å·²ç»ç”¨ä¸åŒçš„é¡¹ç›®è¯•è¿‡å¾ˆå¤šæ¬¡äº†ï¼Œä½†æ˜¯å¯èƒ½è¿˜ä¸æ˜¯å…¨éƒ¨ï¼Œæ‰€ä»¥ä½ è¿˜éœ€è¦è§æ‹›æ‹†æ‹›ã€‚ åœ¨è¿™é‡Œå¯ä»¥å®‰å¿ƒçš„è¾“å…¥å¯†ç ï¼Œæ‰€æœ‰çš„å¯†ç éƒ½åŠ å¯†ä¿å­˜åœ¨ç³»ç»Ÿçš„ Keychain é‡Œã€‚ é…ç½® fastlane å¯ä»¥é€šè¿‡é…ç½® .env æ–‡ä»¶ã€Appfileã€Deliverfileã€Fastfile æ¥å®Œæˆå„ç§å·¥ä½œã€‚ å…¶ä¸­ Fastfile æ˜¯æœ€æ ¸å¿ƒçš„ç”¨æ¥æ§åˆ¶æµç¨‹èµ°å‘çš„é…ç½®æ–‡ä»¶ï¼Œ.env å’Œ Appfile å¯ä»¥è¾…åŠ© Fastfile æ¥è®¾ç½®ä¸€äº›å‚æ•°ï¼ŒDeliverfile å¯ç”¨äºé…ç½®æäº¤ iTunesConnect çš„ä¸€äº›å‚æ•°ã€‚ éœ€è¦æŸ¥çœ‹ï¼Œæ ·ä¾‹é…ç½®å¯ç›´æ¥å‰å¾€ä¸‹è½½æ ·ä¾‹é…ç½® AppfileAppfileæ˜¯ç”¨æ¥é…ç½®ä¸€äº›ç±»ä¼¼äº AppleIDã€BundleID å‚æ•°(å‚æ•°æ˜¯ fastlane å·²ç»å®šä¹‰å¥½çš„ï¼Œæ–°å¢çš„å¹¶æ²¡æœ‰ç”¨ï¼Œå¦‚æœæƒ³æ–°å¢å˜é‡éœ€è¦ä½¿ç”¨ .env æ–¹å¼)ï¼Œå¯ä»¥åœ¨ Fastfile ä¸­ä½¿ç”¨ï¼ŒAppleIDã€BundleID ç­‰å…¶å®ä¼šè¢«ä¸€äº› actions ç›´æ¥è°ƒç”¨ï¼Œå¹¶ä¸éœ€è¦å†™å‡ºæ¥ä¼ é€’ã€‚ æ™®é€šé…ç½®æ–¹å¼ç›´æ¥åœ¨ Appfile é‡Œå¡«å†™ app_identifierã€apple_idã€team_id ç­‰ï¼Œç„¶åæ ¹æ® lane çš„ä¸åŒå¯ä»¥è®¾ç½®æˆä¸åŒã€‚ 1234567891011# é»˜è®¤é…ç½®app_identifier \"com.xxxxxxxxxx.test\"apple_id \"xxxxxxxxxx@xxxx.com\"team_id \"xxxxxxxxxx\"# å¦‚æœlaneæ˜¯entæ¢æˆDevçš„é…ç½®for_lane :ent do app_identifier \"com.xxxxxxxxxx.testDev\" apple_id \"xxxxxxxxxx@xxxx.com\" TEAM_ID \"xxxxxxxxxx\"end ä½¿ç”¨ .env é…ç½®æ–¹å¼.env è¿™ä¸ªæ–‡ä»¶çš„ä½œç”¨æ˜¯ä½œä¸ºç¯å¢ƒå˜é‡çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨ fastlane init è¿›è¡Œåˆå§‹åŒ–åå¹¶ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œå¦‚æœéœ€è¦å¯ä»¥è‡ªå·±åˆ›å»ºã€‚ æ‰§è¡Œæ—¶é»˜è®¤ä¼šè¯»å– .env å’Œ .env.default æ–‡ä»¶é‡Œçš„é…ç½®ã€‚é€šè¿‡æ‰§è¡Œ fastlane [lane-name] --env [envName] æ¥æŒ‡å®šä½¿ç”¨é…ç½®æ–‡ä»¶ .env.[envName]ï¼Œè¯»å–é¡ºåºæ˜¯ .env -&gt; .env.default -&gt; .env.&lt;envName&gt;ï¼Œç›¸åŒçš„å˜é‡åä¼šè¢«åé¢çš„è¦†ç›–ã€‚ å¦‚æˆ‘å»ºäº†æ–‡ä»¶ .env.myDevï¼Œé‡Œé¢å†™äº†ä¸€äº›å‚æ•°ï¼Œé‚£åœ¨æ‰§è¡Œçš„æ—¶å€™ä½¿ç”¨ fastlane [lane-name] --env myDev å³å¯ï¼Œæƒ³åœ¨ Appfileã€Deliverfileã€Fastfile ç­‰è°ƒç”¨ï¼Œç›´æ¥ä½¿ç”¨ ENV[&#39;keyName&#39;] å³å¯ 123456789# .env.myDevæ–‡ä»¶# bundle idApp_Identifier = \"com.xxxxxxxxxx.testDev\"# å¼€å‘è€…è´¦å·Apple_Id = \"xxxxxxxxxx@xxxx.com\"# å¼€å‘è€…TeamIdTeam_Id = \"xxxxxxxxxx\"# projectçš„target schemeåç§°Scheme = \"xxxxxxxxxx\" 1234# Appfileä½¿ç”¨.envæ–¹å¼ç›´æ¥è¯»å–å˜é‡å³å¯app_identifier ENV['App_Identifier']apple_id ENV['Apple_Id']team_id ENV['Team_Id'] æ³¨æ„ï¼šå› ä¸ºæ˜¯ .env æ–‡ä»¶æ˜¯.å¼€å¤´æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯åœ¨ finder ä¸­éšè—çš„ï¼Œéœ€è¦é€šè¿‡æ‰§è¡Œä¸€ä¸‹å‘½ä»¤æ¥æ˜¾ç¤º 1234# è®¾ç½®éšè—æ–‡ä»¶å¯è§defaults write com.apple.finder AppleShowAllFiles TRUE# é‡å¯finderæœåŠ¡ä»¥ç”Ÿæ•ˆkillall Finder é…ç½®æ–¹å¼å¯¹æ¯” æ™®é€šé…ç½®æ–¹å¼ï¼šç®€å•æ˜“æ‡‚ï¼Œä½†ä¸èƒ½è‡ªå®šä¹‰å˜é‡ï¼Œä¸”æ¯ä¸ª lane æƒ³ä¸ä¸€æ ·éƒ½è¦å†™ä¸€ä¸ª for_lane .env é…ç½®æ–¹å¼ï¼šåŠŸèƒ½æ€§å¼ºï¼Œä½†é…ç½®èµ·æ¥ç¨å¾®éº»çƒ¦ä¸€ç‚¹ FastfileFastfile æ˜¯å¯¹æµç¨‹è¿›è¡Œæ§åˆ¶çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œéœ€è¦è®¾å®šæ”¯æŒçš„å¹³å°å’Œåœ¨ä¸€äº›ç¯èŠ‚é‡Œéœ€è¦åšçš„äº‹æƒ…ï¼Œæ˜¯æˆ‘ä»¬è„šæœ¬çš„å…¥å£ï¼Œæ‰€æœ‰çš„äº‹ä»¶é©±åŠ¨éƒ½æ˜¯åœ¨è¿™ä¸ªæ–‡ä»¶æ¥è°ƒåº¦çš„ã€‚ Laneæœ‰äº† Fastfileï¼Œå°±å¯ä»¥æ·»åŠ è‡ªå·±çš„å‘å¸ƒæµç¨‹äº†ã€‚æ‰“å¼€Fastfileæ–‡ä»¶(è¿™é‡Œæˆ‘ç”¨Sublime è®¾å®šè¯­æ³•ä¸ºRuby)ï¼Œå¦‚æœä¸å‡ºæ„å¤–çš„è¯ä½ ç”Ÿæˆçš„Fastfileå’Œæˆ‘åº”è¯¥å·®ä¸å¤šã€‚è¿™é‡Œæˆ‘å°±ä¸è´´å‡ºæ¥äº†ã€‚ æœ€å¼€å§‹å®šä¹‰äº† fastlane_version =&gt; æŒ‡å®šfastlaneæœ€å°ç‰ˆæœ¬ default_platform =&gt; æŒ‡å®šå½“å‰å¹³å°ï¼Œå¯é€‰ ios,android,mac åœ¨ platform ä¸­å°±æ˜¯éœ€è¦ä¿®æ”¹çš„é‡ç‚¹ã€‚å…ˆå¿½ç•¥ before_allï¼Œafter_allï¼Œerror è¿™äº›æ–¹æ³•ï¼Œè¿™é‡Œçš„ lane å°±æ˜¯ä¸€ç»„ä»»åŠ¡ï¼Œä¸Šä¼ åˆ° Firim çš„ä»»åŠ¡å¦‚ä¸‹ 12345678910111213141516171819202122232425lane :to_firim do # å¦‚æœä½ ç”¨ pod install æ³¨æ„å‚æ•° -&gt; å¦åˆ™ä¼šå‡ºé”™ cocoapods(use_bundle_exec: false) # å¦‚æœä½ æ²¡æœ‰ç”³è¯·adhocè¯ä¹¦ï¼Œsighä¼šè‡ªåŠ¨å¸®ä½ ç”³è¯·ï¼Œå¹¶ä¸”æ·»åŠ åˆ°Xcodeé‡Œ sigh(adhoc: true) # ä»¥ä¸‹ä¸¤ä¸ªactionæ¥è‡ªfastlane-plugin-versioningï¼Œ # ç¬¬ä¸€ä¸ªé€’å¢ Buildï¼Œç¬¬äºŒä¸ªè®¾å®šVersionã€‚ # å¦‚æœä½ æœ‰å¤šä¸ªtargetï¼Œå°±å¿…é¡»æŒ‡å®štargetçš„å€¼ï¼Œå¦åˆ™å®ƒä¼šç›´æ¥æ‰¾æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªplistä¿®æ”¹ # åœ¨è¿™é‡Œæˆ‘å»ºè®®æ¯ä¸€ä¸ªæ‰“çš„åŒ…çš„Buildéƒ½è¦ä¸ä¸€æ ·ï¼Œè¿™æ ·crashäº†æ‹¿åˆ°æ—¥å¿—ï¼Œå¯ä»¥å¯¹åº”åˆ°ipaä¸Š increment_build_number_in_plist(target: [target_name]) increment_version_number_in_plist( target: [target_name], version_number: '7.1.3' ) # gymç”¨æ¥ç¼–è¯‘ipa gym( output_directory: './firim', export_options: &#123; method: \"ad-hoc\", # è¿™å¯ä»¥ä¸æŒ‡å®š thinning: \"&lt;none&gt;\" &#125; ) # ä¸Šä¼ ipaåˆ°fir.imæœåŠ¡å™¨ï¼Œåœ¨fir.imè·å–firim_api_token firim(firim_api_token: [firim_api_token])end Sighå¦‚æœä½ ä¸ç¡®å®šè¯ä¹¦ç›®å‰æ˜¯å¦å¯ç”¨ï¼Œå¯ä»¥ç”¨ Sigh è‡ªåŠ¨ç”Ÿæˆè·å–è¯ä¹¦ã€‚Sigh ä¼šè‡ªåŠ¨æ ¹æ® Appfile é‡Œè®¾ç½®çš„ app_identifierä» ADC (è‹¹æœå¼€å‘è€…ä¸­å¿ƒ)ç”Ÿæˆè¯ä¹¦ï¼Œå¹¶ä¸‹è½½åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹(ä¸æ˜¯ fastlane ç›®å½•)ï¼Œä¸‹è½½åè‡ªåŠ¨å®‰è£…ã€‚ä½ å¯ä»¥é€šè¿‡æŒ‡å®š output_path æŒ‡å®šè¯ä¹¦ä¸‹è½½ä½ç½®ã€‚ PSï¼šå»ºè®®ä¸è¦æŠŠè¿™ä¸ªæ–‡ä»¶å¤¹åŒæ­¥åˆ°é¡¹ç›®çš„ git ä¸­( Fastlane æä¾›äº† match ä¸“é—¨ç®¡ç†æ‰€æœ‰è¯ä¹¦)ã€‚å¯ä»¥åœ¨ .gitignore ä¸­å¯ä»¥å¿½ç•¥è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚ Sigh å¸¸ç”¨çš„é…ç½®é¡¹ï¼š Name Type Description Default adhoc bool è·å–adhocè¯ä¹¦ fasle development bool æ›´æ–°å¼€å‘è¯ä¹¦ï¼Œä¸æ›´æ–°productionè¯ä¹¦ false force bool å¼ºåˆ¶æ›´æ–°è¯ä¹¦ï¼Œä¸ç®¡è¯ä¹¦æ˜¯å¦åœ¨ADCä¸­å­˜åœ¨ false iOS é‡Œ code æ‰“åŒ…è¯ä¹¦æœ‰ 4 ç§ï¼Œadhocï¼Œinhouseï¼Œappstoreï¼Œdevelopment è¯ä¹¦ã€‚ ä»·æ ¼ AppStore è¯ä¹¦ In-House è¯ä¹¦ AdHoc è¯ä¹¦ Development è¯ä¹¦ ä¼ä¸šå¸æˆ· $299 âˆš âˆš âˆš å…¬å¸è´¦å· $99 âˆš âˆš âˆš ä¸ªäººè´¦æˆ· $99 âˆš âˆš âˆš å…¶ä¸­ In-House çš„æ–¹å¼æ‰“åŒ…çš„ipaå®‰è£…æ²¡æœ‰è®¾å¤‡çš„é™åˆ¶ã€‚AdHoc æ‰“åŒ…çš„ ipa å¿…é¡»æå‰æŠŠè®¾å¤‡çš„ UDID æ·»åŠ åˆ°è¯ä¹¦ä¸­ï¼Œå¹¶ä¸”æœ‰ 100 å°è®¾å¤‡é™åˆ¶ã€‚ æ‰€ä»¥å¦‚æœä½ ä¸æŒ‡å®š adhoc ä¸º trueï¼ŒSigh ä¼šè¯†åˆ«å¸æˆ·ç±»å‹ï¼Œä¼ä¸šå¸æˆ·é»˜è®¤ç”Ÿæˆ In-House è¯ä¹¦ï¼Œå…¬å¸è´¦å·å’Œä¸ªäººå¸æˆ·é»˜è®¤ç”Ÿæˆ AppStore è¯ä¹¦ã€‚ GymGym å¸¸ç”¨é…ç½®é¡¹ï¼š Name Type Description Default scheme string æŒ‡å®šéœ€è¦ç¼–è¯‘çš„scheme clean bool æ˜¯å¦åœ¨ç¼–è¯‘å‰clean false output_directory string å¯¼å‡ºç›®å½• ./ output_name string å¯¼å‡ºipaåå­— [app_name].ipa export_options hash/string è¿™é‡ŒæŒ‡å®šXcode APIçš„å¤–éƒ¨é…ç½®æ–‡ä»¶åœ°å€ï¼Œæˆ–è€…é…ç½®hashï¼Œè§ä¸‹æ–‡ export_method string æ‰“åŒ…æ–¹å¼ï¼Œå¯é€‰é¡¹app-store ad-hoc`packageenterprisedevelopmentdeveloper-id` å¦‚æœåœ¨fastlaneä¸­ä½¿ç”¨äº†sighï¼Œè¿™ä¸ªå€¼ä¼šä»ä¸Šä¸‹æ–‡è·å– include_bitcode bool æ˜¯å¦å¼€å¯bitcode Xcode API é»˜è®¤å€¼ä¸ºtrue include_symbols bool æ˜¯å¦ç”Ÿæˆç¬¦å·è¡¨ Xcode API é»˜è®¤å€¼ä¸ºtrue Xcode7 ä¹‹åï¼ŒXcode API å…è®¸æˆ‘ä»¬æŒ‡å®šä¸€ä¸ª plist æ–‡ä»¶ä½œä¸ºé¢å¤–çš„é…ç½®æ–‡ä»¶ã€‚gym é»˜è®¤ä¼šå¸®ä½ åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ï¼Œä½ å¯ä»¥ç›´æ¥æŒ‡å®šé…ç½®ã€‚æ›´å¤šå…³äº plist å¯é…ç½®é¡¹ï¼Œæ‰§è¡Œ xcodebuild -help æŸ¥çœ‹ Available keys for -exportOptionsPlistã€‚ export_methodï¼Œ include_symbolsï¼Œå’Œ include_bitcode è¿™äº›å‚æ•°éƒ½æ˜¯ exportOptionsPlist çš„é…ç½®ï¼Œå¯¹åº” methodï¼ŒuploadSymbols å’Œ uploadBitcodeã€‚ Gym å¯ä»¥æŒ‡å®šé…ç½®æ–‡ä»¶ Gymfileã€‚ åˆå§‹åŒ–ï¼š 1gym init Multi-Targetå¦‚æœæˆ‘ä»¬éœ€è¦é…ç½®å¤šä¸ª target è¿›è¡Œæ‰“åŒ…çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ç¯å¢ƒå˜é‡ï¼Œæ¥è¿›è¡Œé…ç½®ã€‚å‡å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ª targetï¼ŒtargetA å’Œ targetBï¼Œåˆ™æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸¤ä¸ª .env æ–‡ä»¶ï¼Œä¾‹å¦‚ .env.targetAï¼Œ.env.targetBï¼Œæ”¾åœ¨ Fastfile æ–‡ä»¶åŒçº§ç›®å½•ä¸‹ åœ¨ .env æ–‡ä»¶é‡Œé¢æˆ‘ä»¬å¯ä»¥é…ç½®ä¸€äº›ä¸åŒçš„å†…å®¹ï¼ˆéå…¬å…±ï¼‰ï¼Œæ¯”å¦‚ app_identifierï¼Œrelease_notes ç­‰ç­‰ã€‚æˆªå›¾å¦‚ä¸‹ï¼š åœ¨ Appfileï¼ŒDeliverfileï¼ŒFastfile ç­‰æ–‡ä»¶ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ .env æ–‡ä»¶é‡Œé¢çš„å†…å®¹ã€‚ Appfile 123456789101112# Appfile#The bundle identifier of your appapp_identifier ENV[&apos;APP_IDENTIFIER&apos;]# Your Apple email addressapple_id ENV[&apos;APPLE_ID&apos;] # Developer Portal Team IDteam_id ENV[&apos;TEAM_ID&apos;]å¤åˆ¶ä»£ç  Deliverfileï¼Œè¯·åœ¨è®¾ç½® release_noresã€support_urlã€private_url ç­‰é…ç½®çš„æ—¶å€™ï¼Œé‡‡ç”¨ hash çš„æ–¹å¼å†™ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970# app_identifierapp_identifier ENV['APP_IDENTIFIER']# ç”¨æˆ·å,Apple IDç”µå­é‚®ä»¶åœ°å€username ENV['APPLE_ID']# å›¢é˜ŸIDteam_id ENV['TEAM_ID']# å›¢é˜Ÿnameteam_name ENV['TEAM_NAME']# copyrightcopyright ENV['COPYRIGHT']# å…³é”®å­—keywords( 'zh-Hans' =&gt; ENV['KEYWORDS'],)# æ–°ç‰ˆæœ¬ä¿®æ”¹è®°å½•release_notes( # ä¸­å›½ 'zh-Hans' =&gt; ENV['RELEASE_NOTES'], # æ¾³å¤§åˆ©äºš 'en-au' =&gt; ENV['RELEASE_NOTES_AU'], # ç¾å›½ 'en-us' =&gt; ENV['RELEASE_NOTES_US'])# æ”¯æŒç½‘å€support_url( # ä¸­å›½ 'zh-Hans' =&gt; ENV['SUPPORT_URL'], # æ¾³å¤§åˆ©äºš 'en-au' =&gt; ENV['SUPPORT_URL_AU'], # ç¾å›½ 'en-us' =&gt; ENV['SUPPORT_URL_US'])# éšç§æ”¿ç­–ç½‘å€ å›½å®¶ä»£ç  https://www.cnblogs.com/Mien/archive/2008/08/22/1273950.htmlprivacy_url( # ä¸­å›½ 'zh-Hans' =&gt; ENV['PRIVACY_URL'], # æ¾³å¤§åˆ©äºš 'en-au' =&gt; ENV['PRIVACY_URL_AU'], # ç¾å›½ 'en-us' =&gt; ENV['PRIVACY_URL_US'])# ä¸Šä¼ å®Œæˆåæäº¤æ–°ç‰ˆæœ¬è¿›è¡Œå®¡æŸ¥submit_for_review false# è·³è¿‡HTMLæŠ¥å‘Šæ–‡ä»¶éªŒè¯force true# å¯ç”¨iTCçš„åˆ†é˜¶æ®µå‘å¸ƒåŠŸèƒ½ ç°åº¦å‘å¸ƒphased_release true# åº”ç”¨å®¡æ ¸å°ç»„çš„è”ç³»ä¿¡æ¯ app å®¡æ ¸ä¿¡æ¯app_review_information( first_name: \"xx\", last_name: \"xx\", phone_number: \"+86 18888888888\", email_address: \"xxxx\", demo_user: \"test1@test.com\", demo_password: \"test123\")... DeliverDeliver å¯ä»¥å®Œå…¨ç®¡ç†ä¸ iTC çš„äº¤äº’ã€‚å…¶ä¸­åŒ…æ‹¬ï¼š ä¸Šä¼ å’Œä¸‹è½½å¤šè¯­è¨€æˆªå›¾ ä¸Šä¼ å’Œä¸‹è½½å¤šè¯­è¨€å…ƒæ•°æ® ä¸Šä¼ äºŒè¿›åˆ¶æ–‡ä»¶ è¿˜è®°å¾—ä¸Šé¢åˆå§‹åŒ–çš„æ—¶å€™åˆå§‹åŒ–çš„ metadataï¼Œscreenshots ç›®å½•ä¹ˆï¼ŸiTC ä¸­çš„æ‰€æœ‰çš„å…ƒæ•°æ®ä¿¡æ¯éƒ½è¢«ä¿å­˜åœ¨ metadata ä¸­ï¼Œæ‰€æœ‰çš„æˆªå›¾ä¿¡æ¯éƒ½è¢«ä¿å­˜åœ¨ screenshots ä¸­ã€‚ metadataï¼š å¯ä»¥å¾ˆå®¹æ˜“çš„ç®¡ç†å¯¹åº”ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œ iTC åå°çš„è¡¨å•é¡¹ï¼Œåœ¨æ‰§è¡Œ deliver æ—¶ä¼šè‡ªåŠ¨è¢«ä¼ åˆ° iTCã€‚ åœ¨ metadata ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¦‚ copyright.txtï¼Œæ˜¯æ²¡æœ‰æœ¬åœ°åŒ–çš„ï¼Œåœ¨äºŒå±‚ç›®å½•ä¸­çš„æ–‡ä»¶éƒ½æ˜¯éœ€è¦å¯¹åº”ä¸åŒè¯­è¨€çš„è¡¨å•é¡¹ã€‚ å¦‚æœä½ ä¸æƒ³ä¿®æ”¹æŸäº›é¡¹çš„ä¿¡æ¯ï¼Œç›´æ¥æŠŠå¯¹åº”çš„æ–‡ä»¶åˆ é™¤å³å¯ã€‚ æ‰€æœ‰è¿™äº›è¡¨å•é¡¹ä¹Ÿå¯ä»¥åœ¨ Deliverfile ä¸­æŒ‡å®šï¼ŒDeliverfile ä¸­æŒ‡å®šçš„é¡¹ä¼˜å…ˆçº§æ¯”æ–‡ä»¶é«˜ screenshotsï¼š å¦‚æœä¸æƒ³æ›´æ”¹æˆªå›¾ï¼Œå¯ä»¥æŠŠæ•´ä¸ªæˆªå›¾ç›®å½•åˆ é™¤ å¦‚æœä¸ä½¿ç”¨ snapshot (è‡ªåŠ¨åŒ–æˆªå›¾)ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æˆªå›¾æ”¾åˆ°å¯¹åº”ç›®å½•ä¸‹ï¼Œæ¯”ä¸€å¼ ä¸€å¼ ä¸Šä¼  iTC å¿«çš„å¤šã€‚æˆªå›¾åœ¨iTC ä¸­çš„æ’åˆ—é¡ºåºå°±æ˜¯æœ¬åœ°æ–‡ä»¶åçš„ã€Œå­—æ¯è¡¨é¡ºåºã€(åœ¨ç›®å½•ä¸­å³å‡»ï¼ŒæŒ‰æ–‡ä»¶åæ’åº)ã€‚deliverä¼šè¯†åˆ«å›¾ç‰‡åˆ†è¾¨ç‡ï¼Œä¸Šä¼ åˆ°å¯¹åº”è®¾å¤‡ä¸­ã€‚ å¦‚æœè¦é€šè¿‡ deliver ä¿®æ”¹å…ƒæ•°æ®æˆ–æˆªå›¾ï¼Œä½ å¿…é¡»æä¾›æ‰€æœ‰ iTC ä¸­æœ‰çš„è¯­è¨€ã€‚æ¯”å¦‚åå°ä¸­æœ‰ã€Œç®€ä½“ä¸­æ–‡ã€å’Œã€Œè‹±æ–‡ã€ï¼Œä½ ä¹Ÿå¿…é¡»æä¾›å¯¹åº”çš„ zh-Hans å’Œ en-US æ–‡ä»¶ï¼Œå¦åˆ™ deliver ä¼šæŠ¥ç¼ºå°‘è¯­è¨€çš„é”™è¯¯ã€‚å¯ä»¥åœ¨ iTC åå°æäº¤çš„ç‰ˆæœ¬ä¸­åˆ é™¤è¯­è¨€ã€‚ Deliver å¸¸ç”¨é…ç½®é¡¹ï¼š Name Type Description Default ipa string ipaåœ°å€ å¦‚æœä½¿ç”¨gymï¼Œå¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡è·å– metadata_path string æŒ‡å®šmetadataç›®å½•åœ°å€ å¦‚æœåœ¨fastlaneä¸­./fastlane/metadataï¼Œå¦‚æœä½œä¸ºç‹¬ç«‹çš„å‘½ä»¤è¡Œåº”ç”¨./metadata screenshots_path string æŒ‡å®šscreenshotsç›®å½•åœ°å€ å¦‚æœåœ¨fastlaneä¸­./fastlane/screenshotsï¼Œå¦‚æœä½œä¸ºç‹¬ç«‹çš„å‘½ä»¤è¡Œåº”ç”¨./screenshots skip_binary_upload bool è·³è¿‡äºŒè¿›åˆ¶æ–‡ä»¶ä¸Šä¼ ï¼Œé€‚ç”¨äºåªæƒ³æ”¹metadata false skip_screenshots bool è·³è¿‡æˆªå›¾ä¸Šä¼ ï¼Œå¦‚æœæˆªå›¾æ²¡æœ‰å˜åŒ–ï¼Œå¼€å¯è¿™é¡¹èŠ‚çº¦æ—¶é—´ false skip_metadata bool è·³è¿‡å…ƒæ•°æ®ä¸Šä¼  false force bool deliverä¼šåœ¨ä¸Šä¼ æ—¶æ±‡æ€»ä¿¡æ¯ç”ŸæˆHTMLä¹Ÿï¼Œç­‰å¾…ä½ å®¡æ ¸ã€‚è·³è¿‡è¿™é¡¹å®¡æ ¸æ­¤é¡¹è®¾ä¸ºtrue false submit_for_review bool ä¸Šä¼ å®Œæˆæ˜¯å¦è‡ªåŠ¨æäº¤å®¡æ ¸ false automatic_release bool å®¡æ ¸é€šè¿‡æ˜¯å¦è‡ªåŠ¨é‡Šæ”¾ false price_tier int Appä»·æ ¼çº§åˆ«ã€‚æ³¨æ„ï¼šè¿™é¡¹æäº¤å½“æ—¶å°±ä¼šç”Ÿæ•ˆï¼Œæ‰€ä»¥æ›´æ”¹ä»·æ ¼è¿˜æ˜¯åœ¨åå¤©æ‰‹åŠ¨æ“ä½œ submission_information hash è¿™æ˜¯åœ¨iTCä¸Šç‚¹å‡»æäº¤ä¹‹åçš„é—®ç­”è¡¨æ ¼ï¼Œå¯é€‰é¡¹ app_review_information hash æä¾›å®¡æ ¸æ—¶çš„ä¿¡æ¯ï¼Œè¯¦æƒ… app_icon string æŒ‡å®šiconå›¾ç‰‡åœ°å€ï¼Œå¿…é¡»ä¸ºpngæ ¼å¼ submission_information =&gt; å‰ç¼€ export_compliance =&gt; å¯¹åº”ã€Œå‡ºå£åˆè§„ä¿¡æ¯ã€ï¼Œæ²¡æœ‰ç‰¹æ®Šæƒ…å†µéƒ½é€‰ false å°±å¯ä»¥ã€‚ å‰ç¼€ content_rights =&gt; é—®ä½ æ˜¯å¦åŒ…å«ï¼Œæ˜¾ç¤ºï¼Œè®¿é—®ç¬¬ä¸‰æ–¹å†…å®¹(è¿™é¡¹æˆ‘æ²¡åœ¨æˆ‘æäº¤è¿‡ç¨‹ä¸­æ‰¾åˆ°)ï¼Œæ²¡æœ‰ç‰¹æ®Šæƒ…å†µä¹Ÿéƒ½é€‰ false å°±å¯ä»¥ã€‚ å‰ç¼€ add_id_info =&gt; å¯å°±å…³é”®äº†ï¼Œå¯¹åº”ã€Œå¹¿å‘Šæ ‡è¯†ç¬¦ã€ï¼Œå¦‚æœä½ åœ¨ App ä¸­ä½¿ç”¨äº† IDFAã€‚ä½ å¿…é¡»åœ¨è¿™ç»™ä¸ªç†ç”±ï¼Œè€Œä¸èƒ½ç›´æ¥é€‰ falseã€‚ ä¸‹å›¾ç­‰ä»·ä¸‹è¡¨ï¼ŒApp ä¸­æŠ•æ”¾äº†å¹¿å‘Šã€‚ 123456789101112131415161718submission_information(&#123; export_compliance_available_on_french_store: &quot;false&quot;, export_compliance_contains_proprietary_cryptography: &quot;false&quot;, export_compliance_contains_third_party_cryptography: &quot;false&quot;, export_compliance_is_exempt: &quot;false&quot;, export_compliance_uses_encryption: &quot;false&quot;, export_compliance_app_type: nil, export_compliance_encryption_updated: &quot;false&quot;, export_compliance_compliance_required: &quot;false&quot;, export_compliance_platform: &quot;ios&quot;, content_rights_contains_third_party_content: &quot;false&quot;, content_rights_has_rights: &quot;false&quot;, add_id_info_limits_tracking: &quot;true&quot;, add_id_info_serves_ads: &quot;true&quot;, add_id_info_tracks_action: &quot;false&quot;, add_id_info_tracks_install: &quot;false&quot;, add_id_info_uses_idfa: &quot;true&quot;&#125;); deliver çš„ CLI å·¥å…·ï¼š ä¸‹è½½ iTC ä¸Šçš„æˆªå›¾ deliver download_screenshots ä¸‹è½½ iTC ä¸Šçš„å…ƒæ•°æ® deliver download_metadata é…ç½®å®Œä»¥ä¸Šçš„è®¾ç½®ï¼Œæœ€ååªéœ€è¦ä¸€æ¡å‘½ä»¤å‘å¸ƒ 1fastlane ios deploy ç³»ç»Ÿçº§ lanefastlane é»˜è®¤æœ‰ laneã€‚ before_allï¼Œå°±æ˜¯åœ¨æ‰§è¡Œä¸€æ¬¡è„šæœ¬ä¹‹å‰é¦–å…ˆæ‰§è¡Œçš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œé¢æ‰§è¡Œä¸€äº›å…¬å…±çš„ä¸œè¥¿ï¼Œæ¯”å¦‚git_pullï¼Œcocoapodsã€‚ 123456before_all do # æ£€å‡ºåˆ° Developer åˆ†æ”¯ sh 'git checkout Developer' git_pull cocoapods(repo_update: true)end after_allï¼Œ æˆåŠŸç»“æŸä¹‹åï¼Œå¤„ç†å…±æœ‰çš„åç½®é€»è¾‘ã€‚ before_eachï¼Œæ¯æ¬¡æ‰§è¡Œ lane ä¹‹å‰éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚ after_eachï¼Œæ¯æ¬¡æ‰§è¡Œ lane ä¹‹åéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚ errorï¼Œåœ¨æ‰§è¡Œä¸Šè¿°æƒ…å†µä»»æ„ç¯å¢ƒæŠ¥é”™éƒ½ä¼šä¸­æ­¢å¹¶æ‰§è¡Œä¸€æ¬¡ã€‚ æ‰§è¡Œé¡ºåº æ‰§è¡Œé¡ºåº æ–¹æ³•å è¯´æ˜ 1 before_all åœ¨æ‰§è¡Œ lane ä¹‹å‰åªæ‰§è¡Œä¸€æ¬¡ã€‚ 2 before_each æ¯æ¬¡æ‰§è¡Œ lane ä¹‹å‰éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚ 3 lane è‡ªå®šä¹‰çš„ä»»åŠ¡ã€‚ 4 after_each æ¯æ¬¡æ‰§è¡Œ lane ä¹‹åéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚ 5 after_all åœ¨æ‰§è¡Œ lane æˆåŠŸç»“æŸä¹‹åæ‰§è¡Œä¸€æ¬¡ã€‚ 6 error åœ¨æ‰§è¡Œä¸Šè¿°æƒ…å†µä»»æ„ç¯å¢ƒæŠ¥é”™éƒ½ä¼šä¸­æ­¢å¹¶æ‰§è¡Œä¸€æ¬¡ã€‚ Error å‡ºç° Command timed out after 10 seconds on try 1 of 4, trying again...ï¼Œåœ¨ fastlane æ–‡ä»¶å¼€å¤´åŠ ä¸Šï¼š 12ENV[\"FASTLANE_XCODEBUILD_SETTINGS_TIMEOUT\"] = \"180\"ENV[\"FASTLANE_XCODE_LIST_TIMEOUT\"] = \"180\" æ’ä»¶Fastlane çš„æ’ä»¶æ˜¯ä¸€ä¸ªæˆ–è€…ä¸€ç»„ action çš„æ‰“åŒ…ï¼Œå•ç‹¬å‘å¸ƒåœ¨ fastlane ä¹‹å¤–ã€‚Fastlane Plugin æŒ‡å— è‡ªä» 16 å¹´ 5 æœˆä»½æ¨å‡ºæ’ä»¶ç³»ç»Ÿä»¥æ¥ï¼Œç°åœ¨å·²ç»æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹çš„æ’ä»¶å¯ä»¥ä½¿ç”¨ã€‚æŸ¥çœ‹æ‰€æœ‰æ’ä»¶ï¼š 1fastlane search_plugins è¿™é‡Œä»‹ç»ä¸¤ä¸ªä¸‹æ–‡ä¼šç”¨åˆ°çš„æ’ä»¶ï¼š fastlane-plugin-versioning =&gt; ç”¨æ¥ä¿®æ”¹ build ç‰ˆæœ¬å·å’Œ version ç‰ˆæœ¬å·ã€‚ Fastlane å†…åµŒçš„ action increment_build_numberä½¿ç”¨çš„æ˜¯è‹¹æœæä¾›çš„ agvtoolï¼Œagvtool åœ¨æ›´æ”¹ Build çš„æ—¶å€™ä¼šæ”¹å˜æ‰€æœ‰targetçš„ç‰ˆæœ¬å·ã€‚è¿™æ—¶å¦‚æœä½ åœ¨ä¸€ä¸ªå·¥ç¨‹é‡Œæœ‰å¤šä¸ªäº§å“çš„è¯ï¼Œæ¯æ¬¡ç¼–è¯‘ï¼Œæ‰€æœ‰çš„Buildéƒ½è¦åŠ 1ï¼Œæœ€åå°±ä¸çŸ¥é“é«˜åˆ°å“ªé‡Œå»äº†ã€‚ æœ‰äº† fastlane-plugin-versioning ä¸ä»…å¯ä»¥æŒ‡å®š target å¢åŠ  Buildï¼Œè€Œä¸”å¯ä»¥æŒ‰ç…§ã€Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ã€è§„èŒƒå¢åŠ  Versionï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è®¾å®š Versionã€‚ PSï¼šæœ€å¼€å§‹å†™ iOS æ—¶ä¸çŸ¥é“æ€ä¹ˆå®šä¹‰ Buildã€‚ç°åœ¨æˆ‘ä¸€èˆ¬éƒ½ç›´æ¥å®šä¹‰æˆçº¯æ•°å­—ï¼Œæ¯”å¦‚ 100 èµ·,æ¯æ¬¡ç¼–è¯‘çš„æ—¶å€™è®©ä»–è‡ªåŠ¨åŠ ä¸€ã€‚ fastlane-plugin-firim =&gt; ç›´æ¥æŠŠ AdHoc æˆ–è€… InHouse æ‰“åŒ…çš„ ipa ä¸Šä¼ åˆ° fir.imï¼Œä¾›æµ‹è¯•ä¸‹è½½ã€‚ å®‰è£…ä¸Šé¢çš„æ’ä»¶ 123fastlane add_plugin [name] # å®‰è£…æ–¹æ³•fastlane add_plugin versioningfastlane add_plugin firim å‚è€ƒé“¾æ¥iOS æŒç»­äº¤ä»˜ä¹‹ Fastlane å’Œé‡å¤åŠ³åŠ¨è¯´å†è§-ä½¿ç”¨fastlaneè¿›è¡ŒiOSæ‰“åŒ… å°å›¢é˜Ÿçš„è‡ªåŠ¨åŒ–å‘å¸ƒï¼Fastlaneå¸¦æ¥çš„å…¨è‡ªåŠ¨åŒ–å‘å¸ƒ","categories":[{"name":"fastlane","slug":"fastlane","permalink":"https://blog.yuhanle.com/categories/fastlane/"}],"tags":[{"name":"fastlane","slug":"fastlane","permalink":"https://blog.yuhanle.com/tags/fastlane/"}]},{"title":"æ•°æ®åºåˆ—åŒ–æ¡†æ¶åœ¨ Swift æ—¥å¸¸å¼€å‘ä¸­çš„åº”ç”¨","slug":"json-analysis-in-swift","date":"2018-07-05T01:00:00.000Z","updated":"2021-10-21T08:18:48.337Z","comments":true,"path":"2018/07/05/json-analysis-in-swift/","link":"","permalink":"https://blog.yuhanle.com/2018/07/05/json-analysis-in-swift/","excerpt":"","text":"åˆ°äº† Swift å¹´ä»£ï¼Œç¬¬ä¸‰æ–¹åº“ SwiftyJSON å’Œ ObjectMapper éƒ½æ›¾ç»ä½œä¸º JSON è½¬æ¢çš„ä¸­æµç ¥æŸ±ï¼Œåªæ˜¯è¿™ä¸¤è€…è¿˜æ˜¯å…ä¸äº†â€œæ‰‹åŠ¨æŒ‡å®šå­—æ®µå’ŒJSONå­—å…¸æ˜ å°„å…³ç³»â€çš„å·¥ä½œã€‚äºæ˜¯é˜¿é‡Œæƒ³äº†ä¸ªé»‘ç§‘æŠ€ï¼ˆHandyJSONï¼‰ï¼Œé€šè¿‡åˆ†æSwiftæ•°æ®ç»“æ„åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼Œè‡ªåŠ¨åˆ†æå‡ºæ˜ å°„å…³ç³»ï¼Œè¿›ä¸€æ­¥é™ä½å¼€å‘è€…ä½¿ç”¨çš„æˆæœ¬ã€‚ å¦‚ä»Šæˆ‘ä»¬å°±æœ‰å¤šä¸ªé€‰æ‹©ï¼šObjectMapperã€HandyJSONã€SwiftyJSONã€MJExtension ç­‰ å…¶å®æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¯¹äº JSON æ•°æ®çš„å¤„ç†æœ‰ä¸¤å¤§éœ€æ±‚ï¼š json å’Œ model äº’ç›¸è½¬æ¢ï¼ˆAndroid Studioæœ‰ Gson format æ’ä»¶ï¼Œä½†Xcodeæ²¡æœ‰ç±»ä¼¼åŠŸèƒ½ï¼‰ æœåŠ¡ç«¯è¿”å›çš„ json é‡Œå¯èƒ½æœ‰ nullï¼Œä½†æ˜¯ Swift è¯­è¨€çš„ç©ºæ˜¯ç”¨ nil è¡¨ç¤ºï¼Œéœ€è¦ç©ºå€¼å¤„ç†(å¯¹è±¡ Optional ç±»å‹) æ¡†æ¶ç®€ä»‹ObjectMapperå…ˆçœ‹ ObjectMapper ï¼š Model ç±»å¿…é¡»å®ç° Mappable åè®®ï¼Œå³å®ç° init å’Œ mapping å‡½æ•°ï¼›é€‚åˆè·Ÿ Alamofire é…åˆã€‚ä½†æ˜¯ mapping å‡½æ•°å®ç°èµ·æ¥è¿‡äºè‡ƒè‚¿è€—æ—¶ï¼Œåªèƒ½å€ŸåŠ©æ’ä»¶æ¥å¿«é€Ÿå®Œæˆã€‚ 123456789101112131415161718192021222324252627282930313233343536373839import ObjectMapperclass PersonOBM: Mappable &#123; var username: String? var age: Int? var weight: Double! var sex: Bool! var location: String? var three_day_forecast: [ForecastOBM]? required init?(map: Map) &#123; &#125; func mapping(map: Map) &#123; username &lt;- map[\"username\"] age &lt;- map[\"age\"] weight &lt;- map[\"weight\"] sex &lt;- map[\"sex\"] location &lt;- map[\"location\"] three_day_forecast &lt;- map [\"three_day_forecast\"] &#125;&#125;class ForecastOBM: Mappable &#123; var conditions: String? var day: String? var temperature: Double! required init?(map: Map) &#123; &#125; func mapping(map: Map) &#123; conditions &lt;- map[\"conditions\"] day &lt;- map[\"day\"] temperature &lt;- map[\"temperature\"] &#125;&#125; j2s æ˜¯ä¸€ä¸ª macOS app èƒ½å¤Ÿå°† JSON å¯¹è±¡è½¬æˆ Swift ç»“æ„ä½“ HandyJSONå†çœ‹ HandyJSONï¼Œ å†™èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œç±»å’Œç»“æ„ä½“è¦æ±‚ç»§æ‰¿äº HandyJSONã€æšä¸¾è¦ç»§æ‰¿äº HandyJSONEnumã€‚ 123456789101112131415161718192021222324import HandyJSONclass PersonHJ: HandyJSON &#123; var username: String? var age: Int? var weight: Double! var sex: Bool! var locatoin: String? var three_day_forecast: [ForecastHJ]? required init() &#123; &#125;&#125;class ForecastHJ: HandyJSON &#123; var conditions: String? var day: String? var temperature: Double! required init() &#123; &#125;&#125; æ¯”ObjectMapperä½¿ç”¨ä¸Šè¦ç®€å•ï¼Œ ä¸ç”¨å†™mappingå‡½æ•°é‚£ä¹ˆå¤šä»£ç äº†ã€‚ SwiftyJSONçœ‹ SwiftyJSONï¼šå–å­—æ®µå€¼ä½¿ç”¨æ¯”è¾ƒæ–¹ä¾¿ï¼Œ ä½†æ˜¯ç„¶å¹¶åµï¼Ÿ SwiftyJSON ä¸æ”¯æŒè½¬ Modelï¼Œå¦‚æœä½ åªæ˜¯æƒ³è¦è§£ææŸå‡ ä¸ªå­—æ®µï¼Œé‚£ä¹ˆ SwiftyJSON æ˜¯ä¸äºŒé€‰æ‹©ï¼Œ è€Œä¸”é€‚ç”¨äº Alamofireã€‚ 123456789let jsonString: String = \"&#123;\\\"username\\\":\\\"yuhanle\\\",\\\"age\\\":18,\\\"weight\\\":65.4,\\\"sex\\\":1,\\\"location\\\":\\\"Toronto, Canada\\\",\\\"three_day_forecast\\\":[&#123;\\\"conditions\\\":\\\"Partly cloudy\\\",\\\"day\\\":\\\"Monday\\\",\\\"temperature\\\":20&#125;,&#123;\\\"conditions\\\":\\\"Showers\\\",\\\"day\\\":\\\"Tuesday\\\",\\\"temperature\\\":22&#125;,&#123;\\\"conditions\\\":\\\"Sunny\\\",\\\"day\\\":\\\"Wednesday\\\",\\\"temperature\\\":28&#125;]&#125;\" let dataFromString = jsonString.data(using: .utf8, allowLossyConversion: false)do &#123; let json = try JSON(data: dataFromString!) print(json[\"username\"], json[\"weight\"], json[\"three_day_forecast\"][0][\"conditions\"])&#125; catch let error as NSError &#123; print (\"Error: \\(error.domain)\")&#125; MJExtensionæœ€åçœ‹ä¸‹ä¸€ä¸‹ MJExtensionï¼Œä½œä¸ºä¸€ä¸ªä» ObjC å¹´ä»£å°±å¼€å§‹æµç¨‹çš„è½¬æ¢æ¡†æ¶ï¼Œåœ¨å¦‚ä»Šä½¿ç”¨çš„äººä»ç„¶å¾ˆå¤šï¼Œä½†æ˜¯å¯¹äº Swift çš„é›†æˆå´ä¸æ˜¯ç‰¹åˆ«å‹å¥½ï¼Œå®˜æ–¹ issue åˆ—è¡¨ä¸­ç»å¸¸éƒ½ä¼šæœ‰ç”³è¯·æ”¯æŒ swift çš„å‘¼å£°ï¼ 12345678910111213141516import MJExtensionclass PersonMJ: NSObject &#123; @objc var username: String? @objc var age = 0 @objc var weight = 0.0 @objc var sex = false @objc var location: String? @objc var three_day_forecast: [ForecastMJ]?&#125;class ForecastMJ: NSObject &#123; @objc var conditions: String? @objc var day: String? @objc var temperature = 0.0&#125; å°½ç®¡åœ¨æ”¯æŒä¸Šä¸æ˜¯ç‰¹åˆ«å‹å¥½ï¼Œä½†æ˜¯åœ¨è‡ªå®šä¹‰ Model çš„è¿‡ç¨‹ä¸­ï¼Œåº”è¯¥æ˜¯æœ€è½»æ¾çš„ä¸€æ¬¾ï¼Œä½†æ˜¯åœ¨å‡çº§ Swift 4 ä¹‹åï¼Œéœ€è¦åœ¨å±æ€§å‰æ·»åŠ  @objc æ‰å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œå¦åˆ™è½¬æ¢å¤±è´¥ã€‚å…·ä½“æƒ…å†µå¯å‚è€ƒï¼šSwift 4 å­—å…¸è½¬æ¨¡å‹å¤±è´¥ å¦å¤–è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯å…³äºæ•´å‹å±æ€§ï¼Œéœ€è¦ç»™å®šåˆè¯•å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒMJExtension æ— æ³•åºåˆ—åŒ–/ååºåˆ—åŒ–æ•´å‹ã€‚è§£å†³åŠæ³•å¾ˆç®€å•ï¼Œ å°±æ˜¯èµ‹ä¸ªé»˜è®¤å€¼ï¼Œ å³å°†Optionalæ•´å‹å˜ä¸ºæ•´å‹å°±å¯ä»¥ã€‚ 12345class People: NSObject &#123; var name: String? var age: Int? // è¯·æ³¨æ„ï¼šMJExtensionä¸èƒ½è§£æOptional Intç±»å‹ var age = 0 // æ­£ç¡®&#125; è¿è¡Œè€—æ—¶æˆ‘ä»¬å‡†å¤‡äº†ä¸€å°æ®µ JSON æ•°æ®ï¼Œå¾ªç¯è§£æ 10000 æ¬¡ï¼Œæ¥åˆ†æå‡ å¤§æ¡†æ¶çš„è¿è¡Œè€—æ—¶ï¼š 123456789101112131415161718192021222324&#123; \"username\": \"yuhanle\", \"age\": 18, \"weight\": 65.4, \"sex\": 1, \"location\": \"Toronto, Canada\", \"three_day_forecast\": [ &#123; \"conditions\": \"Partly cloudy\", \"day\": \"Monday\", \"temperature\": 20 &#125;, &#123; \"conditions\": \"Showers\", \"day\": \"Tuesday\", \"temperature\": 22 &#125;, &#123; \"conditions\": \"Sunny\", \"day\": \"Wednesday\", \"temperature\": 28 &#125; ]&#125; ä»¥ HandyJSON ä¸ºä¾‹ï¼Œåœ¨å¼€å§‹å¤„ç†æ•°æ®å’Œç»“æŸæ—¶ï¼Œè®°å½•æ—¶é—´å·®ï¼Œæ—¶é—´å·®çš„ç»“æœæ¯æ¬¡ä¼šæœ‰æ³¢åŠ¨ 1234567891011121314151617181920212223let maxCount = 10000func testHandyJSON(json: String) -&gt; Void &#123; var start = CFAbsoluteTimeGetCurrent() var people: PersonHJ = PersonHJ() for _ in 0..&lt;maxCount &#123; people = PersonHJ.deserialize(from: json)! &#125; var executionTime = CFAbsoluteTimeGetCurrent() - start print(\"HandyJSON deserialize time totals: \", executionTime) start = CFAbsoluteTimeGetCurrent() var res = \"\" for _ in 0..&lt;maxCount &#123; res = people.toJSONString()! &#125; executionTime = CFAbsoluteTimeGetCurrent() - start print(res) print(\"HandyJSON toJSONString time totals: \", executionTime)&#125; æœ€ç»ˆè®°å½•å¾—åˆ°çš„ç»“æœå¯¹æ¯”å›¾ æµ‹è¯•é¡¹ JSON -&gt; MODEL MODEL -&gt; JSON HandyJSON 3.0839329957962 4.97446703910828 ObjeceMapper 1.40153098106384 1.2123589515686 SwiftJSON ä¸æ”¯æŒ ä¸æ”¯æŒ MJExtension 0.417935013771057 0.418874025344849 ç»“æœæœ‰ç‚¹å‡ºä¹æ„æ–™ï¼ŒHandyJSON çš„é»‘é­”æ³•çºµç„¶å¾ˆå¼ºå¤§ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†è€—æ—¶çš„é—®é¢˜ï¼Œç›¸æ¯”è¾ƒè€Œè¨€ï¼Œä¸å¤ªå‹å¥½çš„ MJExtension é€Ÿåº¦æœ€å¿«ã€‚ æ€»ç»“å¯¹äºåº”ç”¨å¼€å‘æ¥è¯´ï¼ŒJSON æ•°æ®åºåˆ—åŒ–å’Œååºåˆ—å·çš„æ“ä½œå¿…ä¸å¯å°‘ï¼Œä¸Šè¿°åˆ†æçš„æ•ˆç‡å’Œæ€§èƒ½é—®é¢˜ï¼Œä¹Ÿåº”è¯¥å¤šè€ƒè™‘ï¼Œé€‰æ‹©åˆé€‚çš„æ¡†æ¶å¾ˆé‡è¦ï¼Œå­¦ä¹ å’Œè¸©å‘ä¹Ÿæ˜¯å¹¶å­˜çš„ã€‚ å¦å¤–ï¼ŒSwift æ”¯æŒ Codable åè®®ï¼Œå¯¹è¿™ä¸ªéœ€æ±‚çš„å¤„ç†ä¹Ÿæœ‰å¾ˆå¤§çš„æ”¯æŒï¼ å‚è€ƒé“¾æ¥ åº”è¯¥ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Codable Swiftå®ç°JSONè½¬Model - HandyJSONä½¿ç”¨è®²è§£ iOS JSONåºåˆ—åŒ–/ååºåˆ—åŒ–å“ªå®¶å¼ºï¼Ÿ Swift 4 Codable è®“åºåˆ—åŒ–è®Šå¾—æ›´ç°¡å–®","categories":[{"name":"swift","slug":"swift","permalink":"https://blog.yuhanle.com/categories/swift/"}],"tags":[{"name":"swift","slug":"swift","permalink":"https://blog.yuhanle.com/tags/swift/"},{"name":"JSON","slug":"JSON","permalink":"https://blog.yuhanle.com/tags/JSON/"},{"name":"HandyJSON","slug":"HandyJSON","permalink":"https://blog.yuhanle.com/tags/HandyJSON/"}]},{"title":"RAC åœ¨ MVVM ä¸­çš„å¸¸è§ç”¨æ³•","slug":"rac-in-mvvm","date":"2018-05-13T01:00:00.000Z","updated":"2021-10-21T08:18:48.339Z","comments":true,"path":"2018/05/13/rac-in-mvvm/","link":"","permalink":"https://blog.yuhanle.com/2018/05/13/rac-in-mvvm/","excerpt":"å¼€ç¯‡åœ¨ iOS å¼€å‘ä¸­ï¼Œæˆ–å¤šæˆ–å°‘éƒ½ä¼šè§è¿‡ RAC çš„èº«å½±ï¼Œå®ƒä¸ºæé«˜å¼€å‘æ•ˆç‡è€Œç”Ÿï¼Œåœ¨æŸäº›ç‰¹å®šæƒ…å†µä¸‹å¼€å‘æ—¶å¯ä»¥å¤§å¤§ç®€åŒ–ä»£ç ï¼Œå¹¶ä¸”ç›®å‰æ¥çœ‹å®‰å…¨å¯é ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰æ¥è§¦ RACï¼Œå»ºè®®ä½ å·¥ä½œä¹‹ä½™ç¨ä½œç ”ç©¶ï¼Œå¹¶å°è¯•ä½“éªŒä¸€ä¸‹ã€‚","text":"å¼€ç¯‡åœ¨ iOS å¼€å‘ä¸­ï¼Œæˆ–å¤šæˆ–å°‘éƒ½ä¼šè§è¿‡ RAC çš„èº«å½±ï¼Œå®ƒä¸ºæé«˜å¼€å‘æ•ˆç‡è€Œç”Ÿï¼Œåœ¨æŸäº›ç‰¹å®šæƒ…å†µä¸‹å¼€å‘æ—¶å¯ä»¥å¤§å¤§ç®€åŒ–ä»£ç ï¼Œå¹¶ä¸”ç›®å‰æ¥çœ‹å®‰å…¨å¯é ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰æ¥è§¦ RACï¼Œå»ºè®®ä½ å·¥ä½œä¹‹ä½™ç¨ä½œç ”ç©¶ï¼Œå¹¶å°è¯•ä½“éªŒä¸€ä¸‹ã€‚ å…³äº RAC çš„è§£é‡Šï¼Œå®˜æ–¹çš„è¯´ï¼ŒReactiveCocoaï¼ˆå…¶ç®€ç§°ä¸ºRACï¼‰æ˜¯ç”± GitHub å¼€æºçš„ä¸€ä¸ªåº”ç”¨äº iOS å’Œ OS X å¼€å‘çš„æ–°æ¡†æ¶ï¼Œå…¶å…·æœ‰ å‡½æ•°å¼ç¼–ç¨‹ å’Œ å“åº”å¼ç¼–ç¨‹ çš„ç‰¹æ€§ã€‚ è¿™æ˜¯æ‘˜è‡ªèŠ±ç“£ç½‘å·¥ç¨‹å¸ˆåšå®¢çš„ä¸€å¹…å›¾ï¼Œå¯ä»¥ç›´è§‚çš„çœ‹åˆ°å„ä¸ªç±»ä¹‹é—´çš„å…³ç³» æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ç»“åˆ RAC ä¸­çš„ç±»ä»¥åŠå®é™…ä½¿ç”¨åœºæ™¯ï¼Œæ¥æè¿°ä¸€ä¸‹ä»–çš„åŸºæœ¬ç”¨æ³•ï¼š RACSignal RACSubject RACSequence RACMulticastConnection RACCommand RAC å¸¸ç”¨å® RAC-bind RAC-è¿‡æ»¤ RAC-æ˜ å°„ RAC-ç»„åˆ æ­£é¢˜åŸºç¡€ç”¨æ³•RACSignalä¿¡å·ç±»ï¼ŒSignal æ˜¯ RAC ä¸­çš„æ ¸å¿ƒæ¦‚å¿µã€‚å½“æ•°æ®æ”¹å˜æ—¶ï¼Œä¿¡å·å†…éƒ¨å°±ä¼šæ”¶åˆ°æ•°æ®ï¼Œç„¶åå‘å‡ºã€‚ä½†æ˜¯é»˜è®¤ä¸€ä¸ªä¿¡å·æ˜¯å†·ä¿¡å·ï¼Œå½“ä¸€ä¸ªä¿¡å·æ²¡æœ‰è®¢é˜…è€…ï¼ˆSubscriberï¼‰æ—¶å®ƒä»€ä¹ˆä¹Ÿä¸å¹²ï¼Œå°±åƒæˆ‘ä»¬çš„å‡½æ•°ï¼Œå½“ä¸€ä¸ªå‡½æ•°å†™å¥½ä¹‹åå¹¶æ²¡æœ‰è¢«è°ƒç”¨å®ƒä¹Ÿä»€ä¹ˆéƒ½ä¸ä¼šå¹²ã€‚ä¿¡å·å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼å‘é€äº‹ä»¶ç»™è®¢é˜…è€…ã€‚ è¯¦ç»†ä»‹ç»å‚è€ƒï¼šä»ä»£ç†åˆ° RACSignal 123456789101112131415161718192021222324252627// 1.åˆ›å»ºä¿¡å·RACSignal *signal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; // 3.å‘é€ä¿¡å· [subscriber sendNext:@\"ws\"]; // 4.å–æ¶ˆä¿¡å· // å¦‚æœä¿¡å·æƒ³è¦è¢«å–æ¶ˆï¼Œå°±å¿…é¡»è¿”å›ä¸€ä¸ªRACDisposable // ä¿¡å·ä»€ä¹ˆæ—¶å€™è¢«å–æ¶ˆï¼š // 1.è‡ªåŠ¨å–æ¶ˆï¼Œå½“ä¸€ä¸ªä¿¡å·çš„è®¢é˜…è€…è¢«é”€æ¯çš„æ—¶å€™æœºä¼šè‡ªåŠ¨å–æ¶ˆè®¢é˜…ï¼Œ // 2.æ‰‹åŠ¨å–æ¶ˆï¼Œ // blockä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼šä¸€æ—¦ä¸€ä¸ªä¿¡å·è¢«å–æ¶ˆè®¢é˜…å°±ä¼šè°ƒç”¨ // blockä½œç”¨ï¼šå½“ä¿¡å·è¢«å–æ¶ˆæ—¶ç”¨äºæ¸…ç©ºä¸€äº›èµ„æº return [RACDisposable disposableWithBlock:^&#123; NSLog(@\"å–æ¶ˆè®¢é˜…\"); &#125;];&#125;];// 2. è®¢é˜…ä¿¡å·// subscribeNext// æŠŠnextBlockä¿å­˜åˆ°è®¢é˜…è€…é‡Œé¢// åªè¦è®¢é˜…ä¿¡å·å°±ä¼šè¿”å›ä¸€ä¸ªå–æ¶ˆè®¢é˜…ä¿¡å·çš„ç±»RACDisposable *disposable = [signal subscribeNext:^(id x) &#123; // blockçš„è°ƒç”¨æ—¶åˆ»ï¼šåªè¦ä¿¡å·å†…éƒ¨å‘å‡ºæ•°æ®å°±ä¼šè°ƒç”¨è¿™ä¸ªblock NSLog(@\"%@\", x);&#125;];// å–æ¶ˆè®¢é˜…[disposable dispose]; æ€»ç»“ ä¿¡å·ç±»çš„ä½œç”¨ï¼š åªè¦æœ‰æ•°æ®æ”¹å˜å°±ä¼šæŠŠæ•°æ®åŒ…è£…æˆä¿¡å·ä¼ é€’å‡ºå» åªè¦æœ‰æ•°æ®æ”¹å˜å°±ä¼šæœ‰ä¿¡å·å‘å‡º æ•°æ®å‘å‡ºï¼Œå¹¶ä¸æ˜¯ä¿¡å·ç±»å‘å‡ºï¼Œä¿¡å·ç±»ä¸èƒ½å‘é€æ•°æ® å®ç°æ€è·¯ï¼š å½“ä¸€ä¸ªä¿¡å·è¢«è®¢é˜…ï¼Œåˆ›å»ºè®¢é˜…è€…ï¼Œå¹¶æŠŠ nextBlock ä¿å­˜åˆ°è®¢é˜…è€…é‡Œé¢ åˆ›å»ºçš„æ—¶å€™ä¼šè¿”å› [RACDynamicSignal createSignal:didSubscribe]; è°ƒç”¨ RACDynamicSignal çš„ didSubscribe å‘é€ä¿¡å· [subscriber sendNext:value]; æ‹¿åˆ°è®¢é˜…è€…çš„ nextBlock è°ƒç”¨ RACSubjectRACSubject åœ¨ä½¿ç”¨ä¸­æˆ‘ä»¬å¯ä»¥å®Œå…¨ä»£æ›¿ä»£ç†/é€šçŸ¥ï¼Œæ¥ç®€åŒ–ä»£ç ã€‚ (å¯å˜çš„ä¿¡å·ï¼‰ï¼š å¯ä»¥è¿æ¥RACä»£ç ä¸éRACä»£ç ï¼Œå¯ä»¥æ¥æ”¶å’Œä¸»åŠ¨å‘é€ä¿¡å·ã€‚çœ‹äº†å¾ˆå¤šä»‹ç»éƒ½ä¸æ¨èä½¿ç”¨ã€‚ç›®å‰æˆ‘åªæŠŠä»–å½“ä½œä»£ç†ä½¿ç”¨äº†ä¸€ä¸‹ã€‚ è¯¦ç»†ä»‹ç»å‚è€ƒï¼šã€å¯å˜ã€çš„çƒ­ä¿¡å· RACSubject 123456789101112// 1. åˆ›å»ºä¿¡å·RACSubject *subject = [RACSubject subject];// 2. è®¢é˜…ä¿¡å·[subject subscribeNext:^(id x) &#123; // block:å½“æœ‰æ•°æ®å‘å‡ºçš„æ—¶å€™å°±ä¼šè°ƒç”¨ // block:å¤„ç†æ•°æ® NSLog(@\"%@\",x);&#125;];// 3. å‘é€ä¿¡å·[subject sendNext:value]; æ³¨æ„ RACSubject å’Œ RACReplaySubject çš„åŒºåˆ« RACSubject å¿…é¡»è¦å…ˆè®¢é˜…ä¿¡å·ä¹‹åæ‰èƒ½å‘é€ä¿¡å·ï¼Œ è€Œ RACReplaySubject å¯ä»¥å…ˆå‘é€ä¿¡å·åè®¢é˜…. RACSubject ä»£ç ä¸­ä½“ç°ä¸ºï¼šå…ˆèµ°TwoViewControllerçš„ sendNextï¼Œåèµ° ViewController çš„ subscribeNext è®¢é˜… RACReplaySubject ä»£ç ä¸­ä½“ç°ä¸ºï¼šå…ˆèµ° ViewController çš„ subscribeNext è®¢é˜…ï¼Œåèµ° TwoViewController çš„sendNext å¯æŒ‰å®é™…æƒ…å†µå„å–æ‰€éœ€ã€‚ RACSequenceè¯¦ç»†ä»‹ç»å‚è€ƒï¼šPull-Driven çš„æ•°æ®æµ RACSequence ä½¿ç”¨åœºæ™¯ï¼š å¯ä»¥å¿«é€Ÿé«˜æ•ˆçš„éå†æ•°ç»„å’Œå­—å…¸ã€‚ 123456789NSString *path = [[NSBundle mainBundle] pathForResource:@\"flags.plist\" ofType:nil];NSArray *dictArr = [NSArray arrayWithContentsOfFile:path]; [dictArr.rac_sequence.signal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125; error:^(NSError *error) &#123; NSLog(@\"error\");&#125; completed:^&#123; NSLog(@\"å®Œæ¯•\");&#125;]; ä¹Ÿå¯ä»¥ä½¿ç”¨å® 123456789101112131415NSDictionary *dict = @&#123;@\"key\":@1, @\"key2\":@2&#125;;[dict.rac_sequence.signal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); NSString *key = x[0]; NSString *value = x[1]; // RACTupleUnpackå®ï¼šä¸“é—¨ç”¨æ¥è§£æå…ƒç»„ // RACTupleUnpack ç­‰ä¼šå³è¾¹ï¼šéœ€è¦è§£æçš„å…ƒç»„ å®çš„å‚æ•°ï¼Œå¡«è§£æçš„ä»€ä¹ˆæ ·æ•°æ® // å…ƒç»„é‡Œé¢æœ‰å‡ ä¸ªå€¼ï¼Œå®çš„å‚æ•°å°±å¿…é¡»å¡«å‡ ä¸ª RACTupleUnpack(NSString *key, NSString *value) = x; NSLog(@\"%@ %@\", key, value);&#125; error:^(NSError *error) &#123; NSLog(@\"error\");&#125; completed:^&#123; NSLog(@\"å®Œæ¯•\");&#125;]; RACMulticastConnectionå½“æœ‰å¤šä¸ªè®¢é˜…è€…ï¼Œä½†æ˜¯æˆ‘ä»¬åªæƒ³å‘é€ä¸€ä¸ªä¿¡å·çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ç”¨ RACMulticastConnectionï¼Œæ¥å®ç°ã€‚ è¯¦ç»†ä»‹ç»å‚è€ƒï¼šç”¨äºå¤šæ’­çš„ RACMulticastConnection 123456789101112131415161718// æ™®é€šå†™æ³•, è¿™æ ·çš„ç¼ºç‚¹æ˜¯ï¼šæ¯è®¢é˜…ä¸€æ¬¡ä¿¡å·å°±å¾—é‡æ–°åˆ›å»ºå¹¶å‘é€è¯·æ±‚ï¼Œå¾ˆä¸å‹å¥½RACSignal *signal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; // didSubscribeblock ä¸­çš„ä»£ç éƒ½ç»Ÿç§°ä¸ºå‰¯ä½œç”¨ // å‘é€è¯·æ±‚ NSLog(@\"å‘é€è¯·æ±‚å•¦\"); // å‘é€ä¿¡å· [subscriber sendNext:@\"ws\"]; return nil;&#125;];[signal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];[signal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];[signal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;]; 12345678910111213141516171819202122// æ¨èåšæ³•ã€‚ ä½¿ç”¨RACMulticastConnectionï¼Œæ— è®ºæœ‰å¤šå°‘ä¸ªè®¢é˜…è€…ï¼Œæ— è®ºè®¢é˜…å¤šå°‘æ¬¡ï¼Œåªå‘é€ä¸€ä¸ª// 1.å‘é€è¯·æ±‚ï¼Œç”¨ä¸€ä¸ªä¿¡å·å†…åŒ…è£…ï¼Œä¸ç®¡æœ‰å¤šå°‘ä¸ªè®¢é˜…è€…ï¼Œåªæƒ³å‘ä¸€æ¬¡è¯·æ±‚RACSignal *signal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; // å‘é€è¯·æ±‚ NSLog(@\"å‘é€è¯·æ±‚å•¦\"); // å‘é€ä¿¡å· [subscriber sendNext:@\"ws\"]; return nil;&#125;];//2. åˆ›å»ºè¿æ¥ç±»RACMulticastConnection *connection = [signal publish];[connection.signal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];[connection.signal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];[connection.signal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];//3. è¿æ¥ã€‚åªæœ‰è¿æ¥äº†æ‰ä¼šæŠŠä¿¡å·æºå˜ä¸ºçƒ­ä¿¡å·[connection connect]; RACCommandRACCommandï¼šRAC ä¸­ç”¨äºå¤„ç†äº‹ä»¶çš„ç±»ï¼Œå¯ä»¥æŠŠäº‹ä»¶å¦‚ä½•å¤„ç†ï¼Œäº‹ä»¶ä¸­çš„æ•°æ®å¦‚ä½•ä¼ é€’ï¼ŒåŒ…è£…åˆ°è¿™ä¸ªç±»ä¸­ï¼Œä»–å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç›‘æ§äº‹ä»¶çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæ¯”å¦‚çœ‹äº‹ä»¶æœ‰æ²¡æœ‰æ‰§è¡Œå®Œæ¯•ï¼Œè¯¦ç»†ä»‹ç»å‚è€ƒï¼šä¼˜é›…çš„ RACCommand RACCommand æ˜¯ä¸€ä¸ªåœ¨ ReactiveCocoa ä¸­æ¯”è¾ƒå¤æ‚çš„ç±»ï¼Œå¤§å¤šæ•°ä½¿ç”¨ ReactiveCocoa çš„äººï¼Œå°¤å…¶æ˜¯åˆå­¦è€…å¹¶ä¸ä¼šç»å¸¸ä½¿ç”¨å®ƒã€‚ åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œè™½ç„¶ä½¿ç”¨ RACSignal å’Œ RACSubject å°±èƒ½è§£å†³ç»å¤§éƒ¨åˆ†é—®é¢˜ï¼Œä½†æ˜¯ RACCommand çš„ä½¿ç”¨ä¼šä¸ºæˆ‘ä»¬å¸¦æ¥å·¨å¤§çš„ä¾¿åˆ©ï¼Œå°¤å…¶æ˜¯åœ¨ä¸å‰¯ä½œç”¨ç›¸å…³çš„æ“ä½œä¸­ã€‚ ä½¿ç”¨åœºæ™¯ï¼šç›‘å¬æŒ‰é’®ç‚¹å‡»ï¼Œå¼‚æ­¥ç½‘ç»œè¯·æ±‚ 12345678910111213141516171819202122232425// æ™®é€šåšæ³•// RACCommand: å¤„ç†äº‹ä»¶// ä¸èƒ½è¿”å›ç©ºçš„ä¿¡å·// 1.åˆ›å»ºå‘½ä»¤RACCommand *command = [[RACCommand alloc] initWithSignalBlock:^RACSignal *(id input) &#123; //blockè°ƒç”¨ï¼Œæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™å°±ä¼šè°ƒç”¨ NSLog(@\"%@\", input); // input ä¸ºæ‰§è¡Œå‘½ä»¤ä¼ è¿›æ¥çš„å‚æ•° // è¿™é‡Œçš„è¿”å›å€¼ä¸å…è®¸ä¸ºnil return [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; [subscriber sendNext:@\"æ‰§è¡Œå‘½ä»¤äº§ç”Ÿçš„æ•°æ®\"]; return nil; &#125;];&#125;];// å¦‚ä½•æ‹¿åˆ°æ‰§è¡Œå‘½ä»¤ä¸­äº§ç”Ÿçš„æ•°æ®å‘¢ï¼Ÿ// è®¢é˜…å‘½ä»¤å†…éƒ¨çš„ä¿¡å·// ** æ–¹å¼ä¸€ï¼šç›´æ¥è®¢é˜…æ‰§è¡Œå‘½ä»¤è¿”å›çš„ä¿¡å·// 2.æ‰§è¡Œå‘½ä»¤RACSignal *signal =[command execute:@2]; // è¿™é‡Œå…¶å®ç”¨åˆ°çš„æ˜¯replaySubject å¯ä»¥å…ˆå‘é€å‘½ä»¤å†è®¢é˜… // åœ¨è¿™é‡Œå°±å¯ä»¥è®¢é˜…ä¿¡å·äº† [signal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;]; 12345678910111213141516171819202122232425// ä¸€èˆ¬åšæ³•// 1.åˆ›å»ºå‘½ä»¤RACCommand *command = [[RACCommand alloc] initWithSignalBlock:^RACSignal *(id input) &#123; //blockè°ƒç”¨ï¼Œæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™å°±ä¼šè°ƒç”¨ NSLog(@\"%@\", input); // input ä¸ºæ‰§è¡Œå‘½ä»¤ä¼ è¿›æ¥çš„å‚æ•° // è¿™é‡Œçš„è¿”å›å€¼ä¸å…è®¸ä¸ºnil return [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; [subscriber sendNext:@\"æ‰§è¡Œå‘½ä»¤äº§ç”Ÿçš„æ•°æ®\"]; return nil; &#125;];&#125;];// æ–¹å¼äºŒï¼š// è®¢é˜…ä¿¡å·// æ³¨æ„ï¼šè¿™é‡Œå¿…é¡»æ˜¯å…ˆè®¢é˜…æ‰èƒ½å‘é€å‘½ä»¤// executionSignalsï¼šä¿¡å·æºï¼Œä¿¡å·ä¸­ä¿¡å·ï¼Œsignalofsignals:ä¿¡å·ï¼Œå‘é€æ•°æ®å°±æ˜¯ä¿¡å·[command.executionSignals subscribeNext:^(RACSignal *x) &#123; [x subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); &#125;]; NSLog(@\"%@\", x);&#125;];// 2.æ‰§è¡Œå‘½ä»¤[command execute:@2]; 12345678910111213141516171819// é«˜çº§åšæ³•// 1.åˆ›å»ºå‘½ä»¤RACCommand *command = [[RACCommand alloc] initWithSignalBlock:^RACSignal *(id input) &#123; // blockè°ƒç”¨ï¼šæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™å°±ä¼šè°ƒç”¨ NSLog(@\"%@\", input); // è¿™é‡Œçš„è¿”å›å€¼ä¸å…è®¸ä¸ºnil return [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; [subscriber sendNext:@\"å‘é€ä¿¡å·\"]; return nil; &#125;];&#125;];// æ–¹å¼ä¸‰// switchToLatestè·å–æœ€æ–°å‘é€çš„ä¿¡å·ï¼Œåªèƒ½ç”¨äºä¿¡å·ä¸­ä¿¡å·ã€‚[command.executionSignals.switchToLatest subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];// 2.æ‰§è¡Œå‘½ä»¤[command execute:@3]; 1234567891011121314151617// switchToLatest--ç”¨äºä¿¡å·ä¸­ä¿¡å·// åˆ›å»ºä¿¡å·ä¸­ä¿¡å·RACSubject *signalofsignals = [RACSubject subject];RACSubject *signalA = [RACSubject subject];// è®¢é˜…ä¿¡å·[signalofsignals subscribeNext:^(RACSignal *x) &#123; [x subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); &#125;];&#125;];// switchToLatest: è·å–ä¿¡å·ä¸­ä¿¡å·å‘é€çš„æœ€æ–°ä¿¡å·[signalofsignals.switchToLatest subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];// å‘é€ä¿¡å·[signalofsignals sendNext:signalA];[signalA sendNext:@4]; 1234567891011121314151617181920212223242526272829// ç›‘å¬äº‹ä»¶æœ‰æ²¡æœ‰å®Œæˆ// æ³¨æ„ï¼šå½“å‰å‘½ä»¤å†…éƒ¨å‘é€æ•°æ®å®Œæˆï¼Œä¸€å®šè¦ä¸»åŠ¨å‘é€å®Œæˆ// 1.åˆ›å»ºå‘½ä»¤RACCommand *command = [[RACCommand alloc] initWithSignalBlock:^RACSignal *(id input) &#123; // blockè°ƒç”¨ï¼šæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™å°±ä¼šè°ƒç”¨ NSLog(@\"%@\", input); // è¿™é‡Œçš„è¿”å›å€¼ä¸å…è®¸ä¸ºnil return [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; // å‘é€æ•°æ® [subscriber sendNext:@\"æ‰§è¡Œå‘½ä»¤äº§ç”Ÿçš„æ•°æ®\"]; // *** å‘é€å®Œæˆ ** [subscriber sendCompleted]; return nil; &#125;];&#125;];// ç›‘å¬äº‹ä»¶æœ‰æ²¡æœ‰å®Œæˆ[command.executing subscribeNext:^(id x) &#123; if ([x boolValue] == YES) &#123; // æ­£åœ¨æ‰§è¡Œ NSLog(@\"å½“å‰æ­£åœ¨æ‰§è¡Œ%@\", x); &#125;else &#123; // æ‰§è¡Œå®Œæˆ/æ²¡æœ‰æ‰§è¡Œ NSLog(@\"æ‰§è¡Œå®Œæˆ/æ²¡æœ‰æ‰§è¡Œ\"); &#125;&#125;];// 2.æ‰§è¡Œå‘½ä»¤[command execute:@1]; è¿›é˜¶ç”¨æ³•RAC å¸¸ç”¨å®RAC æœ‰è®¸å¤šå¼ºå¤§è€Œæ–¹ä¾¿çš„å®ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤º 12345678// RAC: æŠŠä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§ç»‘å®šä¸€ä¸ªä¿¡å·ï¼Œåªè¦å‘å‡ºä¿¡å·ï¼Œå°±ä¼šæŠŠä¿¡å·çš„å†…å®¹ç»™å¯¹è±¡çš„å±æ€§èµ‹å€¼// ç»™ label çš„ text å±æ€§ç»‘å®šäº†æ–‡æœ¬æ¡†æ”¹å˜çš„ä¿¡å·RAC(self.label, text) = self.textField.rac_textSignal;// ä¸ä¸Šè¿°åŒæ ·åŠŸèƒ½[self.textField.rac_textSignal subscribeNext:^(id x) &#123; self.label.text = x;&#125;]; 12345678/*** KVO* RACObserveL: å¿«é€Ÿçš„ç›‘å¬æŸä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§æ”¹å˜* è¿”å›çš„æ˜¯ä¸€ä¸ªä¿¡å·ï¼Œå¯¹è±¡çš„æŸä¸ªå±æ€§æ”¹å˜çš„ä¿¡å·*/[RACObserve(self.view, center) subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;]; 12345// ä¾‹ textField è¾“å…¥çš„å€¼èµ‹å€¼ç»™labelï¼Œç›‘å¬ label æ–‡å­—æ”¹å˜RAC(self.label, text) = self.textField.rac_textSignal;[RACObserve(self.label, text) subscribeNext:^(id x) &#123; NSLog(@\"labelçš„æ–‡å­—å˜åŒ–\");&#125;]; 1234567891011/*** å¾ªç¯å¼•ç”¨é—®é¢˜* ä½¿ç”¨ @weakify(self) å’Œ @strongify(self) æ¥é¿å…å¾ªç¯å¼•ç”¨*/@weakify(self);RACSignal *signal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; @strongify(self); NSLog(@\"%@\", self.view); return nil;&#125;];_signal = signal; 123456789101112/*** å…ƒç¥–* å¿«é€ŸåŒ…è£…ä¸€ä¸ªå…ƒç»„* æŠŠåŒ…è£…çš„ç±»å‹æ”¾åœ¨å®çš„å‚æ•°é‡Œé¢ï¼Œå°±ä¼šè‡ªåŠ¨åŒ…è£…*/RACTuple *tuple = RACTuplePack(@1, @2, @4);// å®çš„å‚æ•°ç±»å‹è¦å’Œå…ƒç¥–ä¸­å…ƒç´ ç±»å‹ä¸€è‡´ï¼Œå³è¾¹ä¸ºè¦è§£æçš„å…ƒç¥–RACTupleUnpack_(NSNumber *num1, NSNumber *num2, NSNumber * num3) = tuple;// 4.å…ƒç¥–// å¿«é€ŸåŒ…è£…ä¸€ä¸ªå…ƒç»„// æŠŠåŒ…è£…çš„ç±»å‹æ”¾åœ¨å®çš„å‚æ•°é‡Œé¢ï¼Œå°±ä¼šè‡ªåŠ¨åŒ…è£…NSLog(@\"%@ %@ %@\", num1, num2, num3); RAC-bind1234567891011121314151617181920212223// 1.åˆ›å»ºä¿¡å·RACSubject *subject = [RACSubject subject];// 2.ç»‘å®šä¿¡å·RACSignal *bindSignal = [subject bind:^RACStreamBindBlock&#123; // blockè°ƒç”¨æ—¶åˆ»ï¼šåªè¦ç»‘å®šä¿¡å·è®¢é˜…å°±ä¼šè°ƒç”¨ã€‚ return ^RACSignal *(id value, BOOL *stop)&#123; // ä¸€èˆ¬åœ¨è¿™ä¸ªblockä¸­åšäº‹ ï¼Œå‘æ•°æ®çš„æ—¶å€™ä¼šæ¥åˆ°è¿™ä¸ªblockã€‚ // åªè¦æºä¿¡å·ï¼ˆsubjectï¼‰å‘é€æ•°æ®ï¼Œå°±ä¼šè°ƒç”¨block // blockä½œç”¨ï¼šå¤„ç†æºä¿¡å·å†…å®¹ // value:æºä¿¡å·å‘é€çš„å†…å®¹ï¼Œ value = @3; // å¦‚æœåœ¨è¿™é‡ŒæŠŠ value çš„å€¼æ”¹äº†ï¼Œé‚£ä¹ˆè®¢é˜…ç»‘å®šä¿¡å·çš„å€¼çš„ x å°±å˜äº† NSLog(@\"æ¥å—åˆ°æºä¿¡å·çš„å†…å®¹ï¼š%@\", value); // è¿”å›ä¿¡å·ï¼Œä¸èƒ½ä¸ºnil,å¦‚æœéè¦è¿”å›ç©º---åˆ™emptyæˆ– alloc initã€‚ return [RACReturnSignal return:value]; // æŠŠè¿”å›çš„å€¼åŒ…è£…æˆä¿¡å· &#125;;&#125;];// 3.è®¢é˜…ç»‘å®šä¿¡å·[bindSignal subscribeNext:^(id x) &#123; NSLog(@\"æ¥æ”¶åˆ°ç»‘å®šä¿¡å·å¤„ç†å®Œçš„ä¿¡å·:%@\", x);&#125;];// 4.å‘é€ä¿¡å·[subject sendNext:@\"123\"]; æ€»ç»“ bindï¼ˆç»‘å®šï¼‰çš„ä½¿ç”¨æ€æƒ³å’Œ Hook çš„ä¸€æ · â€”&gt; éƒ½æ˜¯æ‹¦æˆª API ä»è€Œå¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼Œè€Œå½±å“è¿”å›æ•°æ® RAC-è¿‡æ»¤æœ‰æ—¶å€™æˆ‘ä»¬æƒ³è¦è¿‡æ»¤ä¸€äº›ä¿¡å·ï¼Œè¿™æ—¶å€™æˆ‘ä»¬ä¾¿å¯ä»¥ç”¨ RAC çš„è¿‡æ»¤æ–¹æ³•ã€‚è¿‡æ»¤æ–¹æ³•æœ‰å¥½å¤šç§ï¼Œå¦‚ä¸‹ä»£ç ï¼Œä»ä¸åŒæƒ…å†µä¸‹è¿›è¡Œäº†åˆ†æã€‚ 123456789// è·³è·ƒ ï¼š å¦‚ä¸‹ï¼Œskipä¼ å…¥ 2 è·³è¿‡å‰é¢ä¸¤ä¸ªå€¼// å®é™…ç”¨å¤„ï¼š åœ¨å®é™…å¼€å‘ä¸­æ¯”å¦‚ åå°è¿”å›çš„æ•°æ®å‰é¢å‡ ä¸ªæ²¡ç”¨ï¼Œæˆ‘ä»¬æƒ³è·³è·ƒè¿‡å»ï¼Œä¾¿å¯ä»¥ç”¨skipRACSubject *subject = [RACSubject subject];[[subject skip:2] subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];[subject sendNext:@1];[subject sendNext:@2];[subject sendNext:@3]; 123456789// distinctUntilChanged: -- å¦‚æœå½“å‰çš„å€¼è·Ÿä¸Šä¸€æ¬¡çš„å€¼ä¸€æ ·ï¼Œå°±ä¸ä¼šè¢«è®¢é˜…åˆ°RACSubject *subject = [RACSubject subject];[[subject distinctUntilChanged] subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];// å‘é€ä¿¡å·[subject sendNext:@1];[subject sendNext:@2];[subject sendNext:@2]; // ä¸ä¼šè®¢é˜…åˆ° 123456789// take: å¯ä»¥å±è”½ä¸€äº›å€¼ï¼Œå»æ‰å‰é¢å‡ ä¸ªå€¼---è¿™é‡Œ take ä¸º2 åˆ™åªæ‹¿åˆ°å‰ä¸¤ä¸ªå€¼RACSubject *subject = [RACSubject subject];[[subject take:2] subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];// å‘é€ä¿¡å·[subject sendNext:@1];[subject sendNext:@2];[subject sendNext:@3]; // ä¸ä¼šè®¢é˜…åˆ° 1234567891011//takeLast:å’Œtakeçš„ç”¨æ³•ä¸€æ ·ï¼Œä¸è¿‡ä»–å–çš„æ˜¯æœ€åçš„å‡ ä¸ªå€¼ï¼Œå¦‚ä¸‹ï¼Œåˆ™å–çš„æ˜¯æœ€åä¸¤ä¸ªå€¼//æ³¨æ„ç‚¹:takeLast ä¸€å®šè¦è°ƒç”¨sendCompletedï¼Œå‘Šè¯‰ä»–å‘é€å®Œæˆäº†ï¼Œè¿™æ ·æ‰èƒ½å–åˆ°æœ€åçš„å‡ ä¸ªå€¼RACSubject *subject = [RACSubject subject];[[subject takeLast:2] subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];// å‘é€ä¿¡å·[subject sendNext:@1]; // ä¸ä¼šè®¢é˜…åˆ°[subject sendNext:@2];[subject sendNext:@3];[subject sendCompleted]; 123456789101112// takeUntil: ç»™ takeUntil ä¼ çš„æ˜¯å“ªä¸ªä¿¡å·ï¼Œé‚£ä¹ˆå½“è¿™ä¸ªä¿¡å·å‘é€ä¿¡å·æˆ– sendCompletedï¼Œå°±ä¸èƒ½å†æ¥å—æºä¿¡å·çš„å†…å®¹RACSubject *subject = [RACSubject subject];RACSubject *subject2 = [RACSubject subject];[[subject takeUntil:subject2] subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];// å‘é€ä¿¡å·[subject sendNext:@1];[subject sendNext:@2];[subject2 sendNext:@3]; // 1[subject2 sendCompleted]; // æˆ–2[subject sendNext:@4]; 12345678910111213// ignore: å¿½ç•¥æ‰ä¸€äº›å€¼// ignore:å¿½ç•¥ä¸€äº›å€¼// ignoreValues:è¡¨ç¤ºå¿½ç•¥æ‰€æœ‰çš„å€¼// 1.åˆ›å»ºä¿¡å·RACSubject *subject = [RACSubject subject];// 2.å¿½ç•¥ä¸€äº›å€¼RACSignal *ignoreSignal = [subject ignore:@2]; // ignoreValues:è¡¨ç¤ºå¿½ç•¥æ‰€æœ‰çš„å€¼// 3.è®¢é˜…ä¿¡å·[ignoreSignal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;];// 4.å‘é€æ•°æ®[subject sendNext:@2]; 123456789// ä¸€èˆ¬å’Œæ–‡æœ¬æ¡†ä¸€èµ·ç”¨ï¼Œæ·»åŠ è¿‡æ»¤æ¡ä»¶// åªæœ‰å½“æ–‡æœ¬æ¡†çš„å†…å®¹é•¿åº¦å¤§äº 5ï¼Œæ‰è·å–æ–‡æœ¬æ¡†é‡Œçš„å†…å®¹[[self.textField.rac_textSignal filter:^BOOL(id value) &#123; // value æºä¿¡å·çš„å†…å®¹ return [value length] &gt; 5; // è¿”å›å€¼ å°±æ˜¯è¿‡æ»¤æ¡ä»¶ã€‚åªæœ‰æ»¡è¶³è¿™ä¸ªæ¡ä»¶æ‰èƒ½è·å–åˆ°å†…å®¹&#125;] subscribeNext:^(id x) &#123; NSLog(@\"%@\", x);&#125;]; RAC-æ˜ å°„RACçš„æ˜ å°„åœ¨å®é™…å¼€å‘ä¸­æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿæ¯”å¦‚æˆ‘ä»¬æƒ³è¦æ‹¦æˆªæœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œç»™æ•°æ®æ‹¼æ¥ç‰¹å®šçš„ä¸œè¥¿æˆ–æƒ³å¯¹æ•°æ®è¿›è¡Œæ“ä½œä»è€Œæ›´æ”¹è¿”å›å€¼ï¼Œç±»ä¼¼äºè¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥è€ƒè™‘ç”¨ RAC çš„æ˜ å°„ï¼Œå®ä¾‹ä»£ç å¦‚ä¸‹ 12345678910111213141516- (void)map &#123; // åˆ›å»ºä¿¡å· RACSubject *subject = [RACSubject subject]; // ç»‘å®šä¿¡å· RACSignal *bindSignal = [subject map:^id(id value) &#123; // è¿”å›çš„ç±»å‹å°±æ˜¯ä½ éœ€è¦æ˜ å°„çš„å€¼ // è¿™é‡Œå°†æºä¿¡å·å‘é€çš„â€œ123â€ å‰é¢æ‹¼æ¥äº† wsï¼š return [NSString stringWithFormat:@\"ws:%@\", value]; &#125;]; // è®¢é˜…ç»‘å®šä¿¡å· [bindSignal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); &#125;]; // å‘é€ä¿¡å· [subject sendNext:@\"123\"];&#125; 123456789101112131415161718192021- (void)flatMap &#123; // åˆ›å»ºä¿¡å· RACSubject *subject = [RACSubject subject]; // ç»‘å®šä¿¡å· RACSignal *bindSignal = [subject flattenMap:^RACStream *(id value) &#123; // blockï¼šåªè¦æºä¿¡å·å‘é€å†…å®¹å°±ä¼šè°ƒç”¨ // value: å°±æ˜¯æºä¿¡å·å‘é€çš„å†…å®¹ // è¿”å›ä¿¡å·ç”¨æ¥åŒ…è£…æˆä¿®æ”¹å†…å®¹çš„å€¼ return [RACReturnSignal return:value]; &#125;]; // flattenMap ä¸­è¿”å›çš„æ˜¯ä»€ä¹ˆä¿¡å·ï¼Œè®¢é˜…çš„å°±æ˜¯ä»€ä¹ˆä¿¡å· // (é‚£ä¹ˆ x çš„å€¼ç­‰äº value çš„å€¼ï¼Œå¦‚æœæˆ‘ä»¬æ“çºµ value çš„å€¼é‚£ä¹ˆ x ä¹Ÿä¼šéšä¹‹è€Œå˜) // è®¢é˜…ä¿¡å· [bindSignal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); &#125;]; // å‘é€æ•°æ® [subject sendNext:@\"123\"];&#125; 12345678910111213141516171819202122232425262728293031323334- (void)flattenMap2 &#123; // flattenMap ä¸»è¦ç”¨äºä¿¡å·ä¸­çš„ä¿¡å· // åˆ›å»ºä¿¡å· RACSubject *signalofSignals = [RACSubject subject]; RACSubject *signal = [RACSubject subject]; // è®¢é˜…ä¿¡å· //æ–¹å¼1 [signalofSignals subscribeNext:^(id x) &#123; [x subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); &#125;]; &#125;]; // æ–¹å¼2 [signalofSignals.switchToLatest]; // æ–¹å¼3 RACSignal *bignSignal = [signalofSignals flattenMap:^RACStream *(id value) &#123; //value: å°±æ˜¯æºä¿¡å·å‘é€å†…å®¹ return value; &#125;]; [bignSignal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); &#125;]; // æ–¹å¼4 ä¹Ÿæ˜¯å¼€å‘ä¸­å¸¸ç”¨çš„ [[signalofSignals flattenMap:^RACStream *(id value) &#123; return value; &#125;] subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); &#125;]; // å‘é€ä¿¡å· [signalofSignals sendNext:signal]; [signal sendNext:@\"123\"];&#125; RAC-ç»„åˆæŠŠå¤šä¸ªä¿¡å·èšåˆæˆä½ æƒ³è¦çš„ä¿¡å· ä½¿ç”¨åœºæ™¯ï¼šå½“å¤šä¸ªè¾“å…¥æ¡†éƒ½æœ‰å€¼çš„æ—¶å€™ï¼ŒæŒ‰é’®çŠ¶æ€å¯ç‚¹å‡» 1234567891011121314151617// æŠŠè¾“å…¥æ¡†è¾“å…¥å€¼çš„ä¿¡å·éƒ½èšåˆæˆæŒ‰é’®æ˜¯å¦èƒ½ç‚¹å‡»çš„ä¿¡å·- (void)combineLatest &#123; RACSignal *combinSignal = [RACSignal combineLatest:@[self.accountField.rac_textSignal, self.pwdField.rac_textSignal] reduce:^id(NSString *account, NSString *pwd)&#123; //reduceé‡Œçš„å‚æ•°ä¸€å®šè¦å’ŒcombineLatestæ•°ç»„é‡Œçš„ä¸€ä¸€å¯¹åº”ã€‚ // block: åªè¦æºä¿¡å·å‘é€å†…å®¹ï¼Œå°±ä¼šè°ƒç”¨ï¼Œç»„åˆæˆä¸€ä¸ªæ–°å€¼ã€‚ NSLog(@\"%@ %@\", account, pwd); return @(account.length &amp;&amp; pwd.length); &#125;]; // è®¢é˜…ä¿¡å· [combinSignal subscribeNext:^(id x) &#123; self.loginBtn.enabled = [x boolValue]; &#125;]; // è¿™æ ·å†™æœ‰äº›éº»çƒ¦ï¼Œå¯ä»¥ç›´æ¥ç”¨RACå® RAC(self.loginBtn, enabled) = combinSignal;&#125; 123456789101112131415161718192021- (void)zipWith &#123; // zipWith:æŠŠä¸¤ä¸ªä¿¡å·å‹ç¼©æˆä¸€ä¸ªä¿¡å·ï¼Œåªæœ‰å½“ä¸¤ä¸ªä¿¡å·åŒæ—¶å‘å‡ºä¿¡å·å†…å®¹æ—¶ // å¹¶ä¸”æŠŠä¸¤ä¸ªä¿¡å·çš„å†…å®¹åˆå¹¶æˆä¸€ä¸ªå…ƒç¥–ï¼Œæ‰ä¼šè§¦å‘å‹ç¼©æµçš„nextäº‹ä»¶ã€‚ // åˆ›å»ºä¿¡å·A RACSubject *signalA = [RACSubject subject]; // åˆ›å»ºä¿¡å·B RACSubject *signalB = [RACSubject subject]; // å‹ç¼©æˆä¸€ä¸ªä¿¡å· // **-zipWith-**: å½“ä¸€ä¸ªç•Œé¢å¤šä¸ªè¯·æ±‚çš„æ—¶å€™ï¼Œè¦ç­‰æ‰€æœ‰è¯·æ±‚å®Œæˆæ‰æ›´æ–°UI // ç­‰æ‰€æœ‰ä¿¡å·éƒ½å‘é€å†…å®¹çš„æ—¶å€™æ‰ä¼šè°ƒç”¨ RACSignal *zipSignal = [signalA zipWith:signalB]; [zipSignal subscribeNext:^(id x) &#123; //æ‰€æœ‰çš„å€¼éƒ½è¢«åŒ…è£…æˆäº†å…ƒç»„ NSLog(@\"%@\", x); &#125;]; // å‘é€ä¿¡å· äº¤äº’é¡ºåºï¼Œå…ƒç»„å†…å…ƒç´ çš„é¡ºåºä¸ä¼šå˜ï¼Œè·Ÿå‘é€çš„é¡ºåºæ— å…³ï¼Œ // è€Œæ˜¯è·Ÿå‹ç¼©çš„é¡ºåºæœ‰å…³ [signalA zipWith:signalB] --- å…ˆæ˜¯ A åæ˜¯ B [signalA sendNext:@1]; [signalB sendNext:@2];&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071// ä»»ä½•ä¸€ä¸ªä¿¡å·è¯·æ±‚å®Œæˆéƒ½ä¼šè¢«è®¢é˜…åˆ°// merge: å¤šä¸ªä¿¡å·åˆå¹¶æˆä¸€ä¸ªä¿¡å·ï¼Œä»»ä½•ä¸€ä¸ªä¿¡å·æœ‰æ–°å€¼å°±ä¼šè°ƒç”¨- (void)merge &#123; // åˆ›å»ºä¿¡å·A RACSubject *signalA = [RACSubject subject]; // åˆ›å»ºä¿¡å·B RACSubject *signalB = [RACSubject subject]; // ç»„åˆä¿¡å· RACSignal *mergeSignal = [signalA merge:signalB]; // è®¢é˜…ä¿¡å· [mergeSignal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); &#125;]; // å‘é€ä¿¡å·---äº¤æ¢ä½ç½®åˆ™æ•°æ®ç»“æœé¡ºåºä¹Ÿä¼šäº¤æ¢ [signalB sendNext:@\"ä¸‹éƒ¨åˆ†\"]; [signalA sendNext:@\"ä¸Šéƒ¨åˆ†\"];&#125;// then ä½¿ç”¨éœ€æ±‚ï¼šæœ‰ä¸¤éƒ¨åˆ†æ•°æ®ï¼šæƒ³è®©ä¸Šéƒ¨åˆ†å…ˆè¿›è¡Œç½‘ç»œè¯·æ±‚ä½†æ˜¯è¿‡æ»¤æ‰æ•°æ®ï¼Œç„¶åè¿›è¡Œä¸‹éƒ¨åˆ†çš„ï¼Œæ‹¿åˆ°ä¸‹éƒ¨åˆ†æ•°æ®- (void)then &#123; // åˆ›å»ºä¿¡å·A RACSignal *signalA = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; // å‘é€è¯·æ±‚ [subscriber sendNext:@\"ä¸Šéƒ¨åˆ†æ•°æ®\"]; [subscriber sendCompleted]; // å¿…é¡»è¦è°ƒç”¨sendCompletedæ–¹æ³•ï¼ return nil; &#125;]; // åˆ›å»ºä¿¡å·B RACSignal *signalsB = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; // å‘é€è¯·æ±‚ [subscriber sendNext:@\"ä¸‹éƒ¨åˆ†æ•°æ®\"]; return nil; &#125;]; // åˆ›å»ºç»„åˆä¿¡å· // then;å¿½ç•¥æ‰ç¬¬ä¸€ä¸ªä¿¡å·çš„æ‰€æœ‰å€¼ RACSignal *thenSignal = [signalA then:^RACSignal *&#123; // è¿”å›çš„ä¿¡å·å°±æ˜¯è¦ç»„åˆçš„ä¿¡å· return signalsB; &#125;]; // è®¢é˜…ä¿¡å· [thenSignal subscribeNext:^(id x) &#123; NSLog(@\"%@\", x); &#125;];&#125;// concat ä½¿ç”¨éœ€æ±‚ï¼šæœ‰ä¸¤éƒ¨åˆ†æ•°æ®ï¼šæƒ³è®©ä¸Šéƒ¨åˆ†å…ˆæ‰§è¡Œï¼Œå®Œäº†ä¹‹åå†è®©ä¸‹éƒ¨åˆ†æ‰§è¡Œï¼ˆéƒ½å¯è·å–å€¼ï¼‰- (void)concat &#123; // åˆ›å»ºä¿¡å·A RACSignal *signalA = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; // å‘é€è¯·æ±‚ [subscriber sendNext:@\"ä¸Šéƒ¨åˆ†æ•°æ®\"]; [subscriber sendCompleted]; // å¿…é¡»è¦è°ƒç”¨sendCompletedæ–¹æ³•ï¼ return nil; &#125;]; // åˆ›å»ºä¿¡å·B RACSignal *signalsB = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) &#123; // å‘é€è¯·æ±‚ [subscriber sendNext:@\"ä¸‹éƒ¨åˆ†æ•°æ®\"]; return nil; &#125;]; // concat: æŒ‰é¡ºåºå»é“¾æ¥ //**-æ³¨æ„-**ï¼šconcatï¼Œç¬¬ä¸€ä¸ªä¿¡å·å¿…é¡»è¦è°ƒç”¨sendCompleted // åˆ›å»ºç»„åˆä¿¡å· RACSignal *concatSignal = [signalA concat:signalsB]; // è®¢é˜…ç»„åˆä¿¡å· [concatSignal subscribeNext:^(id x) &#123; NSLog(@\"%@\",x); &#125;];&#125; ç©¶å…¶æœ¬è´¨æ ¸å¿ƒå°±æ˜¯å„ç§ signalsï¼Œä¹Ÿå°±æ˜¯bindï¼ˆç»‘å®šï¼‰ï¼Œå¤„ç†ç›¸å…³äº‹ç‰©çš„æ—¶å€™é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ç»‘å®šï¼ŒåŸºæœ¬å¤§å¤šæ•°æ“ä½œä¹Ÿéƒ½æ˜¯å›´ç»•ç€ä¿¡å·è¿›è¡Œçš„ï¼Œä»¥ä¸Šä¸ä»…ä»…æ˜¯ RAC çš„åŸºæœ¬ç”¨æ³•ï¼Œåœ¨ MVVM ä¸­ä¹Ÿæ˜¯åŒæ ·é€‚ç”¨ï¼Œåªæ˜¯æŠŠä¸šåŠ¡å’Œé€»è¾‘é€šè¿‡ ViewModel åˆ†ç¦»è§£è€¦ï¼Œæ›´å¤§ç¨‹åº¦çš„åˆ©ç”¨äº† RAC åœ¨å¼€å‘ä¸­çš„é«˜æ•ˆä¼˜åŠ¿ã€‚ å‚è€ƒé“¾æ¥ å‡½æ•°å“åº”å¼ç¼–ç¨‹(FRP)ä»å…¥é—¨åˆ°â€æ”¾å¼ƒâ€ iOSä½¿ç”¨RACå®ç°MVVMçš„æ­£ç»å§¿åŠ¿ ã€çŠ¶æ€ã€é©±åŠ¨çš„ä¸–ç•Œï¼šReactiveCocoa ç³»åˆ— ReactiveCocoaå­¦ä¹ æ€»ç»“","categories":[{"name":"rac","slug":"rac","permalink":"https://blog.yuhanle.com/categories/rac/"}],"tags":[{"name":"rac","slug":"rac","permalink":"https://blog.yuhanle.com/tags/rac/"}]},{"title":"ä»£ç ä¸­çš„ç¼©è¿›çº¿","slug":"line-of-sight-in-code","date":"2018-04-24T01:00:00.000Z","updated":"2021-10-21T08:18:48.338Z","comments":true,"path":"2018/04/24/line-of-sight-in-code/","link":"","permalink":"https://blog.yuhanle.com/2018/04/24/line-of-sight-in-code/","excerpt":"åœ¨è¿‘æœŸä¼¦æ•¦ä¸¾è¡Œçš„ Golang è‹±å›½ä¼šè®® ä¸Šï¼Œæˆ‘åœ¨åœ°é“çš„Go è¯­è¨€çªé—¨ äº¤æµï¼ˆå¹»ç¯ç‰‡ï¼‰ä¸­è®²åˆ°å…³äºä»£ç ä¸­çš„ç¼©è¿›çº¿ï¼Œ æˆ‘æƒ³åœ¨è¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹ã€‚","text":"åœ¨è¿‘æœŸä¼¦æ•¦ä¸¾è¡Œçš„ Golang è‹±å›½ä¼šè®® ä¸Šï¼Œæˆ‘åœ¨åœ°é“çš„Go è¯­è¨€çªé—¨ äº¤æµï¼ˆå¹»ç¯ç‰‡ï¼‰ä¸­è®²åˆ°å…³äºä»£ç ä¸­çš„ç¼©è¿›çº¿ï¼Œ æˆ‘æƒ³åœ¨è¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹ã€‚ ç¼©è¿›çº¿æ˜¯â€œè§‚å¯Ÿè€…æ— éšœç¢è§†çº¿çš„ç›´çº¿â€ è‰¯å¥½çš„ä»£ç ç¼©è¿›çº¿ä¸ä»…å¯¹ä½ çš„åŠŸèƒ½æ²¡æœ‰ä»»ä½•å½±å“ï¼Œè¿˜å¯ä»¥å¸®åŠ©å…¶ä»–éœ€è¦çš„äººé˜…è¯»ä½ çš„ä»£ç ã€‚å…¶ä»–ç¨‹åºå‘˜ï¼ˆåŒ…æ‹¬ä½ æœªæ¥çš„è‡ªå·±ï¼‰å¯ä»¥æµè§ˆä¸€ä¸ªä¸“æ å¹¶ä¸”ç†è§£ä»£ç çš„é¢„æœŸæµç¨‹ã€‚å¦‚æœä»–ä»¬ä¸å¾—ä¸åœ¨è„‘å­é‡Œåˆ†æ if è¯­å¥ï¼Œè‹¥æ²¡æœ‰è‰¯å¥½çš„ç¼©è¿›çº¿ï¼Œå°†ä¼šä½¿è¿™ä¸ªä»»åŠ¡å˜å¾—éå¸¸è‰°éš¾ã€‚ å¤§å¤šæ•°äººå…³æ³¨ç¼–å†™ä»£ç çš„ä»£ä»·ï¼ˆæ¯”å¦‚â€œè¿™éœ€è¦å¤šé•¿æ—¶é—´æ‰èƒ½å®Œæˆï¼Ÿâ€ï¼‰ä½†æ˜¯ç»´æŠ¤ä»£ç çš„æˆæœ¬è¦é«˜å¾—å¤š - ç‰¹åˆ«æ˜¯åœ¨æˆç†Ÿçš„é¡¹ç›®ä¸­ã€‚ è®©åŠŸèƒ½æ˜æ˜¾ï¼Œæ¸…æ™°ï¼Œç®€å•æ˜“æ‡‚æ‰æ˜¯è‡³å…³é‡è¦çš„ã€‚ è‰¯å¥½ç¼©è¿›çº¿çš„å»ºè®®ï¼š è®©å¿«ä¹è·¯å¾„å±…å·¦ä¾§å¯¹é½ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¿«é€Ÿæ‰«æä¸€åˆ—æ¥æŸ¥çœ‹é¢„æœŸçš„æ‰§è¡Œæµç¨‹ ä¸è¦éšè—ç¼©è¿›å¤§æ‹¬å·ä¸­ä»£ç é€»è¾‘ å°½æ—©çš„é€€å‡º function é¿å… else returnï¼Œè€ƒè™‘ç¿»è½¬ if è¯­å¥ æŠŠ return å£°æ˜ä½œä¸ºæœ€åä¸€è¡Œ æå– function å’Œ method ä»¥ä¿æŒç»“æ„å°å·§å’Œå¯è¯» å¦‚æœä½ éœ€è¦å¤§ç¼©è¿›çš„ä»£ç ï¼Œè€ƒè™‘å½“åšä¸€ä¸ª function åˆ†è§£å‡ºæ¥ å½“ç„¶ï¼Œä¼šæœ‰å¾ˆå¤šå¾ˆå¥½çš„ç†ç”±æ¥æ‰“ç ´æ‰€æœ‰è¿™äº›è§„åˆ™ - ä½†æ˜¯é‡‡ç”¨è¿™ç§é£æ ¼ä½œä¸ºé»˜è®¤è§„åˆ™ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„ä»£ç å˜å¾—æ›´å…·å¯è¯»æ€§ã€‚ é¿å… else returnç¼–å†™å…·æœ‰è‰¯å¥½è§†è§‰æ•ˆæœçš„ä»£ç çš„å…³é”®æ˜¯ä¿æŒ else ç»“æ„å°å·§ï¼Œæˆ–è€…å¦‚æœå¯ä»¥çš„è¯ï¼Œå®Œå…¨é¿å…å®ƒä»¬ã€‚ çœ‹ä¸‹è¿™ä¸ªä»£ç ï¼š 123456789101112131415161718if something.OK() &#123; something.Lock() defer something.Unlock() err := something.Do() if err == nil &#123; stop := StartTimer() defer stop() log.Println(&quot;working...&quot;) doWork(something) &lt;-something.Done() // wait for it log.Println(&quot;finished&quot;) return nil &#125; else &#123; return err &#125;&#125; else &#123; return errors.New(&quot;something not ok&quot;)&#125; è¿™ä»£è¡¨äº†æˆ‘ä»¬æœ€åˆå¦‚ä½•æ€è€ƒæˆ‘ä»¬çš„åŠŸèƒ½åœ¨åšä»€ä¹ˆï¼ˆâ€œå¦‚æœæŸä»¶äº‹æƒ…æ²¡é—®é¢˜ï¼Œé‚£ä¹ˆå°±åšï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œé‚£ä¹ˆåšè¿™äº›äº‹æƒ…â€ç­‰ç­‰ï¼‰ï¼Œä½†æ˜¯å®ƒå˜å¾—å¾ˆéš¾éµå¾ªã€‚ ä¸Šé¢çš„ä»£ç å¾ˆéš¾éµå¾ªâ€™å¿«ä¹è·¯å¾„â€™ï¼ˆæ‰§è¡Œé¡ºåˆ©è¿›è¡Œçš„è·¯çº¿ï¼‰ã€‚å®ƒåœ¨ç¬¬äºŒè¡Œå¼€å§‹ç¼©è¿›å¹¶ä»é‚£é‡Œç»§ç»­ã€‚ å½“æˆ‘ä»¬æ£€æŸ¥æ¥è‡ª something.Do() çš„é”™è¯¯è¿”å›æ—¶ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥ç¼©è¿›ã€‚ äº‹å®ä¸Šï¼Œè¯­å¥â€œ return nil â€åœ¨ä»£ç ä¸­é—´å®Œå…¨ä¸¢å¤±ã€‚ else ç»“æ„åœ¨ Go å’Œå…¶ä»–è¯­è¨€ä¸­ä½œä¸ºå•ä¸€è¡Œè¿”å›å¾ˆå¸¸è§ï¼Œå› ä¸ºå®ƒä»¬è¦å¤„ç†ä¸­æ­¢æˆ–é€€å‡ºå‡½æ•°ã€‚ æˆ‘è®¤ä¸ºä»–ä»¬ä¸èƒ½ä¿è¯ç¼©è¿›æˆ‘ä»¬çš„å…¶ä»–ä»£ç ã€‚ ç¿»è½¬ if è¯­å¥å¦‚æœæˆ‘ä»¬è¦ç¿»è¯‘ if è¯­å¥ï¼ˆå¦‚æœä½ å–œæ¬¢ ï¼Œ å°±æŠŠå®ƒä»¬ç¿»è¿‡æ¥ï¼‰ ï¼Œä½ å¯ä»¥çœ‹åˆ°ä»£ç å˜å¾—æ›´åŠ å¯è¯»ï¼š 123456789101112131415161718if !something.OK() &#123; // flipped return errors.New(&quot;something not ok&quot;)&#125;something.Lock()defer something.Unlock()err := something.Do()if err != nil &#123; // flipped return err&#125;stop := StartTimer()defer stop()log.Println(&quot;working...&quot;)doWork(something)&lt;-something.Done() // wait for itlog.Println(&quot;finished&quot;)return nil åœ¨æ­¤ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨å°½æ—©é€€å‡ºï¼Œé€€å‡ºä»£ç ä¸æ­£å¸¸ä»£ç ä¸åŒã€‚è€Œä¸”ï¼Œ å¿«ä¹è·¯å¾„æ²¿ç€å·¦ä¾§å‘ä¸‹ä¿æŒï¼Œ æˆ‘ä»¬ç¼©è¿›åªæ˜¯ä¸ºäº†å¤„ç†é”™è¯¯å’Œè¾¹ç¼˜æƒ…å†µï¼Œ æˆ‘ä»¬çš„ retutn å£°æ˜â€œ return nil â€åœ¨æœ€åä¸€è¡Œï¼Œå¹¶ä¸”ï¼Œ æˆ‘ä»¬æœ‰æ›´å°‘çš„ç¼©è¿›ä»£ç å—ã€‚ ä¿ƒè¿›å¤§å‹æ¡ä»¶å—çš„åŠŸèƒ½å¦‚æœä½ ä¸èƒ½é¿å…ä¸€ä¸ªç¬¨é‡çš„ else ç»“æ„æˆ–è‡ƒè‚¿çš„é€‰æ‹©åˆ‡æ¢çš„æƒ…å†µï¼ˆæˆ‘æ˜ç™½äº†ï¼Œæœ‰æ—¶å€™ä½ ä¸èƒ½ï¼‰ï¼Œé‚£ä¹ˆå°±è€ƒè™‘æŠŠæ¯ä¸ªç»“æ„åˆ†è§£æˆå®ƒè‡ªå·±çš„åŠŸèƒ½ï¼š 123456789101112func processValue(v interface&#123;&#125;) error &#123; switch val := v.(type) &#123; case string: return processString(val) case int: return processInt(val) case bool: return processBool(val) default: return fmt.Errorf(&quot;unsupported type %T&quot;, v) &#125;&#125; è¿™æ¯”è¯»å–å¤§é‡çš„å¤„ç†ä»£ç æ›´å®¹æ˜“é˜…è¯»ã€‚ åˆ†äº«ä½ çš„ç»éªŒå¦‚æœä½ åŒæ„æˆ‘çš„è§‚ç‚¹ï¼Œè¯·è€ƒè™‘åˆ†äº«è¿™ç¯‡æ–‡ç«  - éšç€è¶Šæ¥è¶Šå¤šçš„äººæ³¨å†Œï¼Œæ›´å¥½çš„ï¼ˆæ›´ä¸€è‡´çš„ï¼‰Go ä»£ç å°†ä¼šå‡ºç°ã€‚ ä½ æœ‰ä¸€äº›éš¾ä»¥é˜…è¯»çš„ä»£ç å—ï¼Ÿ ä¸ºä»€ä¹ˆä¸åœ¨ Twitter @matryer ä¸Šåˆ†äº«å®ƒï¼Œå¯ä»¥çœ‹çœ‹æˆ‘ä»¬æ˜¯å¦å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªæ›´æ¸…æ´ï¼Œæ›´ç®€å•çš„ç‰ˆæœ¬ã€‚ è‡´è°¢â€¦è¯„è®ºå®¶æˆ´å¤«åˆ‡å°¼ ï¼Œ å¤§å«åŸƒå°”å—å¾·æ–¯å’Œå¨å»‰è‚¯å°¼è¿ª ã€‚ via: https://medium.com/@matryer/line-of-sight-in-code-186dd7cdea88 ä½œè€…ï¼šMat Ryer è¯‘è€…ï¼šyuhanle æ ¡å¯¹ï¼špolaris1119 æœ¬æ–‡ç”± GCTT åŸåˆ›ç¼–è¯‘ï¼ŒGoè¯­è¨€ä¸­æ–‡ç½‘ è£èª‰æ¨å‡º æœ¬æ–‡ç”± GCTT åŸåˆ›ç¿»è¯‘ï¼ŒGoè¯­è¨€ä¸­æ–‡ç½‘ é¦–å‘ã€‚ä¹Ÿæƒ³åŠ å…¥è¯‘è€…è¡Œåˆ—ï¼Œä¸ºå¼€æºåšä¸€äº›è‡ªå·±çš„è´¡çŒ®ä¹ˆï¼Ÿæ¬¢è¿åŠ å…¥ GCTTï¼ç¿»è¯‘å·¥ä½œå’Œè¯‘æ–‡å‘è¡¨ä»…ç”¨äºå­¦ä¹ å’Œäº¤æµç›®çš„ï¼Œç¿»è¯‘å·¥ä½œéµç…§ CC-BY-NC-SA åè®®è§„å®šï¼Œå¦‚æœæˆ‘ä»¬çš„å·¥ä½œæœ‰ä¾µçŠ¯åˆ°æ‚¨çš„æƒç›Šï¼Œè¯·åŠæ—¶è”ç³»æˆ‘ä»¬ã€‚æ¬¢è¿éµç…§ CC-BY-NC-SA åè®®è§„å®š è½¬è½½ï¼Œæ•¬è¯·åœ¨æ­£æ–‡ä¸­æ ‡æ³¨å¹¶ä¿ç•™åŸæ–‡/è¯‘æ–‡é“¾æ¥å’Œä½œè€…/è¯‘è€…ç­‰ä¿¡æ¯ã€‚æ–‡ç« ä»…ä»£è¡¨ä½œè€…çš„çŸ¥è¯†å’Œçœ‹æ³•ï¼Œå¦‚æœ‰ä¸åŒè§‚ç‚¹ï¼Œè¯·æ¥¼ä¸‹æ’é˜Ÿåæ§½","categories":[{"name":"Translate","slug":"Translate","permalink":"https://blog.yuhanle.com/categories/Translate/"},{"name":"Go","slug":"Translate/Go","permalink":"https://blog.yuhanle.com/categories/Translate/Go/"}],"tags":[{"name":"Translate","slug":"Translate","permalink":"https://blog.yuhanle.com/tags/Translate/"},{"name":"Go","slug":"Go","permalink":"https://blog.yuhanle.com/tags/Go/"}]},{"title":"Go å®ç°å¯¹ HTTP å¯¹è±¡çš„æŸ¥æ‰¾","slug":"seeking-around-in-an-http-object","date":"2018-02-24T01:00:00.000Z","updated":"2021-10-21T08:18:48.340Z","comments":true,"path":"2018/02/24/seeking-around-in-an-http-object/","link":"","permalink":"https://blog.yuhanle.com/2018/02/24/seeking-around-in-an-http-object/","excerpt":"å·²å‘å¸ƒï¼šhttps://studygolang.com/articles/12638 Go å®ç°å¯¹ HTTP å¯¹è±¡çš„æŸ¥æ‰¾æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ HTTP æœåŠ¡å™¨ä¸Šæœ‰ä¸€ä¸ªå·¨å¤§çš„ ZIP æ–‡ä»¶ï¼Œä½ æƒ³çŸ¥é“é‡Œé¢çš„å†…å®¹ã€‚ä½ ä¸çŸ¥é“å‹ç¼©åŒ…å†…æ˜¯å¦æœ‰ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œè€Œä¸”ä½ ä¸æƒ³ä¸‹è½½æ•´ä¸ªæ–‡ä»¶ã€‚æ˜¯å¦å¯ä»¥åƒæ‰§è¡Œ unzip -l https://example.com/giant.zip çš„æ“ä½œæ¥æŸ¥çœ‹å‹ç¼©åŒ…çš„å†…å®¹å‘¢ï¼Ÿ è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªä¸ºäº†ç”¨ Go å±•ç¤ºæŸäº›çŸ¥è¯†çš„ç†è®ºé—®é¢˜ã€‚å®é™…ä¸Šï¼Œæˆ‘ä¹Ÿä¸æƒ³å†™ä¸€ç¯‡æ–‡ç« ï¼Œé™¤äº†æˆ‘æƒ³é€šè¿‡é‚£äº›å‹ç¼©æ–‡ä»¶äº†è§£å¦‚ä½•ä» ç¾å›½ä¸“åˆ©å’Œå•†æ ‡å±€ï¼ˆUSPTOï¼‰ ä¸‹è½½å¤§é‡ä¸“åˆ©ã€‚æˆ–è€…ï¼Œæˆ‘è®¤ä¸ºï¼Œèƒ½å¤Ÿä»è¿™äº› tar æ–‡ä»¶ä¸­è·å– 1790 å¹´å‘å¸ƒçš„ä¸€äº›ä¸“åˆ©å›¾åƒ æœ‰å¤šé…·ï¼Ÿ å»çœ‹çœ‹ã€‚é‚£é‡Œæœ‰æ•°ç™¾ä¸ªå·¨å¤§çš„ ZIP å’Œ tarfiles å€¼å¾—æ¢ç´¢ï¼","text":"å·²å‘å¸ƒï¼šhttps://studygolang.com/articles/12638 Go å®ç°å¯¹ HTTP å¯¹è±¡çš„æŸ¥æ‰¾æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ HTTP æœåŠ¡å™¨ä¸Šæœ‰ä¸€ä¸ªå·¨å¤§çš„ ZIP æ–‡ä»¶ï¼Œä½ æƒ³çŸ¥é“é‡Œé¢çš„å†…å®¹ã€‚ä½ ä¸çŸ¥é“å‹ç¼©åŒ…å†…æ˜¯å¦æœ‰ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œè€Œä¸”ä½ ä¸æƒ³ä¸‹è½½æ•´ä¸ªæ–‡ä»¶ã€‚æ˜¯å¦å¯ä»¥åƒæ‰§è¡Œ unzip -l https://example.com/giant.zip çš„æ“ä½œæ¥æŸ¥çœ‹å‹ç¼©åŒ…çš„å†…å®¹å‘¢ï¼Ÿ è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªä¸ºäº†ç”¨ Go å±•ç¤ºæŸäº›çŸ¥è¯†çš„ç†è®ºé—®é¢˜ã€‚å®é™…ä¸Šï¼Œæˆ‘ä¹Ÿä¸æƒ³å†™ä¸€ç¯‡æ–‡ç« ï¼Œé™¤äº†æˆ‘æƒ³é€šè¿‡é‚£äº›å‹ç¼©æ–‡ä»¶äº†è§£å¦‚ä½•ä» ç¾å›½ä¸“åˆ©å’Œå•†æ ‡å±€ï¼ˆUSPTOï¼‰ ä¸‹è½½å¤§é‡ä¸“åˆ©ã€‚æˆ–è€…ï¼Œæˆ‘è®¤ä¸ºï¼Œèƒ½å¤Ÿä»è¿™äº› tar æ–‡ä»¶ä¸­è·å– 1790 å¹´å‘å¸ƒçš„ä¸€äº›ä¸“åˆ©å›¾åƒ æœ‰å¤šé…·ï¼Ÿ å»çœ‹çœ‹ã€‚é‚£é‡Œæœ‰æ•°ç™¾ä¸ªå·¨å¤§çš„ ZIP å’Œ tarfiles å€¼å¾—æ¢ç´¢ï¼ åœ¨ ZIP æ–‡ä»¶ä¸­æœ€åçš„ä½ç½®ï¼Œæœ‰ä¸€ä¸ªç›®å½•ã€‚å› æ­¤åœ¨æœ¬åœ°ç£ç›˜ä¸Šï¼Œâ€œunzip -lâ€ å°±åƒâ€œå¯»æ±‚æœ€ç»ˆç»“æœï¼Œæ‰¾åˆ° TOCï¼Œè§£æå¹¶æ‰“å°å®ƒâ€ä¸€æ ·ç®€å•ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ Go æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Œå› ä¸ºåœ¨ zip.NewReader å‡½æ•° éœ€è¦ä¼ å…¥ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ã€‚è‡³äº TAR æ–‡ä»¶ï¼Œå®ƒä»¬è¢«è®¾è®¡ç”¨äºç£å¸¦æµå¼ä¼ è¾“å’Œå†…å­˜ç¨€å°‘çš„æ—¶å€™ï¼Œå› æ­¤å®ƒä»¬çš„ç›®å½•åœ¨æ–‡ä»¶æœ¬èº«ä¹‹é—´äº¤é”™æ’åˆ—ã€‚ ä½†æˆ‘ä»¬ä¸åœ¨æœ¬åœ°ï¼Œè¦ä» URL ä¸­è¯»å–å†…å®¹å¯¹æˆ‘ä»¬æ¥è¯´å¾ˆæœ‰æŒ‘æˆ˜ã€‚è¯¥æ€ä¹ˆåŠï¼Ÿä»å“ªé‡Œå¼€å§‹ï¼Ÿ æˆ‘ä»¬æœ‰å‡ ä»¶äº‹éœ€è¦è€ƒè™‘ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥è§„åˆ’æ¥ä¸‹æ¥çš„æ–¹å‘ã€‚å¯»æ‰¾å’Œè¯»å– HTTP æ–‡ä»¶ä¹Ÿå°±æ˜¯è¦æ‰¾åˆ°å’Œè¯»å– Range æ ‡å¤´ã€‚é‚£ä¹ˆï¼ŒUSPTO æœåŠ¡å™¨æ˜¯å¦æ”¯æŒ Range å¤´å‘¢ï¼Ÿè¿™å¾ˆå®¹æ˜“æ£€æŸ¥ï¼Œä½¿ç”¨ curl å’Œ HTTP HEAD è¯·æ±‚ï¼š 12345678910$ curl -I https://bulkdata.uspto.gov/data/patent/officialgazette/2017/e-OG20170103_1434-1.zipHTTP/1.1 200 OKDate: Mon, 11 Dec 2017 21:10:26 GMTServer: ApacheLast-Modified: Tue, 03 Jan 2017 11:58:45 GMTETag: \"afb8ac8-5452f63e0a82f\"Accept-Ranges: bytesContent-Length: 184257224X-Frame-Options: DENYContent-Type: application/zip è¯·æ³¨æ„é‚£é‡Œçš„ â€œAccept-Rangesâ€ æ ‡å¤´ï¼Œå®ƒè¡¨ç¤ºæˆ‘ä»¬å¯ä»¥å‘å®ƒå‘é€å­—èŠ‚èŒƒå›´ã€‚Range å¤´å…è®¸æ‚¨åƒéšæœºè®¿é—®è¯»å–æ“ä½œç³»ç»Ÿçš„ä¸€æ ·æ“ä½œ HTTPã€‚ï¼ˆä¾‹å¦‚ io.ReaderAt æ¥å£ï¼‰ å› æ­¤ç†è®ºä¸Šå¯ä»¥é€‰æ‹©ä» Web æœåŠ¡å™¨ä¸‹è½½å…¶ä¸­åŒ…å«å…ƒæ•°æ®ï¼ˆç›®å½•ï¼‰çš„æ–‡ä»¶éƒ¨åˆ†æ¥å†³å®šä¸‹è½½å“ªäº›å­—èŠ‚ã€‚ ç°åœ¨æˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ªå¤„ç† ZIP æ–‡ä»¶æ ¼å¼çš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨å…·æœ‰ Range å¤´éƒ¨çš„ HTTP çš„ GET è¯·æ±‚ï¼Œåªè¯»å–å…ƒæ•°æ®çš„æ–¹å¼ï¼Œå®ç°æ›¿æ¢â€œè¯»å–ä¸‹ä¸€ä¸ªç›®å½•å¤´æ–‡ä»¶â€çš„æŸä¸ªéƒ¨åˆ†ã€‚è¿™å°±æ˜¯ Go çš„ archive/zip å’Œ archive/tar åŒ…çš„å®ç°ï¼ æ­£å¦‚æˆ‘ä»¬å‰é¢æ‰€è¯´ï¼Œzip.NewReader æ­£åœ¨ç¢ç£¨ä»€ä¹ˆä½ç½®å¼€å§‹æŸ¥æ‰¾ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬çœ‹çœ‹ TAR æ—¶ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé—®é¢˜ã€‚tar.NewReader æ–¹æ³•éœ€è¦ä¸€ä¸ª io.Readerã€‚io.Reader çš„é—®é¢˜åœ¨äºï¼Œå®ƒä¸ä¼šè®©æˆ‘ä»¬éšæœºè®¿é—®èµ„æºï¼Œå°±åƒio.ReaderAt ä¸€æ ·ã€‚å®ƒæ˜¯è¿™æ ·å®ç°çš„ï¼Œå› ä¸ºå®ƒä½¿ tar åŒ…æ›´å…·é€‚åº”æ€§ã€‚ç‰¹åˆ«æ˜¯ï¼Œæ‚¨å¯ä»¥å°† Go tar åŒ…ç›´æ¥æŒ‚æ¥åˆ° compress/gzip åŒ…å¹¶è¯»å– tar.gz æ–‡ä»¶ - åªè¦æ‚¨æŒ‰é¡ºåºè¯»å–å®ƒä»¬ï¼Œè€Œä¸æ˜¯åƒæˆ‘ä»¬å¸Œæœ›çš„é‚£æ ·è·³è¿‡ã€‚ é‚£ä¹ˆè¯¥æ€ä¹ˆåŠï¼Ÿä½¿ç”¨æºç ã€‚ç¯é¡¾å››å‘¨ï¼Œæ‰¾æ‰¾ä¸‹ä¸€ä¸ªæ–¹æ³•ã€‚è¿™å°±æ˜¯æˆ‘ä»¬æœŸæœ›å®ƒèƒ½å¤Ÿæ‰¾åˆ°ä¸‹ä¸€ä¸ªå…ƒæ•°æ®çš„åœ°æ–¹ã€‚åœ¨å‡ è¡Œä»£ç å†…ï¼Œå¯¹äº skipUnread å‡½æ•°ï¼Œ æˆ‘ä»¬å‘ç°ä¸€ä¸ªæœ‰è¶£çš„è°ƒç”¨ã€‚åœ¨é‚£é‡Œï¼Œæˆ‘ä»¬å‘ç°ä¸€äº›éå¸¸æœ‰è¶£çš„ä¸œè¥¿ï¼š 12345678910111213// skipUnread skips any unread bytes in the existing file entry, as well as any alignment padding.func (tr *Reader) skipUnread() &#123; nr := tr.numBytes() + tr.pad // number of bytes to skip tr.curr, tr.pad = nil, 0 if sr, ok := tr.r.(io.Seeker); ok &#123; if _, err := sr.Seek(nr, os.SEEK_CUR); err == nil &#123; return &#125; &#125; _, tr.err = io.CopyN(ioutil.Discard, tr.r, nr)&#125;// Note: This is from Go 1.4, which had a simpler skipUnread than go 1.9 does. è¿™é‡Œè¡¨ç¤ºï¼šâ€å¦‚æœ io.Reader å®é™…ä¸Šä¹Ÿèƒ½å¤Ÿæœç´¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸æ˜¯ç›´æ¥è¯»å–å’Œä¸¢å¼ƒï¼Œè€Œæ˜¯ç›´æ¥æ‰¾åˆ°æ­£ç¡®çš„åœ°æ–¹ã€‚â€œæ‰¾åˆ°äº†ï¼æˆ‘ä»¬åªéœ€è¦å°† tar æ–‡ä»¶ä¼ ç»™ io.Readerã€‚NewReader ä¹Ÿæ»¡è¶³ io.Seekerçš„åŠŸèƒ½ï¼ˆå› æ­¤ï¼Œå®ƒæ˜¯ä¸€ä¸ªio.ReadSeekerï¼‰ã€‚ æ‰€ä»¥ï¼Œç°åœ¨è¯·æŸ¥çœ‹åŒ… github.com/jeffallen/seekinghttpï¼Œå°±åƒå®ƒçš„åå­—æ‰€æš—ç¤ºçš„é‚£æ ·ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºåœ¨ HTTP å¯¹è±¡ï¼ˆGithub ä¸Šçš„æºä»£ç  ä¸­æŸ¥æ‰¾çš„è½¯ä»¶åŒ…ã€‚ è¿™ä¸ªè½¯ä»¶åŒ…ä¸ä»…å®ç°äº† io.ReadSeekerï¼Œè¿˜å®ç°äº† io.ReaderAtã€‚ ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºï¼Œæ­£å¦‚æˆ‘ä¸Šé¢æåˆ°çš„ï¼Œè¯»å– ZIP æ–‡ä»¶éœ€è¦ä¸€ä¸ª io.ReaderAtã€‚å®ƒè¿˜éœ€è¦ä¼ é€’ç»™å®ƒçš„æ–‡ä»¶çš„é•¿åº¦ï¼Œä»¥ä¾¿å®ƒå¯ä»¥æŸ¥çœ‹ç›®å½•æ–‡ä»¶çš„æœ«å°¾ã€‚HTTP HEAD æ–¹æ³•å¯ä»¥å¾ˆå¥½åœ°è·å– HTTP å¯¹è±¡çš„ Content-Lengthï¼Œè€Œä¸éœ€è¦ä¸‹è½½æ•´ä¸ªæ–‡ä»¶ã€‚ ç”¨äºè¿œç¨‹è·å– tar å’Œ zip æ–‡ä»¶ç›®å½•çš„å‘½ä»¤è¡Œå·¥å…·ä½äº remote-archive-ls ä¸­ã€‚æ‰“å¼€ â€œ-debugâ€ é€‰é¡¹ç”¨æ¥æŸ¥çœ‹æ—¥å¿—ã€‚å°† Go çš„æ ‡å‡†åº“ä½œä¸º TAR æˆ– ZIP é˜…è¯»å™¨â€œå›è°ƒâ€åˆ°æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œå¹¶åœ¨è¿™é‡Œè¯·æ±‚å‡ ä¸ªå­—èŠ‚ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªå­—èŠ‚æ˜¯å¾ˆæœ‰è¶£çš„ã€‚ åœ¨æˆ‘ç¬¬ä¸€æ¬¡è¿è¡Œè¿™ä¸ªç¨‹åºåä¸ä¹…ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªä¸¥é‡çš„ç¼ºé™·ã€‚è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹è¿è¡Œç»“æœï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142$ ./remote-archive-ls -debug 'https://bulkdata.uspto.gov/data/patent/grant/multipagepdf/1790_1999/grant_pdf_17900731_18641101.tar'2017/12/12 00:07:38 got read len 5122017/12/12 00:07:38 ReadAt len 512 off 02017/12/12 00:07:38 Start HTTP GET with Range: bytes=0-5112017/12/12 00:07:39 HTTP ok.File: 00000001-X009741H/2017/12/12 00:07:39 got read len 5122017/12/12 00:07:39 ReadAt len 512 off 5122017/12/12 00:07:39 Start HTTP GET with Range: bytes=512-10232017/12/12 00:07:39 HTTP ok.File: 00000001-X009741H/00/2017/12/12 00:07:39 got read len 5122017/12/12 00:07:39 ReadAt len 512 off 10242017/12/12 00:07:39 Start HTTP GET with Range: bytes=1024-15352017/12/12 00:07:39 HTTP ok.File: 00000001-X009741H/00/000/2017/12/12 00:07:39 got read len 5122017/12/12 00:07:39 ReadAt len 512 off 15362017/12/12 00:07:39 Start HTTP GET with Range: bytes=1536-20472017/12/12 00:07:39 HTTP ok.File: 00000001-X009741H/00/000/001/2017/12/12 00:07:39 got read len 5122017/12/12 00:07:39 ReadAt len 512 off 20482017/12/12 00:07:39 Start HTTP GET with Range: bytes=2048-25592017/12/12 00:07:39 HTTP ok.File: 00000001-X009741H/00/000/001/us-patent-image.xml2017/12/12 00:07:39 got seek 0 12017/12/12 00:07:39 got seek 982 12017/12/12 00:07:39 got read len 422017/12/12 00:07:39 ReadAt len 42 off 35422017/12/12 00:07:39 Start HTTP GET with Range: bytes=3542-35832017/12/12 00:07:39 HTTP ok.2017/12/12 00:07:39 got read len 5122017/12/12 00:07:39 ReadAt len 512 off 35842017/12/12 00:07:39 Start HTTP GET with Range: bytes=3584-40952017/12/12 00:07:39 HTTP ok.File: 00000001-X009741H/00/000/001/00000001.pdf2017/12/12 00:07:39 got seek 0 12017/12/12 00:07:39 got seek 320840 12017/12/12 00:07:39 got read len 1842017/12/12 00:07:39 ReadAt len 184 off 324936...etc... ä½ èƒ½çœ‹åˆ°é—®é¢˜å—ï¼Ÿè¿™æ˜¯å¾ˆå¤š HTTP äº‹åŠ¡ï¼ TAR reader æ­£åœ¨ä¸€æ¬¡ä¸€ç‚¹ç‚¹åœ°å®Œæˆ TAR æµï¼Œå‘å‡ºä¸€å°ä¸² bitã€‚æ‰€æœ‰è¿™äº›çŸ­çš„ HTTP äº‹åŠ¡åœ¨æœåŠ¡å™¨ä¸Šéƒ½å¾ˆéš¾å®ç°ï¼Œå¹¶ä¸”å¯¹äºååé‡æ¥è¯´å¾ˆç³Ÿç³•ï¼Œå› ä¸ºæ¯ä¸ª HTTP äº‹åŠ¡éƒ½éœ€è¦å¤šæ¬¡å¾€è¿”æœåŠ¡å™¨ã€‚ å½“ç„¶ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯ç¼“å­˜ã€‚è¯»å–TARè¯»å–å™¨è¦æ±‚çš„å‰ 512 ä¸ªå­—èŠ‚ï¼Œè€Œä¸æ˜¯è¯»å–å…¶ä¸­çš„ 10 å€ï¼Œä»¥ä¾¿æ¥ä¸‹æ¥çš„å‡ ä¸ªè¯»å–å°†ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚å¦‚æœè¯»å–è¶…å‡ºäº†ç¼“å­˜çš„èŒƒå›´ï¼Œæˆ‘ä»¬å‡è®¾å…¶ä»–è¯»å–ä¹Ÿå°†è¿›å…¥è¯¥åŒºåŸŸï¼Œå¹¶åˆ é™¤æ•´ä¸ªå½“å‰ç¼“å­˜ï¼Œä»¥ä¾¿ç”¨å½“å‰åç§»é‡çš„ 10 å€å¡«å……å®ƒã€‚ TAR é˜…è¯»å™¨å‘é€å¤§é‡å°è¯»æ•°çš„äº‹å®æŒ‡å‡ºäº†æœ‰å…³ç¼“å†²çš„ä¸€äº›éå¸¸é‡è¦çš„äº‹æƒ…ã€‚å°† os.Open çš„ç»“æœç›´æ¥å‘é€ç»™ tarã€‚NewReader ä¸æ˜¯å¾ˆèªæ˜ï¼Œå°¤å…¶æ˜¯å¦‚æœä½ æ‰“ç®—è·³è¿‡æ–‡ä»¶å¯»æ‰¾å…ƒæ•°æ®ã€‚å°½ç®¡ * os.File å®ç°äº† io.ReadSeekerï¼Œæˆ‘ä»¬ç°åœ¨çŸ¥é“ TAR å°†ä¼šå‘å†…æ ¸å‘å‡ºå¤§é‡çš„å°ç³»ç»Ÿè°ƒç”¨ã€‚è¯¥è§£å†³æ–¹æ¡ˆä¸ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆéå¸¸ç›¸ä¼¼ï¼Œå¯èƒ½æ˜¯ä½¿ç”¨ bufio åŒ…æ¥ç¼“å†² * os.Fileï¼Œä»¥ä¾¿ TAR å‘å‡ºçš„å°æ•°æ®å°†ä» RAM ä¸­å–å‡ºï¼Œè€Œä¸æ˜¯è½¬åˆ°æ“ä½œç³»ç»Ÿã€‚ä½†è¯·æ³¨æ„ï¼šå®ƒçœŸçš„æ˜¯è§£å†³æ–¹æ¡ˆå—ï¼Ÿbufio.Reader æ˜¯å¦çœŸçš„å®ç°äº† ioï¼ŸReadSeeker å’Œ io.ReadAt å°±åƒæˆ‘ä»¬éœ€è¦çš„ä¸€æ ·ï¼Ÿ ï¼ˆç ´åè€…ï¼šå®ƒæ²¡æœ‰;ä¹Ÿè®¸ä½ ä»¬æœ‰è¯»è€…æƒ³å‘Šè¯‰æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ä¸‹ä¸€ä¸ªçš„æ›¿ä»£å“ bufio åŠ é€Ÿ Go çš„ tarï¼Ÿ æˆ‘å¸Œæœ›ä½ å–œæ¬¢é€šè¿‡æ ‡å‡†åº“å’Œ HTTPï¼Œçœ‹çœ‹å¦‚ä½•ä¸æ ‡å‡†åº“ä¸€èµ·å·¥ä½œï¼Œä»¥å¸®åŠ©å®ƒå®ç°æ›´å¤šçš„åŠŸèƒ½ï¼Œä»¥ä¾¿å®ƒå¯ä»¥å¸®åŠ©ä½ å®Œæˆä½ çš„å·¥ä½œè¿™ä¸ªå°å°çš„æ—…ç¨‹ã€‚å½“ä½ å®ç° io.Reader å’Œæœ‹å‹æ—¶ï¼Œä½ æœ‰æœºä¼šèµ°åˆ°ä½ æ‰€è°ƒç”¨çš„åº“çš„å¹•åï¼Œå¹¶ä»ä»–ä»¬çš„ä½œè€…ä»æœªæœŸæœ›çš„åœ°æ–¹ç»™ä»–ä»¬æä¾›æ•°æ®ï¼ viaï¼šhttps://blog.gopheracademy.com/advent-2017/seekable-http/ ä½œè€…ï¼šJeff R. Allenè¯‘è€…ï¼šyuhanleæ ¡å¯¹ï¼šUnknwon æœ¬æ–‡ç”± GCTT åŸåˆ›ç¼–è¯‘ï¼ŒGoä¸­æ–‡ç½‘ è£èª‰æ¨å‡º","categories":[{"name":"Translate","slug":"Translate","permalink":"https://blog.yuhanle.com/categories/Translate/"},{"name":"Go","slug":"Translate/Go","permalink":"https://blog.yuhanle.com/categories/Translate/Go/"}],"tags":[{"name":"Translate","slug":"Translate","permalink":"https://blog.yuhanle.com/tags/Translate/"},{"name":"Go","slug":"Go","permalink":"https://blog.yuhanle.com/tags/Go/"}]},{"title":"iOS çœŸæœºè°ƒè¯•å¦‚ä½•å®‰è£… WebDriverAgent","slug":"how-to-install-web-driver-agent-on-device","date":"2018-01-03T10:30:47.000Z","updated":"2021-10-21T08:18:48.337Z","comments":true,"path":"2018/01/03/how-to-install-web-driver-agent-on-device/","link":"","permalink":"https://blog.yuhanle.com/2018/01/03/how-to-install-web-driver-agent-on-device/","excerpt":"è¿‘æœŸï¼Œå¾®ä¿¡è·³ä¸€è·³å¤–æŒ‚ç«äº†ï¼Œçœ‹äº†ä½œè€…çš„æ€è·¯å’Œæ•™ç¨‹ï¼Œæ„Ÿè§‰æŒºç®€å•ï¼Œä¸è¿‡åœ¨å®ç°ï¼ˆç…§è‘«èŠ¦ç”»ç“¢ï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œé­é‡åˆ°ä¸å°‘é—®é¢˜ã€‚ å…¶ä¸­ä¹‹ä¸€ä¾¿æ˜¯ï¼ŒçœŸæœºè°ƒè¯• WDAï¼Œå‚è€ƒ iOS çœŸæœºå¦‚ä½•å®‰è£… WebDriverAgent Â· TesterHomeï¼Œä¸‹é¢å°±æŒ‰ç…§è¿™ç¯‡æ•™ç¨‹ï¼Œå„ä¸ªå‡»ç ´çœŸæœºè°ƒè¯•WDA çš„é—®é¢˜ï¼š å¼€å§‹é¦–å…ˆæŒ‰ç…§æ•™ç¨‹ï¼Œå°½é‡æ›´æ–°ä¸‹Xcode çš„ç‰ˆæœ¬ï¼Œä»github ä¸Šä¸‹è½½WDA çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›´æ¥å…‹éš†åˆ°æœ¬åœ°","text":"è¿‘æœŸï¼Œå¾®ä¿¡è·³ä¸€è·³å¤–æŒ‚ç«äº†ï¼Œçœ‹äº†ä½œè€…çš„æ€è·¯å’Œæ•™ç¨‹ï¼Œæ„Ÿè§‰æŒºç®€å•ï¼Œä¸è¿‡åœ¨å®ç°ï¼ˆç…§è‘«èŠ¦ç”»ç“¢ï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œé­é‡åˆ°ä¸å°‘é—®é¢˜ã€‚ å…¶ä¸­ä¹‹ä¸€ä¾¿æ˜¯ï¼ŒçœŸæœºè°ƒè¯• WDAï¼Œå‚è€ƒ iOS çœŸæœºå¦‚ä½•å®‰è£… WebDriverAgent Â· TesterHomeï¼Œä¸‹é¢å°±æŒ‰ç…§è¿™ç¯‡æ•™ç¨‹ï¼Œå„ä¸ªå‡»ç ´çœŸæœºè°ƒè¯•WDA çš„é—®é¢˜ï¼š å¼€å§‹é¦–å…ˆæŒ‰ç…§æ•™ç¨‹ï¼Œå°½é‡æ›´æ–°ä¸‹Xcode çš„ç‰ˆæœ¬ï¼Œä»github ä¸Šä¸‹è½½WDA çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›´æ¥å…‹éš†åˆ°æœ¬åœ° 1git clone https://github.com/facebook/WebDriverAgent.git åˆ‡æ¢åˆ°WDA æ ¹ç›®å½•ï¼Œè¿è¡Œåˆå§‹åŒ–è„šæœ¬ 12cd WebDriverAgent./Scripts/bootstrap.sh ä»¥ä¸Šè„šæœ¬æ˜¯å®‰è£…ä¾èµ–åº“ï¼ŒåŒæ—¶ä½¿ç”¨npm æ‰“åŒ…å“åº”çš„js æ–‡ä»¶ã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æµè§ˆè„šæœ¬æ–‡ä»¶ï¼ŒåŒçº§ç›®å½•ä¸‹è¿˜æœ‰ä¸€ä¸ªbuild.shï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œè¯¥è„šæœ¬æ¥ç¼–è¯‘å®‰è£…WDAã€‚å½“ç„¶ï¼Œåˆæ¬¡æ¥è§¦ï¼Œå¸Œæœ›ä¸€æ­¥æ­¥æ“ä½œçš„è¯ä¼šå¥½ä¸€äº›ã€‚ å¦‚æœä¸­é€”å‡ºç°é”™è¯¯ï¼Œéœ€è¦å…ˆè§£å†³ï¼Œå¦åˆ™æ¥ä¸‹æ¥çš„æ“ä½œéƒ½æ— æ³•è¿›è¡Œã€‚ ç¼–è¯‘è¿è¡Œæ¥ä¸‹æ¥ï¼Œé€šè¿‡Xcode æ‰“å¼€WebDriverAgent.xcodeproj è¿™ä¸ªæ–‡ä»¶ã€‚ å¯ä»¥å…ˆå°è¯•ç¼–è¯‘ä¸€ä¸‹ï¼Œæ–¹ä¾¿å®šä½ç›®å‰å­˜åœ¨çš„é—®é¢˜ï¼Œä½¿ç”¨ç»„åˆé”®æˆ–è€…é€šè¿‡é¼ æ ‡æ“ä½œ 1command + b è¿™ä¸ªæ—¶å€™ï¼Œè‚¯å®šä¼šæœ‰æç¤ºé…ç½®è¯ä¹¦çš„é—®é¢˜ï¼ŒçœŸæœºè°ƒè¯•è¯ä¹¦æ˜¯å¿…é¡»è®¾ç½®çš„ã€‚å¯ä»¥è®¾ç½®ä¸ªäººå¼€å‘è€…å…è´¹è¯ä¹¦ï¼Œæˆ–è€…å…¶ä»–ä»˜è´¹è¯ä¹¦ã€‚ ç„¶åé€‰æ‹©WebDriverAgentRunner è¿™ä¸ªTarget å’Œ çœŸæœºè®¾å¤‡ï¼Œæ‰§è¡Œæµ‹è¯•ã€‚ç»„åˆé”®command+uï¼Œæˆ–ä»èœå•æ Product ä¸­é€šè¿‡é¼ æ ‡æ“ä½œ ä¸€åˆ‡æ­£å¸¸çš„è¯ï¼Œæ‰‹æœºä¸Šä¼šå‡ºç°ä¸€ä¸ªæ— å›¾æ ‡çš„WebDriverAgentåº”ç”¨ï¼Œå¯åŠ¨ä¹‹åï¼Œé©¬ä¸Šåˆè¿”å›åˆ°æ¡Œé¢ã€‚è¿™æ˜¯å¾ˆæ­£å¸¸çš„ä¸è¦å¥‡æ€ªã€‚ åº”ç”¨æ•™ç¨‹ä¸­çš„åŸè¯ï¼Œä¸Šè¿°ç°è±¡æ­£å¸¸ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¯èƒ½ä¼šåœ¨æ§åˆ¶å°æŠ¥é”™ï¼Œä»è€Œæ— æ³•æ‰“å°å‡ºip åœ°å€ã€‚ å½“æŠŠæ‰€æœ‰çš„æµç¨‹é‡æ–°æ‹ä¸€éï¼Œä½ ä¼šå‘ç°ï¼Œæ ¹æœ¬å‘ç°ä¸äº†å“ªä¸€æ­¥åšé”™äº†ï¼Œæˆ‘é‡åˆ°çš„æƒ…å†µå°±æ˜¯ï¼Œä¸€ç›´åœç•™åœ¨æ§åˆ¶å°çš„é‚£é‡Œï¼Œä¸ä¼šå‡ºç°å¥‡è¿¹ã€‚ç»è¿‡ä¸€ç•ªæœç´¢ï¼Œå‘ç°æœ‰ä¸ªå¸–å­é‡Œçš„è­¦å‘Šæç¤ºï¼Œæˆ‘å†³å®šæ”¾æ‰‹ä¸€æï¼ ä½ ä»¬ä»¥ä¸ºè¿™æ ·å°±èƒ½è¿è¡Œå—ï¼Ÿ å¹¶ä¸æ˜¯ï¼æœ€å…³é”®ä¸€æ­¥æ¥äº†ï¼š ä½ è¦ç”¨æ•°æ®çº¿è¿ç€ç”µè„‘é‡å¯ä½ çš„æ‰‹æœºï¼ï¼ï¼ï¼ ä½ è¦ç”¨æ•°æ®çº¿è¿ç€ç”µè„‘é‡å¯ä½ çš„æ‰‹æœºï¼ï¼ï¼ï¼ ä½ è¦ç”¨æ•°æ®çº¿è¿ç€ç”µè„‘é‡å¯ä½ çš„æ‰‹æœºï¼ï¼ï¼ï¼ é‡è¦çš„è¯è¦è¯´ä¸‰éï¼ åæ­£æ˜¯åœ¨ä¿è¯æ•°æ®çº¿è¿æ¥çš„æƒ…å†µä¸‹ï¼Œé‡å¯ä¸€ä¸‹æ‰‹æœºï¼Œç„¶åé‡æ–°build å°±æˆåŠŸçœ‹åˆ°ip åœ°å€ï¼è€Œä¸”åœ¨ä»¥åæ“ä½œä¸­ï¼Œè¿™ç§æƒ…å†µè¿˜ä¼šå¤ç°ï¼Œæ‰€ä»¥é‡å¯æ‰‹æœºå§ï¼Œä¸ç”¨æµªè´¹æ— è¾œçš„æ—¶é—´ç ”ç©¶~ é€šè¿‡ä¸Šé¢ç»™å‡ºçš„IPå’Œç«¯å£ï¼ŒåŠ ä¸Š/statusåˆæˆä¸€ä¸ªurlåœ°å€ã€‚ä¾‹å¦‚http://10.0.0.1:8100/statusï¼Œç„¶åæµè§ˆå™¨æ‰“å¼€ã€‚å¦‚æœå‡ºç°ä¸€ä¸²JSONè¾“å‡ºï¼Œè¯´æ˜WDAå®‰è£…æˆåŠŸäº†ã€‚ ç«¯å£è½¬å‘æœ‰äº›å›½äº§çš„iPhoneæœºå™¨é€šè¿‡æ‰‹æœºçš„IPå’Œç«¯å£è¿˜ä¸èƒ½è®¿é—®ï¼Œæ­¤æ—¶éœ€è¦å°†æ‰‹æœºçš„ç«¯å£è½¬å‘åˆ°Macä¸Šã€‚å…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ˜¯é€šè¿‡ç«¯å£è½¬å‘æ‰çœ‹åˆ°æ•ˆæœï¼Œæ‰€ä»¥ä½ ä¹Ÿåº”è¯¥ä¼šé‡åˆ°åŒæ ·çš„é—®é¢˜ã€‚ 12$ brew install imobiledevice$ iproxy 8100 8100 [4c47766e78f9d84e1da55b07d69f2747e9fb4f71] ä½¿ç”¨iproxy â€“help å¯ä»¥æŸ¥åˆ°æ›´å…·ä½“çš„ç”¨æ³•ã€‚ è¿™æ—¶é€šè¿‡è®¿é—®http://localhost:8100/status ç¡®è®¤WDAæ˜¯å¦è¿è¡ŒæˆåŠŸã€‚ è€Œinspectorçš„åœ°å€æ˜¯http://localhost:8100/inspectorï¼Œ inspectoræ˜¯ç”¨æ¥æŸ¥çœ‹UIçš„å›¾å±‚ï¼Œæ–¹ä¾¿å†™æµ‹è¯•è„šæœ¬ç”¨ã€‚ æ³¨ï¼šç«¯å£è½¬å‘åï¼ŒåŸŸåä¸å†æ˜¯IP åœ°å€ï¼Œè€Œæ˜¯ä½ çš„æœ¬æœºIPæˆ–è€…ä½¿ç”¨localhost+ ç«¯å£å· æœ€ç»ˆæ•ˆæœå®Œæˆä¸Šè¿°æ“ä½œä»¥åï¼Œå¯ä»¥éšæ„å¼€å¯åº”ç”¨å†…çš„æŸä¸ªåº”ç”¨ï¼Œå°±èƒ½çœ‹åˆ°å¦‚ä¸‹æ•ˆæœã€‚ è¿™é‡Œç»“åˆ Appium Desktop ä¸€èµ·é£Ÿç”¨ï¼Œæ•ˆæœæ›´ä½³~ Good luck!!! å®æˆ˜ç›¸ä¿¡ä½ ä¼šå¯¹è¿™ä¸ªæ„Ÿå…´è¶£ï¼Œé€šè¿‡WDA åšè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ©ï¼ æ¥ä¸‹æ¥æ¼”ç¤ºä¸€ä¸‹æ€ä¹ˆç”¨ATXæ‰“å¼€iPhoneè‡ªå¸¦çš„è®¡æ—¶å™¨ï¼Œå¼€å§‹ç„¶åé€€å‡º 1234567891011#! /usr/local/bin/python3# -*- coding: utf-8 -*-import atxd = atx.connect(\"http://localhost:8100\")d.start_app(\"com.apple.mobiletimer\")d(text=u'è®¡æ—¶å™¨').click()d(text=u'å¼€å§‹è®¡æ—¶').click()d(text=u'å–æ¶ˆ').click()d.stop_app() æ‰§è¡Œä»¥ä¸Šä»£ç å³å¯ä½“éªŒ ç»“å°¾æœ€åå¢™è£‚æ¨èåŸºäºPythonè‡ªåŠ¨åŒ–æ¡†æ¶åœ°å€ https://github.com/NetEaseGame/ATX Xcodeé—®é¢˜å¤šå¤šï¼Œæ„¿WDAä¸ä½ åŒåœ¨ã€‚ å‚è€ƒé“¾æ¥ATX æ–‡æ¡£ - iOS çœŸæœºå¦‚ä½•å®‰è£… WebDriverAgent Macaca App Inspector 2.0 å‘å¸ƒ Appium Desktop ç®€å•ä»‹ç» â€”â€” xcodebuild failed with code 65 è§£å†³ WebDriverAgent å¤©å‘è®° å¯åŠ¨ WebDriverAgent åå†å¯åŠ¨ appiumï¼Œè¿è¡Œè„šæœ¬ä¸€ç›´å¡åœ¨ Waiting for WebDriverAgent to start on device ATX æ”¯æŒ iOS10 æ‰‹æœºæµ‹è¯• æ–¹æ³•è¯´æ˜","categories":[{"name":"UI Auto Test","slug":"UI-Auto-Test","permalink":"https://blog.yuhanle.com/categories/UI-Auto-Test/"}],"tags":[{"name":"WDA","slug":"WDA","permalink":"https://blog.yuhanle.com/tags/WDA/"},{"name":"UI Test","slug":"UI-Test","permalink":"https://blog.yuhanle.com/tags/UI-Test/"}]},{"title":"Xcode9.2 ç¼–è¯‘åœ¨iOS8.1 ç³»ç»Ÿä¸Šå›¾ç‰‡æ˜¾ç¤ºå¼‚å¸¸","slug":"xocde9-2-and-iOS-8-1-image-unnormal","date":"2017-12-09T01:52:47.000Z","updated":"2021-10-21T08:18:48.340Z","comments":true,"path":"2017/12/09/xocde9-2-and-iOS-8-1-image-unnormal/","link":"","permalink":"https://blog.yuhanle.com/2017/12/09/xocde9-2-and-iOS-8-1-image-unnormal/","excerpt":"æœ€æ–°æ¶ˆæ¯ ç›®å‰ xcode 9.3 å·²ç»è§£å†³äº†è¯¥é—®é¢˜","text":"æœ€æ–°æ¶ˆæ¯ ç›®å‰ xcode 9.3 å·²ç»è§£å†³äº†è¯¥é—®é¢˜ Asset CatalogKnown IssuesWhen using Xcode 9.2 to create apps that deploy to iOS 8 and later, images in the asset catalog may be corrupted when viewed on devices running iOS 8.3 and earlier. (35379713)Workaround: Build the app using Xcode 9.1, or use Xcode 9.2 and set the deployment target to iOS 8.4 or later. è¶ç€ä¸‹è½½ Xcode 9.1 çš„ç©ºéš™ï¼Œåœ¨å‘¨æœ«çš„æ—©æ™¨è®°å½•ä¸€ä¸‹è¿™ä¸ªå‘ï¼Œå¸Œæœ›èƒ½è§£å†³ç›¸åŒé­é‡åŒè¡Œçš„å›°æƒ‘ã€‚ å§‹å› æ˜¨å¤©åˆšå‘å¸ƒäº†é€‚é… iPhone X çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¹‹æ‰€ä»¥ä½¿ç”¨ Xcode 9.2 æ‰“åŒ…ï¼Œæ˜¯å› ä¸ºæ—©æœŸçš„é€‚é…ï¼Œé€šè¿‡ Xcode 8.2 æ‰“åŒ…ï¼Œå®‰è£…åˆ° iPhone X ä¸Šæ˜¾ç¤ºçš„æ•ˆæœæ˜¯æ²¡æœ‰é€‚é…ã€‚ è¿™ä¸ªä¹Ÿæ˜¯æ— æ³•è§£é‡Šçš„ï¼Œæˆ‘ä»¬å¼€å‘ä½¿ç”¨çš„ Xcode 9ï¼Œåœ¨é€‚é…è¿‡ç¨‹ä¸­æ²¡æœ‰é‡åˆ°è¯¥é—®é¢˜ï¼Œæ€»æ˜¯å‡çº§å°±å¯¹äº†ã€‚ åˆšå¥½æœ€è¿‘è‹¹æœçˆ¹å‘å¸ƒäº† Xcode 9.2ï¼Œå°±ç´¢æ€§å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ æŒç»­åŒ–é›†æˆå°±æ˜¯æ–¹ä¾¿ï¼Œä»£ç æäº¤ä»¥åï¼Œå–æ¯å’–å•¡çš„å·¥å…·ï¼Œå°±ä¸Šä¼ æˆåŠŸï¼Œç­‰å¾…å®¡æ ¸ã€‚ ä¹Ÿå°±æ˜¯åœ¨æ˜¨å¤©ä¸­åˆï¼Œæ”¶åˆ°å®¡æ ¸é€šè¿‡çš„æé†’ï¼Œå¾ˆå¥‡æ€ªï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥æ˜¯ä»–ä»¬ä¼‘æ¯çš„æ—¶é—´ã€‚ ç„¶åï¼Œå°±éå¸¸è‚¯å®šï¼Œå› ä¸ºåœ¨é€‚é…çš„è¿‡ç¨‹ä¸­ï¼Œç‰¹æ„æ‰¾äº†ä¸¤ä¸ª iPhone X çš„ç”¨æˆ·å¸®åŠ©æµ‹è¯•ä½“éªŒã€‚éšç€å®¡æ ¸é€šè¿‡ï¼Œå°±å¾ˆå¿«å‘å¸ƒå‡ºå»ã€‚ é—®é¢˜å¤§æ¦‚ä¸‹åˆ3ç‚¹é’Ÿï¼Œè·ç¦»å‘å¸ƒç‰ˆæœ¬åªè¿‡äº† 3 ä¸ªå°æ—¶å·¦å³ã€‚æ”¶åˆ°å®¢æœå¦¹å­çš„ä¸€ä¸ªå¤§å†™çš„é—®å·ã€‚ è¿™ä¸€ç¬é—´ï¼Œæ•´ä¸ªäººéƒ½æ˜¯æ‡µçš„ï¼Œæ…Œå¿™è®©ç”¨æˆ·é‡å¯ APPï¼Œé‡å¯ç³»ç»Ÿï¼Œå‡çº§ç³»ç»Ÿï¼Œæœ€åè¢«ç”¨æˆ·æ‹’ç»æ‰ã€‚ æ—¢ç„¶æ˜¯å¿…ç°çš„é—®é¢˜ï¼Œä¸èƒ½å°†é—®é¢˜æ¨åˆ°å‡çº§ç³»ç»Ÿä¸Šï¼Œè¯¥è§£å†³è¿˜æ˜¯è¦å°½å¿«è§£å†³çš„ã€‚ æ¥ç€å°±å¼€å§‹ç€æ‰‹å¦å¤–ä¸€ä¸ªé¡¹ç›®ï¼Œæ™šä¸Šå›åˆ°å®¶å¼€å§‹æ€è€ƒï¼Œé—®é¢˜å­˜åœ¨çš„ç‰ˆæœ¬è¿‘æœŸç©¶ç«Ÿæ”¹äº†ä»€ä¹ˆå†…å®¹ã€‚åŒæ—¶ä¹Ÿä¸‹è½½äº† iOS8.1 çš„æ¨¡æ‹Ÿå™¨ï¼Œä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ Xcode è¿è¡Œçœ‹äº†ä¸‹æ•ˆæœï¼Œç¡®å®å¦‚æ­¤æ˜¯å¤ç°çš„ã€‚ æ‰€ä»¥ï¼Œè¦é©¬ä¸Šæ”¹å˜æ€åº¦ï¼Œå’Œå®¢æœåŒå¿—æå¥½å…³ç³»ï¼Œæ—©ç‚¹è®¤é”™æ‰èƒ½èµ°å¾—æ›´è¿œã€‚ å›å¿†1. åˆ æ‰LaunchScreen.sb æ–‡ä»¶ä¸ºäº†é€‚é… iPhone X çš„å¯åŠ¨å›¾ï¼ŒåŒæ—¶åœ¨å¯åŠ¨åä½¿ç”¨å¯åŠ¨å›¾åšäº†ç®€å•çš„æ•ˆæœï¼Œå†³å®šä½¿ç”¨ LaunchImage çš„æ–¹å¼è®¾ç½®å¯åŠ¨å›¾ã€‚ åœ¨æ›´æ”¹ä»£ç åï¼Œå°è¯•äº†ä¸€ä¸‹ä¿®æ”¹ç»“æœï¼Œä¾ç„¶æ˜¯éæ­£å¸¸çš„ã€‚ æ•ˆæœå¦‚ä¸‹ï¼Œä¸æ¯«æ²¡æœ‰æ”¹å˜ï¼š 2. Xcode ç‰ˆæœ¬å‡çº§è¿™æ¬¡çš„æ”¹åŠ¨æ¯”è¾ƒå°ï¼Œæ‰€ä»¥åœ¨æ’é™¤ä¸Šè¿°çš„æ”¹åŠ¨åï¼Œç›´æ¥æƒ³åˆ°çš„å°±æ˜¯å¯èƒ½å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å¾ˆå°‘ä¼šæ€€ç–‘è‹¹æœçˆ¹ä¼šæŒ–è¿™ä¹ˆå¤§çš„å‘ï¼Œè®©å¼€å‘è€…è·³è¿›å»ã€‚ ä¸ç®¡å¦‚ä½•ï¼Œé™çº§ç‰ˆæœ¬è¯•è¯•å°±çŸ¥é“æ˜¯ä¸æ˜¯è¿™ä¸ªåŸå› ã€‚ Xcode9.2 Xcode9.1 é€šè¿‡ä¸Šè¿°å¯¹æ¯”ï¼Œç¡®å®šé—®é¢˜å°±å¤„åœ¨ Xcode ç‰ˆæœ¬ä¸Šã€‚ è§£å†³æ–¹æ¡ˆ1. ç­‰è‹¹æœçˆ¹æ›´æ–°å¦‚æœè‹¹æœçˆ¹ä¸€ç›´æ²¡æ³¨æ„åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæˆ–è€…æ²¡æœ‰äººæï¼Œè°çŸ¥é“è¿˜è¦ç­‰å¤šä¹…ï¼Ÿå…³äºæ­¤é—®é¢˜ï¼Œæˆ‘å·²ç»å‘è‹¹æœçˆ¹æäº¤äº† bugï¼ŒæœŸå¾…åç»­ä¿®å¤ï¼š ProblemID=35948702 2. å…ˆé™çº§ Xcodeç¡®åˆ‡çš„è¯´ï¼Œè¿™æ˜¯ç›®å‰æœ€å¿«æ·çš„ä¸€ä¸ªæ–¹å¼ï¼Œä¿è¯æ²¡æœ‰é—®é¢˜ 3. æ”¹å˜å›¾ç‰‡èµ„æºå­˜å‚¨å›¾ç‰‡ä¸è¦æ”¾åœ¨ asset é‡Œé¢ï¼Œæ–¹æ³•æ”¾åœ¨bundle é‡Œé¢å°±æ²¡é—®é¢˜ã€‚ä¸çŸ¥é“æ˜¯ Xcode9.2 bug è¿˜æ˜¯æ²¡è®¾ç½®ç›¸å…³å±æ€§ 4. èµ„æºé—®é¢˜ä¼˜åŒ–æ¢æˆ9.1ï¼Œä¸è¿‡æˆ‘å‘ç° @2x, @3x è¿™ä¸‰ä¸ªå›¾æ ‡éƒ½å¡«æ»¡çš„å°±æ²¡è¿™ BUGï¼Œåªæ”¾ä¸€ä¸ªæ‰æœ‰ å‚è€ƒé“¾æ¥ Xcode9.2 è¿è¡ŒiOS8.1å›¾ç‰‡å¼‚å¸¸","categories":[{"name":"tools","slug":"tools","permalink":"https://blog.yuhanle.com/categories/tools/"}],"tags":[{"name":"tips","slug":"tips","permalink":"https://blog.yuhanle.com/tags/tips/"}]},{"title":"å‡çº§ macOS High Sierra åä¸ Cocoapods çš„å…¼å®¹é—®é¢˜","slug":"macos-high-sierra-with-cocoapods","date":"2017-12-06T03:42:36.000Z","updated":"2021-10-21T08:18:48.338Z","comments":true,"path":"2017/12/06/macos-high-sierra-with-cocoapods/","link":"","permalink":"https://blog.yuhanle.com/2017/12/06/macos-high-sierra-with-cocoapods/","excerpt":"å½“ä½ å‘è§‰è‡ªå·±æ²¡æœ‰é—®é¢˜çš„æ—¶å€™ï¼Œé‚£å°±å°è¯•ç€é‡å¯ä¸€ä¸‹ï¼Œä¸‡ä¸€é—®é¢˜è§£å†³äº†å‘¢ï¼Ÿ æœ€è¿‘å®åœ¨åŒçƒ¦è‹¹æœæ¨é€äº† macOS High Sierra æ›´æ–°ï¼Œäºæ˜¯ä¸€ä¸‹ç­å‰æ‰“å¼€ç”µè„‘æ›´æ–°ç³»ç»Ÿã€‚è¿‡ç¨‹è¿˜ç®—é¡ºåˆ©ï¼Œç½‘ç»œå¾ˆå¿«ï¼Œå¤§æ¦‚ 10å·¦å³å°±ä¸‹è½½å®Œæ¯•ï¼Œå‡çº§è¿‡ç¨‹ä¸­å¡æ­»ï¼Œéšåå°±è¡Œä¸‹ç­å›å®¶ï¼Œè®©å…¶å‡çº§äº†ä¸€ä¸ªå¤œæ™š ä¸è¿‡åœ¨ä½¿ç”¨ Cocoapods çš„æ—¶å€™è¿˜æ˜¯é‡åˆ°äº†é—®é¢˜ï¼š","text":"å½“ä½ å‘è§‰è‡ªå·±æ²¡æœ‰é—®é¢˜çš„æ—¶å€™ï¼Œé‚£å°±å°è¯•ç€é‡å¯ä¸€ä¸‹ï¼Œä¸‡ä¸€é—®é¢˜è§£å†³äº†å‘¢ï¼Ÿ æœ€è¿‘å®åœ¨åŒçƒ¦è‹¹æœæ¨é€äº† macOS High Sierra æ›´æ–°ï¼Œäºæ˜¯ä¸€ä¸‹ç­å‰æ‰“å¼€ç”µè„‘æ›´æ–°ç³»ç»Ÿã€‚è¿‡ç¨‹è¿˜ç®—é¡ºåˆ©ï¼Œç½‘ç»œå¾ˆå¿«ï¼Œå¤§æ¦‚ 10å·¦å³å°±ä¸‹è½½å®Œæ¯•ï¼Œå‡çº§è¿‡ç¨‹ä¸­å¡æ­»ï¼Œéšåå°±è¡Œä¸‹ç­å›å®¶ï¼Œè®©å…¶å‡çº§äº†ä¸€ä¸ªå¤œæ™š ä¸è¿‡åœ¨ä½¿ç”¨ Cocoapods çš„æ—¶å€™è¿˜æ˜¯é‡åˆ°äº†é—®é¢˜ï¼š 123406-Dec-2017 09:28:38 /Users/tianyi/bamboo-agent-home/temp/IOS-PB-JOB1-382-ScriptBuildTask-1550561307052749322.sh: /usr/local/bin/pod: /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/bin/ruby: bad interpreter: No such file or directory06-Dec-2017 11:24:58 env: ruby_executable_hooks: No such file or directory06-Dec-2017 11:30:11 /Users/tianyi/bamboo-agent-home/temp/IOS-PB-JOB1-382-ScriptBuildTask-5355633338674781643.sh: line 7: pod: command not found06-Dec-2017 11:31:27 env: ruby_executable_hooks: No such file or directory çœ‹èµ·æ¥æ˜¯ Cocoapods ä¾èµ–çš„ Ruby ç‰ˆæœ¬é—®é¢˜ï¼ŒGoogle ä¸€ä¸‹ï¼Œå‘ç°å·²ç»æœ‰äººåœ¨ Cocoapods çš„ repo ä¸‹æäº†è¿™ä¸ª issueï¼Œä¸‹é¢ä¹Ÿæœ‰å¼€å‘è€…ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼šé‡æ–°å®‰è£… Cocoapods. Pod å‘½ä»¤éœ€è¦ç”¨åˆ° 2.0 ç‰ˆæœ¬çš„ Ruby è§£é‡Šå™¨ /System/Library/Frameworks/Ruby.framework/Versions/2.0ï¼Œè€Œ macOS High Sierra å°†ç³»ç»Ÿçš„ Ruby è§£é‡Šå™¨å‡çº§åˆ°äº† 2.3 /System/Library/Frameworks/Ruby.framework/Versions/2.3ï¼Œå› æ­¤æ‰§è¡Œ pod å‘½ä»¤çš„æ—¶å€™ç”±äºæ‰¾ä¸åˆ° Ruby è§£é‡Šå™¨è€ŒæŠ¥é”™ã€‚ äºæ˜¯æŒ‰ç…§æç¤ºé‡è£… Cocoapodsï¼š 1$ sudo gem install cocoapods å®‰è£…å®Œæˆåç»§ç»­æ‰§è¡Œ pod installï¼ŒåˆæŠ¥äº†åŒæ ·çš„é”™è¯¯ã€‚æˆ‘å†³å®šç»§ç»­é‡è£…ä¸€æ¬¡ Cocoapodsï¼Œä¸è¿‡è¿™æ¬¡åŠ ä¸Š â€“verbose å‚æ•°ï¼Œçœ‹çœ‹å®‰è£…è¿‡ç¨‹ä¸­åšäº†å“ªäº›æ“ä½œã€‚log å¤ªé•¿æˆ‘å°±ä¸è´´äº†ï¼Œä¸è¿‡æ³¨æ„åˆ°æœ€åè¾“å‡ºçš„ pod å‘½ä»¤ä½ç½®ä¼¼ä¹è·Ÿä¸Šé¢æ‰§è¡Œ which pod è¾“å‡ºæœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå®ƒæ˜¯ /usr/bin/podï¼Œè€Œ which pod çš„è¾“å‡ºæ˜¯ /usr/local/bin/podï¼Œå†çœ‹ä¸€ä¸‹æˆ‘çš„ $PATH è·¯å¾„ï¼š 12$ echo $PATH/Users/tianyi/.rvm/gems/ruby-2.4.1/bin:/Users/tianyi/.rvm/gems/ruby-2.4.1@global/bin:/Users/tianyi/.rvm/rubies/ruby-2.4.1/bin:/Users/tianyi/.rvm/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/bin:/Users/tianyi/.jenv/shims:/Users/tianyi/.jenv/bin:/opt/subversion/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/Server.app/Contents/ServerRoot/usr/bin:/Applications/Server.app/Contents/ServerRoot/usr/sbin:/usr/local/go/bin:/Users/tianyi/bin:/Users/tianyi/goProject/bin:/usr/local/go/bin:/usr/local/Cellar/nginx/1.12.0/bin:/usr/local/mysql/bin å¯ä»¥çœ‹åˆ°åœ¨æˆ‘çš„ $PATH ç¯å¢ƒå˜é‡é‡Œï¼Œ/usr/local/bin çš„ä¼˜å…ˆçº§æ˜¯é«˜äº /usr/bin çš„ï¼Œå› æ­¤å½“è¿™ä¸¤ä¸ªåœ°æ–¹éƒ½å­˜åœ¨ä¸€ä¸ªåå« pod çš„å‘½ä»¤æ—¶ï¼Œç³»ç»Ÿä¼˜å…ˆæ‰§è¡Œ /usr/local/bin/podï¼Œäºæ˜¯é”™è¯¯å°±è¿™ä¹ˆäº§ç”Ÿäº†ã€‚å› æ­¤æˆ‘ç›´æ¥åˆ é™¤ /usr/local/bin/pod æ–‡ä»¶ï¼Œå†æ‰§è¡Œ pod install â€“verboseï¼Œè¿™ä¸€æ¬¡æœç„¶å®‰è£…æˆåŠŸäº†ã€‚ è¿™ä¸ªé—®é¢˜åº”è¯¥æ˜¯ç”±äº Cocoapods æ”¹å˜äº†å®‰è£…è·¯å¾„å¯¼è‡´çš„ï¼Œè®°å¾— macOS å¯ç”¨ System Integrity Protection ä¹‹å Cocoapods çš„å®‰è£…è·¯å¾„ä¹Ÿä¿®æ”¹è¿‡ï¼Œè¿™æ¬¡åº”è¯¥ä¹Ÿæ˜¯ç±»ä¼¼çš„é—®é¢˜å§ï¼Œç”±äº $PATH è¿™ä¸ªç¯å¢ƒå˜é‡çš„é—®é¢˜ï¼Œå¯¼è‡´è€ç‰ˆæœ¬çš„ pod å‘½ä»¤ä¼˜å…ˆè¢«æ‰§è¡Œã€‚ äº‹æƒ…è‡³æ­¤è¿˜æœªç»“å±€ æœ¬åœ°æ‰§è¡Œpod æŒ‡ä»¤å·²ç»æ²¡é—®é¢˜äº†ï¼Œä½†æ˜¯æˆ‘ä»¬é€šè¿‡Bamboo é›†æˆï¼Œä½¿ç”¨è„šæœ¬æ‰“åŒ…ï¼Œå´ä¸€ç›´é‡å¤å‰é¢çš„é”™è¯¯æ— æ³•è‡ªæ‹”ã€‚ é‡å¯bamboo æœåŠ¡ï¼Œä¾ç„¶ä¸èƒ½è§£å†³é—®é¢˜ å°è¯•ç€ä½¿ç”¨é‡å¯æ²»ç™¾ç—…çš„æ‰‹æ®µï¼Œç”µè„‘å…³æœºé‡å¯è¯•è¯•çœ‹ï¼ ç¥ˆç¥·ä¸­â€¦ğŸ™ 2017å¹´12æœˆ6æ—¥åˆæ—¶ä¸‰åˆ»æ›´ è¯´äº†ä½ å¯èƒ½ä¸ç›¸ä¿¡ï¼Œé‡å¯ç”µè„‘åï¼Œä¸€åˆ‡é—®é¢˜éƒ½å¥½äº†~ æ›´æ–° è§£å†³macOS Sierraä¸‹æ³¨å†Œæœºæ— æ³•è¿è¡Œçš„é—®é¢˜ å¾ˆå¤šè½¯ä»¶éƒ½ä¸å…¼å®¹äº†ã€Œå®‰å…¨æ€§ä¸éšç§ã€è®¾ç½®ä¸­ã€Œä»»ä½•æ¥æºã€é€‰é¡¹æ¶ˆå¤±å‡ ä¹æ‰€æœ‰æ³¨å†Œæœºéƒ½ç”¨ä¸äº† æ¢å¤ä»»ä½•æ¥æºé€‰é¡¹psï¼šå¦‚æœç³»ç»Ÿå‡çº§å‰å°±å·²ç»é€‰æ‹©äº†ä»»ä½•æ¥æºï¼Œå‡çº§åè¿˜ä¼šæ­£å¸¸æ˜¾ç¤º æ‰“å¼€ç»ˆç«¯(Terminal.app)æ‰§è¡Œsudo spctl --master-disable â€œä»»ä½•æ¥æºâ€æ¢å¤~","categories":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/categories/iOS/"}],"tags":[{"name":"tips","slug":"tips","permalink":"https://blog.yuhanle.com/tags/tips/"}]},{"title":"ä¼™è®¡ä»¬ï¼ŒGo å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•","slug":"go-is-not-very-simple-folks","date":"2017-12-04T01:00:00.000Z","updated":"2021-10-21T08:18:48.336Z","comments":true,"path":"2017/12/04/go-is-not-very-simple-folks/","link":"","permalink":"https://blog.yuhanle.com/2017/12/04/go-is-not-very-simple-folks/","excerpt":"å·²å‘å¸ƒï¼šhttps://studygolang.com/articles/12330 ä¼™è®¡ä»¬ï¼ŒGo å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•å‡ºäºå¥½å¥‡ï¼Œæˆ‘æœ€è¿‘å¼€å§‹æ¥è§¦ä¸€äº› Go çš„ä»£ç ã€‚æˆ‘ä¹‹å‰å¯¹å®ƒæœ‰ä¸€äº›äº†è§£ï¼Œä½†æ˜¯ä»æ¥æ²¡æœ‰å°è¯•å»å†™ï¼ˆæ²¡æœ‰éœ€æ±‚ï¼‰ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬å›¢é˜Ÿé€‰æ‹©ä½¿ç”¨ Go æ¥å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªè·å¾—å®é™…ç»éªŒçš„å¥½æœºä¼šã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå…³äºè¿™é—¨è¯­è¨€æˆ‘å·²ç»å­¦ä¹ äº†å¾ˆé•¿æ—¶é—´ã€‚åœ¨è¿™ä¸ªåšæ–‡çš„æœ«å°¾ï¼Œæˆ‘ä¼šå†™æ›´å¤šå…³äº Go çš„å¹²è´§ã€‚","text":"å·²å‘å¸ƒï¼šhttps://studygolang.com/articles/12330 ä¼™è®¡ä»¬ï¼ŒGo å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•å‡ºäºå¥½å¥‡ï¼Œæˆ‘æœ€è¿‘å¼€å§‹æ¥è§¦ä¸€äº› Go çš„ä»£ç ã€‚æˆ‘ä¹‹å‰å¯¹å®ƒæœ‰ä¸€äº›äº†è§£ï¼Œä½†æ˜¯ä»æ¥æ²¡æœ‰å°è¯•å»å†™ï¼ˆæ²¡æœ‰éœ€æ±‚ï¼‰ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬å›¢é˜Ÿé€‰æ‹©ä½¿ç”¨ Go æ¥å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªè·å¾—å®é™…ç»éªŒçš„å¥½æœºä¼šã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå…³äºè¿™é—¨è¯­è¨€æˆ‘å·²ç»å­¦ä¹ äº†å¾ˆé•¿æ—¶é—´ã€‚åœ¨è¿™ä¸ªåšæ–‡çš„æœ«å°¾ï¼Œæˆ‘ä¼šå†™æ›´å¤šå…³äº Go çš„å¹²è´§ã€‚ ç¤¾åŒºå®é™…ä¸Šå¹¶ä¸é‚£ä¹ˆä»¤äººæ„‰å¿«ï¼Œç‰¹åˆ«æ˜¯é‚£äº›å› ä¸ºå®ƒçš„ç®€å•æ€§è€Œä¸»å¼ ä½¿ç”¨ Go çš„äººã€‚ä¼¼ä¹ç®€å•å·²ç»æˆä¸º Go ç¤¾åŒºä¸­çš„ä¸€ä¸ªæµè¡Œè¯­ï¼Œè®¸å¤šäººåå¤é‡å¤æåˆ°è¿™ç‚¹ï¼Œå´æ²¡æœ‰ç»™å‡ºå¤ªå¤šå®é™…çš„æƒ³æ³•ã€‚ è¿™å¯¹æˆ‘æ¥è¯´ä¼¼ä¹å¾ˆä¸å¹¸ï¼Œå› ä¸ºåœ¨æˆ‘çœ‹æ¥ï¼ŒGo æ˜¯ä¸€ä¸ªâ€œæå…¶ç®€å•çš„è¯­è¨€â€ï¼š ä¸åº”è¯¥ä½œä¸ºè€ƒè™‘ä½¿ç”¨ Go çš„ä¸»è¦åŸå›  ä»ä»–ä»¬çš„å…³æ³¨ç‚¹ä¸­æ‰¾åˆ°å…¶ä»–æ›´æœ‰åˆ©çš„æ¨èç†ç”± ç”šè‡³ä¸æ˜¯çœŸçš„ï¼ˆä¸æ˜¯çœŸçš„ç®€å•ï¼‰ åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³å›´ç»• Go æ¥åˆ†æä¸€äº›ç®€å•è§‚ç‚¹ã€‚ åœ¨æ·±å…¥ä¹‹å‰ï¼Œæˆ‘æƒ³å¼ºè°ƒä¸€ä»¶äº‹æƒ…ï¼šè¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯å¯¹ Go çš„æ‰¹è¯„ï¼Œè€Œæ˜¯ä¸€ç§å¯¹ Go çš„å®£ä¼ å’Œå€¡å¯¼çš„æ–¹å¼ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘å¯èƒ½ä¼šæ‰¹è¯„è¿™ä¸ªè¯­è¨€çš„æŸä¸ªæ–¹é¢ï¼Œä½†è¿™ä¸æ˜¯æˆ‘ä»¬å…³æ³¨çš„é‡ç‚¹ï¼Œæˆ‘åªä¼šè¯•å›¾ç”¨ä¸€ç§éæ­£å¼çš„ã€äº‹å®çš„ï¼Œæ¯ç§è¯­è¨€éƒ½ä¼šæ¶‰åŠçš„æ–¹å¼æ¥è®²è¿°ã€‚ æˆ‘æ¥è‡ªå“ªé‡Œå‡ºäºå·¥ä½œå’Œä¸šä½™çˆ±å¥½ï¼Œæˆ‘åŒæ—¶ä½¿ç”¨å¤šç§ç¼–ç¨‹è¯­è¨€ã€‚æˆ‘ä¸èµæˆæœ‰â€œæœ€å–œæ¬¢çš„è¯­è¨€â€çš„æ¦‚å¿µã€‚è¿‡å»æˆ‘æ›¾ç»æœ‰è¿‡ä¸€äº›æœ€å–œæ¬¢çš„è¯­è¨€ï¼Œä½†è¿™ç§è®¤è¯†å¾€å¾€æ˜¯ä¸€æ—¶çš„æƒ…æ„Ÿï¼Œéšç€æ—¶é—´æ¨ç§»ï¼Œä¼šå‘ç”Ÿå˜åŒ–ã€‚ åœ¨æˆ‘çš„å·¥ä½œä¸­ï¼Œæˆ‘ä½¿ç”¨ C++ å’Œ Python å†™å¤§å‹æœåŠ¡çš„åç«¯ä»£ç ã€‚è¿‡å»æˆ‘æ›¾ç»åœ¨ä¸€ä¸ªä½ å¯èƒ½çŸ¥é“çš„æ“ä½œç³»ç»Ÿä¸Šå·¥ä½œï¼Œè€Œä¸”æˆ‘ä¹Ÿåšäº†åµŒå…¥å¼å·¥ä½œã€‚åœ¨ä¸šä½™é¡¹ç›®ä¸­ï¼Œæˆ‘åšäº†å…¶ä»–å„ç§äº‹æƒ…ã€‚ æˆ‘å¹¶ä¸æ˜¯å¤¸è€€ä»€ä¹ˆï¼ˆæˆ‘ä¸æ˜¯ä¸€ä¸ªä¸“å®¶ï¼‰ï¼Œæˆ‘åªæ˜¯æƒ³è¡¨æ˜ï¼Œæˆ‘åœ¨ç¼–ç¨‹çš„è®¸å¤šé¢†åŸŸè‡³å°‘æœ‰ä¸€äº›è§è§£ï¼Œè€Œä¸”æˆ‘ä¸€ç›´åŠªåŠ›ä¿æŒå¼€æ”¾çš„å¿ƒæ€ã€‚ æ‰€ä»¥ï¼Œä¸è¦ç€æ€¥ï¼Œè®©æˆ‘ä»¬å¼€å§‹è®¨è®ºæ­£é¢˜ï¼Œçœ‹çœ‹å‡ ä¸ªè§‚ç‚¹ã€‚ 1. â€œä¸ä¸»æµè¯­è¨€ç›¸æ¯”ï¼ŒGo çš„å…³é”®å­—éå¸¸å°‘â€æˆ‘ä»ä¸€ä¸ªæœ€å¸¸è§çš„ä¾‹å­å¼€å§‹ã€‚å½“æ¨å¹¿ Go æ—¶ï¼Œè¿™ä¼šæ˜¯å¤§å®¶çš„å£å¤´ç¦…ã€‚ é¦–å…ˆï¼Œå³ä½¿å®ƒæ˜¯çœŸå®çš„ï¼Œæˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆå…³é”®å­—æ•°é‡ä¼šæ˜¯åˆ¤æ–­ä¸€ä¸ªè¯­è¨€çš„å­¦ä¹ æ›²çº¿æˆ–å¤æ‚æ€§çš„é‡è¦ä¾æ®ã€‚å½“ç„¶ï¼Œå¦‚æœæœ‰æˆåƒä¸Šä¸‡çš„å…³é”®å­—ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ä½†æ˜¯å¤§å¤šæ•°è¯­è¨€æœ€å¤šåªæœ‰å‡ åä¸ªå…³é”®å­—ï¼Œè¿™ç§è§„æ¨¡ä¸‹ï¼Œå…³é”®å­—çš„å¤šå°‘æ˜¯æ— å…³ç´§è¦çš„ã€‚ æˆ‘è¿˜æ²¡æœ‰å¬åˆ°æœ‰äººå› ä¸ºå…³é”®å­—çš„æ•°é‡è€ŒæŠ±æ€¨æŸé—¨è¯­è¨€ å…¶æ¬¡ï¼ŒGo æ‰€è°“çš„â€œå¾ˆå°‘â€çš„å…³é”®å­—å®é™…ä¸Šåªä¸è¿‡æ˜¯ä¸€ä¸ªèªæ˜å¾‹å¸ˆçš„ä¼ä¿©ï¼ˆä¹Ÿè®¸ï¼Œæˆ‘ç”šè‡³ä¼šè®¤ä¸ºè¿™æ˜¯ Go çš„è™šå‡å¹¿å‘Šï¼‰ã€‚Go è§„èŒƒ åˆ—å‡ºäº† 25 ä¸ªå…³é”®å­—ï¼Œè¿™çš„ç¡®æ¯”å¤§å¤šæ•°è¯­è¨€è¦å°‘äº›ã€‚ä½†åœ¨æˆ‘çœ‹æ¥ï¼ŒGo å¹¶æ²¡æœ‰æ¯”å…¶ä»–è¯­è¨€å…³é”®å­—è¡¨ç¤ºæ›´å°‘çš„æ¦‚å¿µï¼ŒGo è™½ç„¶æ²¡æœ‰è¿™äº›å…³é”®å­—ï¼Œä½†ç›¸åº”çš„æ¦‚å¿µä¾ç„¶æ˜¯è¯­è¨€çš„ä¸€éƒ¨åˆ†ï¼ˆå³å®é™…çš„å¤æ‚æ€§ä¿æŒä¸å˜ï¼‰ã€‚ ä¸ºäº†è¯´æ˜æˆ‘çš„æ„æ€ï¼Œè¯·è€ƒè™‘ä¸€ä¸ª while å¾ªç¯ã€‚ Go æ²¡æœ‰è¿™ä¸ªå…³é”®å­—ï¼Œè¿™æ˜¯çœŸçš„ï¼Œä½†å®ƒä»ç„¶æœ‰ä¸€ä¸ª while å¾ªç¯ï¼Œæ–‡æ¡£ç”šè‡³æ˜¯è¿™æ ·è¯´çš„ï¼Œå®ƒçš„ç›®çš„åªæ˜¯é‡ç”¨å…¶ä»–å…³é”®å­—ã€‚ å¦ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­æ˜¯ private å’Œ publicã€‚ Go æ²¡æœ‰è¿™äº›å…³é”®å­—ï¼Œä½†å®ƒä»ç„¶æœ‰ private å’Œ publicï¼Œå®ƒåªæ˜¯ä½¿ç”¨å­—æ¯å¤§å°å†™è€Œä¸æ˜¯å…³é”®å­—ã€‚ ç”¨æ¥åˆ å‡å…³é”®å­—çš„å¦ä¸€ä¸ªæŠ€å·§å« é¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼ˆPredeclared identifiersï¼‰ï¼Œåœ¨æŠ€æœ¯ä¸Šå®ƒä¸æ˜¯å…³é”®å­—ï¼Œä½†æ˜¯åœ¨å®è·µä¸­ä»ç„¶éœ€è¦å®ƒä»¬ï¼Œåˆ›å»ºä¸€ä¸ªå’Œå®ƒåŒåçš„å˜é‡ä»ç„¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œå› æ­¤ï¼Œæœ€åçœ‹æ¥â€¦å®ƒä»¬åŸºæœ¬ä¸Šæ˜¯å…³é”®å­—ã€‚æ­¤å¤–ï¼Œå…¶ä¸­ä¸€äº›é¢„å®šä¹‰æ ‡è¯†ç¬¦æ˜¯å…¶ä»–è¯­è¨€çš„å…³é”®å­—ï¼Œå› æ­¤ä»…å°†å®ƒä»¬ä¸ Go çš„å…³é”®å­—åˆ—è¡¨è¿›è¡Œæ¯”è¾ƒæ˜¯éå¸¸ä¸å…¬å¹³çš„ã€‚å°±åƒè‹¹æœå’Œæ¡”å­ã€‚ 2. æ¥æ”¶è€…å‚æ•°æ¥å—è€…å‚æ•°å¯¹æˆ‘æ¥è¯´æœ‰äº›å¤æ€ªã€‚çœ‹èµ·æ¥ Go ä¼¼ä¹å¹¶ä¸å»ºè®®ä½¿ç”¨ this å’Œ selfï¼Œä½†æ˜¯ä»ç„¶éœ€è¦æ–¹æ³•ï¼Œæ‰€ä»¥å°±å­˜åœ¨ â€œæ¥æ”¶è€…å‚æ•°â€ï¼Œé™¤äº†æ–¹æ³•ç­¾åçœ‹ä¸Šå»å¾ˆå¥‡æ€ªä¹‹å¤–ï¼Œå®ƒä»¬åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ã€‚ æ¥æ”¶è€…å‚æ•°æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“è®¿é—®ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œæˆ‘éœ€è¦çŸ¥é“æ¥æ”¶è€…å‚æ•°ï¼ˆè¿™æ˜¯ä»»æ„çš„ï¼‰çš„åç§°ï¼Œä»¥æ˜ç¡®è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨ã€‚å› ä¸ºç¼ºå°‘å…³é”®å­—ï¼ˆè¯‘æ³¨ï¼šå¦‚ thisï¼‰ï¼Œè¯­æ³•é«˜äº®æˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚ï¼ˆçœ‹å§ï¼Ÿè¿™æ˜¯å¦‚ä½•å‡å°‘å…³é”®å­—å®é™…ä¸Šä½¿äº‹æƒ…å˜å¾—æ›´åŠ å¤æ‚çš„ä¾‹å­ã€‚ï¼‰è¿™æœ‰ç‚¹åƒ C++ ä¸­çš„éšå¼ thisã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªæ–°äººå®¹æ˜“æ··æ·†çš„ä¾‹å­ã€‚ æ•æˆ‘ç›´è¨€ï¼Œæœ€ç®€å•ã€æœ€ç›´æ¥çš„æ–¹å¼æ¥è¡¨è¾¾ä¸€ä¸ªæ¥æ”¶å™¨æ˜¯ UFCSï¼Œè€Œä¸æ˜¯ C++ æˆ– Go çš„æ–¹å¼ã€‚ä½†å°±åƒæˆ‘è¯´çš„ï¼Œæˆ‘ä¸æ˜¯åœ¨æŠ±æ€¨ Goï¼Œæˆ‘çœŸçš„ä¸ä»‹æ„æ¥å—è€…å‚æ•°çš„è§‚ç‚¹ï¼ˆå¦‚æœæˆ‘å¿å—ä¸äº† C++ çš„æ€ªå¼‚ï¼Œæˆ‘å¯ä»¥å¿å— Go çš„ï¼‰ã€‚ 3. å‡½æ•°è¿”å›å€¼å¦‚æœæ¥æ”¶å‚æ•°ä¸å¤Ÿï¼Œå‡½æ•°ç”šè‡³èƒ½å¤Ÿé€šè¿‡å„ç§å½¢å¼çš„è¿”å›å€¼æ¥å£°æ˜ã€‚é€šå¸¸è¯­è¨€å…è®¸ä½ é€šè¿‡ return è¯­å¥è¿”å›å‡½æ•°ä¸­çš„ä¸€ä¸ªå€¼ã€‚è€Œåœ¨ Go è¯­è¨€ä¸­ï¼Œä½ å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼ˆæˆ‘è®¤ä¸ºå¯ä»¥ç”¨æ›´ä¼˜é›…çš„æ–¹å¼é€šè¿‡å…ƒç»„æ¥è§£å†³ï¼Œä½†æ˜¯å°±è¿™æ ·å§ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å‘½åè¿”å›å€¼ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œå› ä¸ºå®ƒå…è®¸æˆ‘ä»¬åœ¨é‚£äº›å¾ˆéš¾æ‰¾åˆ°è¿”å›å€¼çš„åœ°æ–¹å†™ä¸Šæ™•å¤´è½¬å‘çš„ä»£ç ã€‚ç»“åˆæ¥æ”¶æ–¹å‚æ•°ï¼Œæ‚¨å¯ä»¥åˆ›å»ºè¿™æ ·çš„å‡½æ•°ç­¾åï¼š 123func (f Foobar) Something(a int, b int, c int) (foo int, bar int) &#123; // ...&#125; è¿™æ˜¯æœ‰æ•ˆçš„ Go ä»£ç ã€‚å¦‚æ‚¨æ‰€è§ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ã€‚æˆ‘çœŸçš„ä¸å¸Œæœ›ä»»ä½•äººè¯•å›¾é€‰æ‹©è¿™ä¸ªâ€œç®€å•â€ï¼Œå› ä¸ºè¿™ä¸ªè¯­æ³•é™¤äº†ç®€å•ï¼Œä»€ä¹ˆä¹Ÿä¸æ˜¯ã€‚ 4. â€œæ²¡æœ‰ç»§æ‰¿â€Goï¼ˆæˆ–è®¸åªæ˜¯ç¤¾åŒºï¼‰ä¼¼ä¹å¾ˆåå¯¹â€œä¼ ç»Ÿçš„ OOPâ€ï¼ˆä¸ç®¡è¿™æ˜¯æŒ‡å“ªä¸ªï¼Œå¯èƒ½æ˜¯ Java æˆ–è€… C++ï¼‰ï¼Œæˆ‘è®°å¾—æœ‰äººè¯´ Go æ²¡æœ‰ç»§æ‰¿æ˜¯ä¸€ä»¶å¥½äº‹ã€‚ é™¤æ­¤ä¹‹å¤–ï¼ŒGo æœ‰ä¸€ä¸ªåŠŸèƒ½å«åšåµŒå…¥ï¼Œè¿™ä¸ªæ–‡æ¡£ä»¥åŠä¸€äº›åšå®¢æ–‡ç« å£°ç§° Go æ²¡æœ‰ç»§æ‰¿ã€‚æˆ‘è¯•ç€ç”¨å„ç§æ–¹å¼ä½¿ç”¨å®ƒï¼Œæˆ‘æ²¡æ³•è®¤ä¸º Go åå¯¹ç»§æ‰¿ã€‚ä¸Šé¢é“¾æ¥çš„æ–‡æ¡£è¯´ï¼š è¿˜æœ‰ç§åŒºåˆ†å†…åµŒä¸å­ç±»çš„é‡è¦æ‰‹æ®µã€‚å½“å†…åµŒä¸€ä¸ªç±»å‹æ—¶ï¼Œè¯¥ç±»å‹çš„æ–¹æ³•ä¼šæˆä¸ºå¤–éƒ¨ç±»å‹çš„æ–¹æ³•ï¼Œä½†å½“å®ƒä»¬è¢«è°ƒç”¨æ—¶ï¼Œè¯¥æ–¹æ³•çš„æ¥æ”¶è€…æ˜¯å†…éƒ¨ç±»å‹ï¼Œè€Œéå¤–éƒ¨çš„ã€‚ æœ‰å·®åˆ«å—ï¼Ÿç»§æ‰¿é€šå¸¸ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œï¼Œç»§æ‰¿çš„æ–¹æ³•ä¹Ÿå¯¹å†…éƒ¨ç±»å‹èµ·ä½œç”¨ã€‚ åœ¨æˆ‘çœ‹æ¥ï¼Œåœ¨ Go ä¸­ï¼ŒçœŸæ­£å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œå¤šæ€æ€§ä»ç»“æ„ä¸­è§£è€¦ã€‚ä½ éœ€è¦ä½¿ç”¨æ¥å£æ¥ä½¿ç”¨å¤šæ€æ€§ã€‚ä½†ä¸€æ—¦ä½ åšäº†ï¼Œåšçš„äº‹æƒ…å’Œä¼ ç»Ÿçš„ OOP éå¸¸ç›¸ä¼¼ï¼ŒåŒ…æ‹¬æ–¹æ³•è¦†ç›– - è¿™é‡Œæ˜¯ä¸ªæ¼”ç¤ºã€‚ å…³äº Goï¼Œæœ‰ä»¶äº‹ä»¤æˆ‘å¾ˆæƒŠè®¶ â€”â€” è¿™é—¨æ‰€è°“ç®€å•çš„è¯­è¨€ â€”â€” ä½ ç”šè‡³å¯ä»¥å®ç°å¤šé‡ç»§æ‰¿ã€‚ç¡®å®å¾ˆç³Ÿç³•ã€‚ golang-nut çš„é‚®ä»¶åˆ—è¡¨ä¸­ï¼Œæœ‰äººæåˆ°ï¼ŒGo å¹¶ä¸èƒ½å¾ˆå¥½çš„å¤„ç†ç»§æ‰¿çš„æ­§ä¹‰ã€‚æˆ‘å·²ç»è°ƒæ•´äº†å…¶ä¸­æåŠçš„ä»£ç ï¼Œä»¥ä¾¿å®ƒå±•ç¤ºäº†è‘—åçš„â€œå¯æ€•çš„é’»çŸ³é—®é¢˜â€ï¼ˆDreaded diamond problemï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233package mainimport \"fmt\"type T1 struct &#123; T2 T3&#125;type T2 struct &#123; T4 foo int&#125;type T3 struct &#123; T4&#125;type T4 struct &#123; foo int&#125;func main() &#123; t2 := T2&#123; T4&#123; 9000 &#125;, 2 &#125; t3 := T3&#123; T4&#123; 3 &#125; &#125; fmt.Printf(\"foo=%d\\n\", t2.foo) fmt.Printf(\"foo=%d\\n\", t3.foo) t1 := T1&#123; t2, t3, &#125; fmt.Printf(\"foo=%d\\n\", t1.foo)&#125; åœ¨çº¿è¿è¡Œä»¥ä¸Šä»£ç  ä¸Šé¢çš„ä»£ç æ²¡æœ‰ä»»ä½•ç¼–è¯‘æ—¶è­¦å‘Šæˆ–è€…é”™è¯¯ã€‚è¿™æ˜¯ C++ çš„ç±»ä¼¼çš„ä»£ç ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œå®ƒç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºå­˜åœ¨æ­§ä¹‰ã€‚ ç»“æœä¼šå¦‚ä½•ï¼Ÿé¦–å…ˆï¼Œæˆ‘è®¤ä¸ºå…·æœ‰å¤šé‡ç»§æ‰¿åŠŸèƒ½ï¼Œå‡ ä¹ä¸èƒ½åœ¨æè¿°è¯¥ç¼–ç¨‹è¯­è¨€æ—¶ä½¿ç”¨â€œç®€å•â€ä¸€è¯ã€‚åœ¨æˆ‘çœ‹åˆ°ä¸Šé¢çš„ä»£ç åï¼Œæ²¡æœ‰äººèƒ½è¯´æœæˆ‘ï¼ŒGo æ˜¯æœ€ç®€å•çš„è¯­è¨€ä¹‹ä¸€ï¼Œç”šè‡³è¿ç®€å•è¯­è¨€éƒ½ä¸ç®—ã€‚ç”šè‡³æ²¡æœ‰å…¶ä»–ä¸€äº›ä½ å¯ä»¥ç”¨åµŒå…¥æ¥åšçš„äº‹æƒ…ï¼Œæ¯”å¦‚é€šè¿‡æŒ‡é’ˆåµŒå…¥æˆ–è€…é€šè¿‡æŒ‡é’ˆåµŒå…¥æ¥å£ã€‚ ï¼ˆæˆ‘ç”šè‡³ä¸ç¡®å®šè¿™äº›åŠŸèƒ½çš„çœŸæ­£å«ä¹‰ã€‚ï¼‰ å…¶æ¬¡ï¼Œæˆ‘æƒ³åšä¸€ä¸ªç®€çŸ­ã€å¯¹ Go è¯­è¨€æœ¬èº«çš„æ‰¹è¯„ã€‚ä¸å¤„ç†è¿™æ ·çš„æ­§ä¹‰ä¼¼ä¹æ˜¯ä¸€ä¸ªè®¾è®¡æˆ–è€…å®ç°é”™è¯¯ã€‚ç”šè‡³è¿ C++ éƒ½æ²¡æœ‰å¦‚æ­¤ç–¯ç‹‚ï¼Œè®©è¿™ç§ä»£ç ç¼–è¯‘é€šè¿‡ã€‚è¿™è¶³ä»¥å‘Šè¯‰ä½ ä¸€äº›äº‹æƒ…ã€‚ 5. é”™è¯¯å¤„ç†å„ç§é”™è¯¯å¤„ç†é€šå¸¸ä¼šå¯¼è‡´ä¸€ä¸ªå·¨å¤§çš„å£æ°´æˆ˜ã€‚æˆ‘ä¸æƒ³è°ˆé‚£ä»¶äº‹ã€‚æˆ‘æ›¾ç»åœ¨ä¸åŒçš„è¯­è¨€ä¸­ä½¿ç”¨è¿‡æ‰€æœ‰å¸¸è§çš„é”™è¯¯å¤„ç†é£æ ¼ï¼ˆæˆ‘è®¤ä¸ºï¼‰ï¼Œæˆ‘ä¹Ÿä¸å–œæ¬¢æ‰€æœ‰è¿™äº›è¯­è¨€ã€‚æˆ‘è®¤ä¸ºï¼Œé”™è¯¯å¤„ç†æ— è®ºä»€ä¹ˆä¸€ç›´æ˜¯ä¸€ä¸ª PITAï¼ˆè¯‘æ³¨ï¼šåº”è¯¥æ˜¯å›½å¤–çš„ä¸€ç§æ¯”å–»ï¼‰ã€‚æŠŠä¸€ç§é£æ ¼æ¢æˆå¦ä¸€ç§é£æ ¼ï¼Œä½ åªéœ€æŠŠä¸€å¥—é—®é¢˜æ¢æˆå¦ä¸€å¥—ã€‚æ²¡æœ‰å¥½çš„æ–¹æ³•ã€‚ å›åˆ°ç®€å•çš„è¯é¢˜ï¼šGo è®©æˆ‘é€‰æ‹©ä¸ä½¿ç”¨å¼‚å¸¸ï¼Œè¿™ä½¿äº‹æƒ…æ›´ç®€å•äº†ã€‚å¤šä¸ªè¿”å›å€¼çš„ç‰¹å¾ä¸èƒ½ä½¿äº‹æƒ…å˜å¾—ç®€å•ï¼Œè¿™æ„å‘³ç€ä¸èƒ½è¿”å›ä¸€ä¸ªé”™è¯¯æˆ–æˆåŠŸçš„ç»“æœï¼Œä½ å¯ä»¥è¿”å›æ‰€æœ‰å€¼æˆ–è€…éƒ½ä¸è¿”å›ï¼ˆCS æœ¯è¯­ï¼Œä½ å¯ä»¥è¯´è¿™ä¸ªé—®é¢˜æ˜¯ä¸€ä¸ªäº§å“ç±»å‹è€Œä¸æ˜¯æ€»å’Œå¼çš„ç”¨æ³•ï¼‰ã€‚äº‹å®ä¸Šï¼Œæˆ‘çœ‹è¿‡çš„è®¸å¤šå¯¹äºæ–°äººçš„ä»£ç å®¡æŸ¥ã€‚ å¦‚æœ Go ä¸å…è®¸å¤šä¸ªè¿”å›å€¼ï¼Œè€Œæœ‰ä¸€äº›åˆé€‚çš„æˆ–è€…å–œæ¬¢çš„ç±»å‹ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¼šä½¿äº‹æƒ…å˜å¾—æ›´ç®€å•ã€‚å‡ºäºåŒæ ·çš„åŸå› ï¼Œåœ¨ Go ä¸­å¿½ç•¥é”™è¯¯æˆ–è€…ä¸å‘å‘è°ƒç”¨è€…æˆ–å…¶ä»–é€‚å½“ç›®çš„åœ°æŠ¥å‘Šé”™è¯¯æ˜¯ç›¸å½“å®¹æ˜“çš„ã€‚ å¦ä¸€ä¸ç®€å•çš„æ˜¯ panicã€‚ä¸è¦è¯¯è§£æˆ‘çš„æ„æ€ï¼Œæˆ‘ç†è§£å®ƒåœ¨ Go ä¸­å­˜åœ¨çš„åŸå› ä»¥åŠå®ƒçš„ç”¨å¤„ï¼Œäº‹å®ä¸Šï¼Œå…¶ä»–è¯­è¨€ä¹Ÿæœ‰ç±»ä¼¼çš„å¤„ç†ã€‚æˆ‘åªæ˜¯æå‡ºæ¥ä½œä¸ºåå¯¹ç®€å•æ€§çš„ä¸€ä¸ªè®ºæ®ã€‚æ•æˆ‘ç›´è¨€ï¼Œå¯¹äºä¸€ä¸ªæ–°äººï¼Œå¾ˆå¯èƒ½ä¼šæ··æ·† error å’Œ panic ä¹‹é—´çš„åŒºåˆ«ï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™é€‚åˆç”¨ä»€ä¹ˆã€‚ 6. æ³›å‹è¿™ä¸ªä¸»é¢˜å’Œé”™è¯¯å¤„ç†æ¯”èµ·æ¥ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¤§çš„è •è™«ã€‚ å’Œ errors ä¸€æ ·ï¼Œæˆ‘åªæƒ³è€ƒè™‘ä¸€ä¸‹è¿™é‡Œçš„å¤æ‚æ€§æˆ–è€…ç®€å•æ€§ã€‚Go ç¤¾åŒºçš„è®¸å¤šäººä¼¼ä¹è®¤ä¸ºï¼Œæ³›å‹çš„æœ¬è´¨ä¸Šæ˜¯å¤æ‚çš„ï¼ˆ=åï¼Œå—¯å—¯å—¯å’³ï¼‰ï¼Œæœ‰è¿™æ ·æˆ–é‚£æ ·çš„å·¨å¤§å¼€é”€ã€‚è¿™åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯äº‹å®ï¼Œä½†æˆ‘ä¸è®¤ä¸ºå®ƒåƒæœ‰äº›äººæè¿°çš„é‚£ä¹ˆç³Ÿç³•ã€‚ä¼¼ä¹é‚£äº›äººå·²ç»ç»å†äº† C++ æ¨¡æ¿çš„ç—›è‹¦ï¼Œä»é‚£ä»¥åï¼Œæ— è®ºä½•æ—¶æåŠæ³›å‹ï¼Œéƒ½ä¼šé­å— PTSDï¼ˆåˆ›ä¼¤ååº”æ¿€éšœç¢ï¼‰ çš„æ”»å‡»ã€‚ çœ‹åˆ°è¿™é‡Œçš„äººï¼Œæ³›å‹ä¸æ˜¯ä¸€ä¸ªæ€ªç‰©ã€‚å®ƒä»¬å½“ç„¶ç»å¯¹ä¸åº”è¯¥åƒ C++ é‚£æ ·å¤æ‚ï¼ˆæˆ–è€…å…¶ä»–ä¸€äº›å¥‡æ€ªçš„è¯­è¨€ï¼‰ã€‚æˆ‘çš„æ„æ€æ˜¯ï¼Œç”šè‡³å‰ç«¯çš„äººéƒ½ç”¨æ³›å‹å·¥ä½œäº†ä¸€æ®µæ—¶é—´ï¼ˆTypeScript, Flow, â€¦ï¼‰ï¼Œå¦‚æœä»–ä»¬ä¸å®³æ€•æ³›å‹ï¼Œå…¶ä»–ç¨‹åºå‘˜åº”è¯¥æ˜¯æ²¡æœ‰ç†ç”±å®³æ€•ï¼šï¼‰ï¼ˆå¯¹ä¸èµ·ï¼Œå‰ç«¯å¼€å‘è€…ï¼Œåªæ˜¯å¼€ä¸ªç©ç¬‘ã€‚ï¼‰ äººä»¬è¿˜æ²¡æœ‰æ„è¯†åˆ°ï¼Œå¦‚æœæ­£ç¡®åœ°ä½¿ç”¨æ³›å‹ï¼Œå®ƒå¯ä»¥ä½¿è®¸å¤šç±»å‹å’Œå‡½æ•°çš„ä½¿ç”¨æ›´åŠ ç®€å•ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ Go ä¸­çš„å †æ¥å£ã€‚è¿™å°±æ˜¯ä»ä¸€ä¸ªå †ä¸­å£°æ˜è¿™ä¸ªæ¥å£çš„æ–¹å¼ï¼š 12popped := heap.Pop(&amp;someheap)myfoo := popped.(*Foo) // ZOMG what just happened here? å¯¹æ–°äººè§£é‡Šè¿™äº›ï¼ŒåŒ…æ‹¬ panic çš„é—®é¢˜ã€‚ä¹Ÿè®¸å¯ä»¥è€ƒè™‘ä¸€ä¸‹ï¼Œå¦‚æœä»–ä»¬æ²¡æœ‰çœŸæ­£æŠŠæ•´ä¸ª interface{} æå¯¹ï¼Œé‚£ä¹ˆä¼šå‘ç”Ÿä»€ä¹ˆã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼š 1myfoo := heap.Pop(&amp;someheap) // myfoo has the correct type è¿™æ›´å®¹æ˜“é˜…è¯»ã€æ›´å®¹æ˜“è§£é‡Šï¼ˆä½ è§£é‡Šå®ƒï¼Œå°±åƒä½ å°†è§£é‡Š map ç±»å‹å·²ç»å­˜åœ¨äº Goï¼ï¼‰ã€‚è€Œä¸”åœ¨ç¼–å†™ä»£ç æ—¶ä¹Ÿæ›´éš¾å¼„ä¹±ã€‚ ç¼ºä¹æ³›å‹æ˜¯é€ æˆé¢å¤–å¤æ‚æ€§çš„åŸå› ï¼Œå®ƒåœ¨ Go çš„å…¶ä»–éƒ¨åˆ†ä¹Ÿä¼šé€ æˆç›¸å½“å¤šçš„å¤æ‚æ€§ï¼Œä¸»è¦æ˜¯éœ€è¦å­˜åœ¨å„ç§â€œç¥å¥‡â€çš„å‡½æ•°/ç±»å‹ã€‚mapï¼Œslice å’Œ channel ç±»å‹çš„é­”æ³•ï¼Œä»¥åŠä¼´éšçš„ make() åŠŸèƒ½ï¼Œè¿™æ˜¯å®ƒä»¬ä¸‰ä¸ªçš„æ„é€ å‡½æ•°ã€‚slice ç±»å‹æ—¢å¯ä»¥ä½œä¸ºæ•°ç»„çš„å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºåŠ¨æ€æ•°ç»„ã€‚ï¼ˆä¸ç®¡å‘ç”Ÿä»€ä¹ˆäº‹ï¼Œâ€œåšä¸€ä»¶äº‹ï¼Œå¹¶åšå¥½å®ƒâ€ï¼Ÿï¼‰ ï¼ˆåªæ˜¯ä¸ºäº†æé†’å¤§å®¶ï¼Œæˆ‘å¹¶ä¸ä»‹æ„è¿™äº›ï¼Œåªæ˜¯ä¸ºäº†ä¸ç®€å•çš„äº‰è®ºè€ŒæåŠå®ƒã€‚ï¼‰ 7. å…¶ä»–æˆ‘æƒ³æˆ‘å·²ç»æŠŠä¸»è¦çš„ç®€å•è¿åè€…æ’é™¤åœ¨å¤–äº†ã€‚æˆ‘çš„å•å­ä¸Šåªå‰©ä¸‹å‡ ä¸ªç®€å•çš„ï¼š &lt;- å’Œ -&gt; æ“ä½œç¬¦ã€‚è¿™äº›å¯èƒ½åªæ˜¯ channel ç±»å‹çš„æ–¹æ³•ã€‚ iota - åŸºæœ¬ä¸€æ ·ï¼Œä½†å¥‡æ€ªçš„æšä¸¾ã€‚ å†…ç½®çš„å¤æ•°ã€‚ if æ”¯æŒçŸ­è¯­å¥ï¼ˆæœ‰æ—¶å¯èƒ½æœ‰ç”¨ï¼Œä½† if è¯­æ³•æ¯”å…¶ä»–è¯­è¨€ä¸­æ›´å¤æ‚ï¼‰ æˆ‘æƒ³å°±æ˜¯è¿™æ ·ã€‚å¯èƒ½å¿˜è®°äº†ä»€ä¹ˆï¼Œä½†æˆ‘æƒ³å·²ç»è¶³å¤Ÿäº†ã€‚ é‚£ä¹ˆï¼Œæˆ‘è§‰å¾—å¦‚æœä¸æ˜¯ç®€å•çš„è¯ï¼ŒGo å®é™…ä¸Šä¼šå¸¦æ¥ä»€ä¹ˆå‘¢ï¼Ÿ ä»»åŠ¡ - â€œgoroutinesâ€è¿™å¯èƒ½çœ‹èµ·æ¥æœ‰ç‚¹æ˜¾è€Œæ˜“è§ï¼Œå› ä¸º goroutines æ˜¯ä¸€ä¸ªç»å¸¸è¢«æåŠçš„ç‰¹æ€§ï¼Œå°±åƒâ€œç®€å•â€ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—éœ€è¦åŒºåˆ†ä¸‹ï¼šæˆ‘è®¤ä¸ºè¿™ä¸æ˜¯é€šå¸¸æ„ä¹‰ä¸Šçš„å¹¶å‘æ€§ï¼Œå®ƒä¸èƒ½è®¤ä¸ºæ˜¯ Go çš„ä¼˜åŠ¿ã€‚ä¸è¦è¯¯è§£æˆ‘çš„æ„æ€ï¼ŒGo çš„å¹¶å‘æ€§æ˜¯æ²¡é—®é¢˜çš„ã€‚åªæ˜¯è¯´è¿™æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ã€‚ä½ æœ‰ channelï¼Œè¿™è‚¯å®šæ˜¯å¥½çš„ï¼Œä½†åŸºæœ¬ä¸Šï¼Œå®ƒä»¬åªæ˜¯åƒæˆ‘åœ¨åˆ«å¤„å¸¸ç”¨çš„å¹¶å‘é˜Ÿåˆ—ã€‚ç„¶åä½ æœ‰å¸¸è§„çš„å¹¶å‘åŸè¯­ï¼Œåƒ mutexï¼Œè¯»å†™é”ï¼Œæ¡ä»¶å˜é‡ç­‰ã€‚ä½ å¯ä»¥åŒæ­¥ä½ çš„ä»£ç ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°åƒè®¸å¤šå…¶ä»–è¯­è¨€ä¸€æ ·çš„ç«äº‰æ¡ä»¶å’Œæ­»é”ã€‚ æˆ‘å–œæ¬¢ goroutinesï¼ˆé™¤äº†æ˜æ˜¾çš„äº‹å®ï¼Œå®ƒä»¬æ˜¯è½»é‡çº§çš„ç”¨æˆ·ç©ºé—´çº¿ç¨‹ï¼‰æ˜¯å®ƒä»¬å¯ä»¥ä½¿ç”¨ I/O çš„æ–¹å¼ - è°ƒåº¦è¿æ¥åˆ°ä¸»æœºæ“ä½œç³»ç»Ÿçš„ä½çº§ I/O API çš„æ–¹å¼ï¼ˆå¦‚ epollã€kqueueã€IOCPâ€¦ï¼‰ã€‚è¿™å¯¹äºç¨‹åºå‘˜æ¥è¯´é€šå¸¸å¾ˆéš¾åšå‡ºä»¤äººæ„‰å¿«å’Œæœ‰ç”¨çš„ä¸œè¥¿ï¼Œç‰¹åˆ«æ˜¯åœ¨ç¼–è¯‘æœ¬åœ°è¯­è¨€çš„æ—¶å€™ã€‚æˆ‘ä»ç„¶åœ¨è¿™é‡Œäº†è§£ç»†èŠ‚ï¼Œä½†åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘è®¤ä¸º Go æ˜¯æœªæ¥å·¥ç¨‹çš„ä¸€ä¸ªäº®ç‚¹ã€‚ æ­£å¦‚å·²ç»æš—ç¤ºçš„ï¼Œæˆ‘ä¹Ÿå–œæ¬¢ Go è¿™ç§ç¼–è¯‘ä¸ºæœ¬åœ°ä»£ç çš„è¯­è¨€ã€‚çœ‹åˆ°æ–°çš„è¯­è¨€ä½¿ç”¨åƒåœ¾æ”¶é›†æ¥ä¿æŒè¿™ç§ä¸å¯æ€è®®çš„æ•ˆæœçœŸæ˜¯å¤ªå¥½äº†ã€‚ï¼ˆæˆ–å…¶ä»–å½¢å¼çš„è‡ªåŠ¨å†…å­˜ç®¡ç† - Swift ä¸­æœ‰æåŠï¼‰ ç»“è®ºæ‰€ä»¥ï¼Œè¯»è€…ä»¬ï¼Œä¸ºä»€ä¹ˆæ‰€æœ‰è¿™äº›éƒ½ç¦»å¼€äº†ä½ å‘¢ï¼Ÿæ˜¯ Go å¤æ‚è¿˜æ˜¯å…¶ä»–ä»€ä¹ˆåŸå› ï¼Ÿ å½“ç„¶ä¸æ˜¯ï¼Œç»å¯¹ä¸åƒ C++ æˆ– Haskell é‚£æ ·å¤æ‚ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒGo çš„ç¡®å¾ˆç®€å•ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¯”è¾ƒ Go å’Œå…¶ä»–å¸¸è§è¯­è¨€ï¼ˆå¦‚Java ï¼ŒJavaScript ï¼ŒPython ç­‰ï¼‰çš„å¤æ‚æ€§æ—¶ï¼Œæƒ…å†µå°±ä¸å¤ªæ¸…æ¥šäº†ï¼Œæ­£å¦‚æˆ‘å¸Œæœ›çš„é‚£æ ·ã€‚ ï¼ˆæ­¤å¤–ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆéš¾ï¼Œæ²¡æœ‰æ˜ç¡®å®šä¹‰çš„ä»»åŠ¡ã€‚ï¼‰ æˆ‘å¯ä»¥æä¾›ç±»ä¼¼çš„ä¾‹å­ã€‚åœ¨æŸäº›æ–¹é¢ï¼ŒGo å¯èƒ½æ¯”è¿™äº›è¯­è¨€æ›´ç®€å•ï¼Œæœ‰äº›åˆ™ä¸æ˜¯â€¦å¤§è‡´ä¸Šæˆ‘ä¼šè¯´å®ƒå’Œå…¶ä»–å¸¸ç”¨è¯­è¨€çš„å¹³å‡å·®ä¸å¤šã€‚æˆ‘ä¹Ÿä¸è®¤ä¸ºç®€å•ï¼Œæ— è®ºæ˜¯æ„Ÿè§‰ä¸Šè¿˜æ˜¯å®é™…ä½¿ç”¨ä¸­ï¼Œæœ€ç»ˆçš„ä½“éªŒå¾ˆé‡è¦ã€‚ æœ€åï¼Œè¿™ç¯‡æ–‡ç« ä»å“ªé‡Œæ¥ï¼Œä½œè€…æ˜¯è°ï¼Ÿæˆ‘ä¸è‚¯å®šã€‚æˆ‘è¿˜ä¸çŸ¥é“ Go æ˜¯å¦ä¼šåœ¨æˆ‘çš„æ—¥å¸¸å·¥ä½œä¸­è¢«é€‰ä¸ºä¸€ä¸ªï¼ˆå­ï¼‰é¡¹ç›®ï¼Œæˆ–è€…æˆ‘æ˜¯å¦å¯èƒ½å°†å®ƒç”¨äºå…´è¶£çˆ±å¥½é¡¹ç›®ã€‚æˆ‘æƒ³é¿å…åƒæœ¬æ–‡æåˆ°çš„é‚£ç§æ•™æ¡çš„ç¤¾åŒºæ¨å¹¿çš„ä¸€ä»½å­ã€‚æœ‰æ²¡æœ‰æ„è¯†å½¢æ€å¯¼å‘çš„åœ°æ–¹å‘¢ï¼Ÿ å¤§å®¶å¯ä»¥éšæ„å°±æ­¤æå‡ºå»ºè®®ã€‚ æˆ‘å’Œ Rust ç¤¾åŒºæœ‰åŒæ ·çš„é—®é¢˜ï¼Œè¯·ä¸è¦ä»‹æ„ï¼Œæˆ‘ä¹ŸçŸ¥é“ç¦»å¼€é‚£äº›æ›´ç‹‚çƒ­çš„æ”¯æŒè€…ä¼šæ›´å¥½ã€‚ ï¼ˆQï¼šâ€œä½ èƒ½å¦åœ¨ Rust é‡å†™ä½ çš„é¡¹ç›®ï¼Ÿâ€Aï¼šâ€œè¿·å¤±äº†â€ï¼‰ä¹Ÿè®¸è¿™å°±æ˜¯è¿™äº›æ–°è¯­è¨€çš„æ€§è´¨ï¼Œä»¥åŠä»–ä»¬ä¸ºæ¿€åŠ±äººä»¬å¦‚æ­¤æ¿€åŠ±é˜³å…‰çš„äº‰æ–—ã€‚ via: https://medium.com/@bob.clark_34506/go-is-not-very-simple-folks-3e84220e73c7 ä½œè€…ï¼šThe Other Bobè¯‘è€…ï¼šyuhanleæ ¡å¯¹ï¼špolaris1119 æœ¬æ–‡ç”± GCTT åŸåˆ›ç¼–è¯‘ï¼ŒGo ä¸­æ–‡ç½‘ è£èª‰æ¨å‡º","categories":[{"name":"Translate","slug":"Translate","permalink":"https://blog.yuhanle.com/categories/Translate/"},{"name":"Go","slug":"Translate/Go","permalink":"https://blog.yuhanle.com/categories/Translate/Go/"}],"tags":[{"name":"Translate","slug":"Translate","permalink":"https://blog.yuhanle.com/tags/Translate/"},{"name":"Go","slug":"Go","permalink":"https://blog.yuhanle.com/tags/Go/"}]},{"title":"GCD åŒæ­¥å¼‚æ­¥ä»¥åŠä¸²å¹¶è¡Œè¯¦è§£","slug":"gcd-sync-parallel","date":"2017-05-02T00:00:00.000Z","updated":"2021-10-21T08:18:48.336Z","comments":true,"path":"2017/05/02/gcd-sync-parallel/","link":"","permalink":"https://blog.yuhanle.com/2017/05/02/gcd-sync-parallel/","excerpt":"GCDæ˜¯iOSå¼€å‘å¤šçº¿ç¨‹ä¸­ç»å¸¸ä½¿ç”¨çš„æŠ€æœ¯ï¼Œå…ˆçœ‹ä¸€ä¸‹GCDä¸­çš„å¸¸è§çš„æœ¯è¯­","text":"GCDæ˜¯iOSå¼€å‘å¤šçº¿ç¨‹ä¸­ç»å¸¸ä½¿ç”¨çš„æŠ€æœ¯ï¼Œå…ˆçœ‹ä¸€ä¸‹GCDä¸­çš„å¸¸è§çš„æœ¯è¯­ æè¿°å¤šä¸ªä»»åŠ¡ä¹‹é—´åŒä¸€æ—¶åˆ»çš„è¿è¡Œå…³ç³»ï¼š serialï¼ˆä¸²è¡Œï¼‰ æŸä¸€æ—¶åˆ»ï¼Œåªæ‰§è¡Œä¸€ä¸ªä»»åŠ¡ concurrentï¼ˆå¹¶è¡Œï¼‰ å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ ä¾§é‡æè¿°ä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œå®Œæˆï¼Œå¯¹å…¶ä»–ä»»åŠ¡çš„å½±å“ (æ—¢ æ˜¯å¦ä»»åŠ¡åœ¨ç­‰å¾…æŸä¸ªå‡½æ•°å®Œæˆï¼Œç„¶åæ‰å¯ä»¥è¿è¡Œ)ï¼š synchronousï¼ˆåŒæ­¥ï¼‰ ä»»åŠ¡æ‰§è¡Œå®Œæˆåretureï¼Œï¼ˆé˜»å¡ï¼‰ asynchronousï¼ˆå¼‚æ­¥ï¼‰ ä¸ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œç«‹å³retureï¼Œï¼ˆä¸é˜»å¡å½“å‰ï¼‰ åœ¨GCDä¸­ï¼Œæˆ‘ä»¬ç”¨ä¸²è¡Œå¹¶è¡Œæè¿°é˜Ÿåˆ—ã€‚è¿™å°±æ˜¯åœ¨æè¿°ï¼Œè¯¥é˜Ÿåˆ—é‡Œé¢çš„æ‰€æœ‰ä»»åŠ¡ï¼Œç›¸äº’ä¹‹é—´åœ¨åŒä¸€æ—¶åˆ»ï¼Œæ˜¯æ€æ ·çš„è¿è¡Œå…³ç³»ã€‚æ˜¯æŒ‡é˜Ÿåˆ—å†…æœ¬èº«çš„ä»»åŠ¡è¿è¡Œé¡ºåºã€‚ æˆ‘ä»¬è¿˜ç”¨åŒæ­¥å¼‚æ­¥ï¼Œæè¿°æŸä¸€ä¸ªä»»åŠ¡ã€‚æ¯”å¦‚è¯´ä»»åŠ¡Aæ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚è¿™å°±æ˜¯åœ¨è¯´ï¼ŒAä»»åŠ¡ï¼Œä¼šé˜»å¡å½“å‰ä»»åŠ¡ï¼Œç›´åˆ°Aç»“æŸã€‚è¿™æ˜¯æŒ‡ä¸åŒä»»åŠ¡ä¹‹é—´çš„å…³ç³»ï¼Œä¸é˜Ÿåˆ—æ— å…³ï¼Œå¯ä»¥æ˜¯ä¸åŒé˜Ÿåˆ—ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸åŒé˜Ÿåˆ—ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ï¼ŒGCDé‡Œé¢çš„ä¸åŒé˜Ÿåˆ—ã€‚ Serial Queuesåœ¨ä¸²è¡Œé˜Ÿåˆ—é‡Œï¼ŒåŒä¸€æ—¶é—´åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚ä»»åŠ¡æŒ‰ç…§è¢«æ·»åŠ è¿›å…¥é˜Ÿåˆ—çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚æ¯ä¸€ä¸ªä»»åŠ¡åªæœ‰åœ¨å‰é¢çš„ä»»åŠ¡å®Œæˆåï¼Œæ‰å¯ä»¥å¼€å§‹æ‰§è¡Œã€‚ ç³»ç»Ÿä¸ºæˆ‘ä»¬æä¾›çš„ä¸²è¡Œé˜Ÿåˆ— main queue ( dispatch_get_main_queue ) main queueæ˜¯ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ï¼Œæœ‰ä¸²è¡Œé˜Ÿåˆ—çš„ä¸€åˆ‡ç‰¹æ€§ã€‚æ¯”è¾ƒç‰¹æ®Šçš„ä¸€ç‚¹æ˜¯åŠ å…¥è¿™ä¸ªé˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œéƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„ã€‚ Concurrent QueuesåŠ å…¥å¹¶è¡Œé˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œæ‰§è¡Œçš„é¡ºåºä¹Ÿæ˜¯æŒ‰ç…§ä»»åŠ¡è¢«åŠ å…¥é˜Ÿåˆ—çš„é¡ºåºæ‰§è¡Œï¼Œè¿™æ˜¯æˆ‘ä»¬å”¯ä¸€å¯ä»¥ä¿è¯çš„ã€‚æ¯ä¸ªä»»åŠ¡éƒ½ä¸ç”¨ç­‰å¾…ä¹‹å‰çš„ä»»åŠ¡å®Œæˆï¼ŒåŒä¸€æ—¶åˆ»å¯ä»¥å¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œã€‚ ç³»ç»ŸåŒæ ·æœ‰ä¸€ä¸ªå…¨å±€çš„å¹¶å‘é˜Ÿåˆ— global dispatch queue ( dispatch_get_global_queue ) è¿™æ˜¯å¦ä¸€ä¸ªæˆ‘ä»¬ç†Ÿæ‚‰çš„å¹¶å‘é˜Ÿåˆ—ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ç›´æ¥ä½¿ç”¨è¿™ä¸ªé˜Ÿåˆ—ï¼Œå¯ä»¥ç®€å•å¤„ç†ä¸€äº›æˆ‘ä»¬éœ€è¦å¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡ã€‚ Custom Queueé™¤äº†ç³»ç»Ÿæä¾›çš„å…¨å±€é˜Ÿåˆ—ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰ä¸²è¡Œæˆ–è€…å¹¶è¡Œçš„é˜Ÿåˆ—ã€‚ 12dispatch_queue_t mySerialQueue = dispatch_queue_create(&quot;com.mySerialQueue&quot;, DISPATCH_QUEUE_SERIAL);dispatch_queue_t myConcurrentQueue = dispatch_queue_create(&quot;com.myConcurrentQueue&quot;, DISPATCH_QUEUE_CONCURRENT); ä¸Šé¢æ˜¯å‡ ç§æˆ‘ä»¬ç”¨GCDæ—¶ï¼Œéœ€è¦ä½¿ç”¨åˆ°çš„é˜Ÿåˆ—ã€‚ å¦å¤–ï¼Œä½¿ç”¨GCDï¼Œé™¤äº†é€‰æ‹©æ­£ç¡®çš„é˜Ÿåˆ—å¤–ï¼Œè¿˜è¦å…³æ³¨ï¼šæˆ‘ä»¬è¦æ‰§è¡Œçš„ä»»åŠ¡æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œã€‚ dispatch_async å¼‚æ­¥æ‰§è¡Œdispatch_async ç”¨æ¥ç”¨å¼‚æ­¥çš„æ–¹å¼æ‰§è¡Œä¸²è¡Œæˆ–è€…å¹¶è¡Œé˜Ÿåˆ—é‡Œé¢çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨ dispatch_async çš„å‡ ç§å¸¸è§æƒ…å†µï¼š custom Serial Queueï¼šå½“æˆ‘ä»¬éœ€è¦æ‰§è¡Œå‡ ä¸ªåº”è¯¥ä¸²è¡Œæ‰§è¡Œçš„ä»»åŠ¡ï¼Œåˆä¸é˜»å¡å½“å‰çš„æ—¶å€™ã€‚ 12345678910111213// task1 task2 é¡ºåºä¾æ¬¡æ‰§è¡Œï¼ŒåŒæ—¶ä¸é˜»å¡othersdispatch_queue_t mySerialQueue = dispatch_queue_create(&quot;com.mySerialQueue&quot;, NULL);dispatch_async(mySerialQueue, ^&#123; ...task1&#125;);dispatch_async(mySerialQueue, ^&#123; ...task2&#125;);...others main Queueï¼šå½“æˆ‘ä»¬æ‰§è¡Œå¹¶å®Œæˆäº†ä¸€æ®µå¼‚æ­¥çš„ä»»åŠ¡ï¼Œéœ€è¦å›åˆ°ä¸»çº¿ç¨‹æ›´æ–°UIçš„æ—¶å€™ï¼Œå¾ˆå¸¸è§çš„é€‰æ‹©å°±æ˜¯ä½¿ç”¨GCDçš„ main queueã€‚ custom or global concurrent Queueï¼šè¿™ä¸ªæ˜¯æˆ‘ä»¬æ‰§è¡ŒéUIä»»åŠ¡çš„å¸¸è§é€‰æ‹©ã€‚è¦æ³¨æ„çš„æ˜¯ï¼ŒåŠ å…¥é˜Ÿåˆ—çš„å¤šä¸ªä»»åŠ¡ä¹‹é—´å¹¶å‘æ‰§è¡Œï¼Œæˆ‘ä»¬æ— æ³•çŸ¥é“é‚£ä¸ªä»»åŠ¡å…ˆå®Œæˆã€‚ 123456789dispatch_queue_t myConcurrentQueue = dispatch_queue_create(&quot;com.myConcurrentQueue&quot;, DISPATCH_QUEUE_CONCURRENT);dispatch_async(myConcurrentQueue, ^&#123; ...task1 dispatch_async(dispatch_get_main_queue(), ^&#123; Update UI &#125;);&#125;); dispatch_sync åŒæ­¥æ‰§è¡Œå¤§éƒ¨åˆ†æ—¶å€™æˆ‘ä»¬æ‰§è¡Œdispatch_syncæ“ä½œï¼Œéƒ½è¦æ ¼å¤–å°å¿ƒäº›ã€‚ custom or main Serial Queueï¼š åŒæ­¥æ‰§è¡Œä¸²è¡Œé˜Ÿåˆ—æ—¶ï¼Œè¦æ³¨æ„é˜²æ­¢å‘ç”Ÿæ­»é”ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç : 123456789101112/ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œtask2 ç­‰å¾… task1å®Œæˆï¼Œæ‰€ä»¥ä¸ä¼šå¼€å§‹ã€‚è€Œtask1åˆå®Œæˆä¸äº†ï¼Œå› ä¸ºtask2è¿˜æ²¡æœ‰æ‰§è¡Œå®Œ(ç”šè‡³éƒ½æ²¡æœ‰å¼€å§‹)ã€‚æ­»é”ã€‚ dispatch_queue_t mySerialQueue = dispatch_queue_create(&quot;com.mySerialQueue&quot;, DISPATCH_QUEUE_SERIAL); dispatch_sync(mySerialQueue, ^&#123; ...task1 dispatch_sync(mySerialQueue, ^&#123; ...task2 &#125;);&#125;); concurrent Queueï¼šåˆç†ä½¿ç”¨å¯ä»¥è§£å†³ä¸€äº›å¹¶å‘è¯»å†™é—®é¢˜ã€‚ä¾‹å¦‚ 123456789101112//task1 æ‰§è¡Œç»“æŸåï¼Œtask2æ‰ä¼šå¼€å§‹æ‰§è¡Œã€‚dispatch_queue_t myConcurrentQueue = dispatch_queue_create(&quot;com.myConcurrentQueue&quot;, DISPATCH_QUEUE_CONCURRENT);dispatch_sync(myConcurrentQueue, ^&#123; ...task1 è¯»&#125;); dispatch_async(myConcurrentQueue, ^&#123; ...task2 å†™&#125;); dispatch_afterå¼‚æ­¥å»¶è¿Ÿæ“ä½œã€‚å®é™…ä¸Š dispatch_after å°±åƒä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œçš„ dispatch_asyncã€‚ 12345double delayInSeconds = 1.0;dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC)); dispatch_after(popTime, dispatch_get_main_queue(), ^(void)&#123;&#125;);","categories":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/categories/iOS/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/tags/iOS/"},{"name":"GCD","slug":"GCD","permalink":"https://blog.yuhanle.com/tags/GCD/"}]},{"title":"GCD åŒæ­¥æ“ä½œä¹‹ Resource Competition","slug":"gcd-sync-barriers-groups-semaphore","date":"2017-04-28T00:00:00.000Z","updated":"2021-10-21T08:18:48.335Z","comments":true,"path":"2017/04/28/gcd-sync-barriers-groups-semaphore/","link":"","permalink":"https://blog.yuhanle.com/2017/04/28/gcd-sync-barriers-groups-semaphore/","excerpt":"åœ¨å­¦ä¼šç®€å•çš„ä½¿ç”¨GCDå¤„ç†å¤šçº¿ç¨‹ä¹‹åï¼Œæˆ‘ä»¬æ¥å†æ·±å…¥äº†è§£ä¸‹GCDå¯¹å¤šçº¿ç¨‹çš„ä¸€äº›åŒæ­¥æ§åˆ¶ã€‚","text":"åœ¨å­¦ä¼šç®€å•çš„ä½¿ç”¨GCDå¤„ç†å¤šçº¿ç¨‹ä¹‹åï¼Œæˆ‘ä»¬æ¥å†æ·±å…¥äº†è§£ä¸‹GCDå¯¹å¤šçº¿ç¨‹çš„ä¸€äº›åŒæ­¥æ§åˆ¶ã€‚ dispatch barriersåœ¨ä½¿ç”¨ Concurrent Queue çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›é˜Ÿåˆ—ä¸­çš„æŸé¡¹ä»»åŠ¡ï¼Œèƒ½å¤Ÿè¢«ä¸²è¡Œæ‰§è¡Œï¼Œæ¥é¿å…èµ„æºç«äº‰ç­‰å¤šçº¿ç¨‹é—®é¢˜ã€‚æ¯”å¦‚é‡åˆ°è¯»å†™é—®é¢˜ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ dispatch barriersã€‚æ¥ä¿è¯å³ä½¿åœ¨å¹¶è¡Œé˜Ÿåˆ—ä¸­ï¼Œå¯¹æŸä¸ªå¯¹è±¡çš„è¯»å’Œå†™æ“ä½œï¼Œåœ¨åŒä¸€æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªå¯ä»¥è¢«æ‰§è¡Œã€‚è¿™æ—¶å€™å°±å¯ä»¥ç”¨åˆ° dispatch barriersäº†ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹ï¼Œä¸åŒçš„é˜Ÿåˆ—ä¸­barriersçš„ä½¿ç”¨ï¼š Custom Serial Queue: åœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œé˜Ÿåˆ—éƒ½æ˜¯é¡ºåºä¸²è¡Œæ‰§è¡Œï¼Œä½¿ç”¨barriersæ²¡æœ‰ä»»ä½•å¥½å¤„ã€‚ä¸€èˆ¬æ¥è®²æˆ‘ä»¬ä¸éœ€è¦è¿™ä¹ˆåšã€‚ Global Concurrent Queue: è¿™é‡Œè™½ç„¶æ˜¯å¹¶è¡Œé˜Ÿåˆ—ï¼Œä½†è¿™ä¸ªé˜Ÿåˆ—æ˜¯å…¨å±€çš„ï¼Œæˆ‘ä»¬ä¸èƒ½ä¿è¯åˆ«äººæ²¡æœ‰ä½¿ç”¨è¿™ä¸ªé˜Ÿåˆ—ã€‚å¯¹è¿™ä¸ªé˜Ÿåˆ—åŠ barriersï¼Œå¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–æ¨¡å—çš„åŠŸèƒ½ã€‚æ‰€ä»¥ä¸å»ºè®®åœ¨è¿™ä¸ªé˜Ÿåˆ—ä¸­ä½¿ç”¨ã€‚ Custom Concurrent Queue: åœ¨è‡ªå®šä¹‰çš„å¹¶è¡Œé˜Ÿåˆ—ä¸­ä½¿ç”¨barriersï¼Œæ˜¯æ¯”è¾ƒåˆé€‚çš„æ–¹å¼ã€‚ æ‰€ä»¥å½“æˆ‘ä»¬è¦åšçš„å¹¶è¡Œæ“ä½œï¼Œå¯èƒ½å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æ—¶å€™ã€‚æˆ‘ä»¬æœ€å¥½è€ƒè™‘æ–°å»ºè‡ªå®šä¹‰å¹¶è¡Œé˜Ÿåˆ—ï¼Œè€Œä¸æ˜¯ç®€å•åœ°ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ Global Queueã€‚ ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾æŸä¸€ä¸ªç±»è¦ç®¡ç†MyClassè¿™ä¸ªç±»å‹çš„è¯»å†™ï¼Œä¸‹é¢åˆ—ä¸¾è¿™ä¸ªç±»çš„ä¸€äº›ç›¸å…³æ–¹æ³•: 123456789101112131415161718192021222324252627282930313233343536373839//åˆå§‹åŒ–è‡ªå®šä¹‰å¹¶å‘é˜Ÿåˆ— - (instancetype)init&#123; if(self = [super init])&#123; customConcurrentQueue = dispatch_queue_create(&quot;com.customConcurrentQueue&quot;, DISPATCH_QUEUE_CONCURRENT); &#125; &#125; //å†™æ–¹æ³• - (void)write:(MyClass *)myClass &#123; if( myClass )&#123; //ä½¿ç”¨barrierï¼Œä¿è¯å†™æ–¹æ³•ï¼Œå¯ä»¥ä¸²è¡Œæ‰§è¡Œ dispatch_barrier_async(self.customConcurrentQueue, ^&#123; //å†™æ“ä½œ ... &#125;); &#125; &#125; //è¯»æ–¹æ³• - (MyClass *)read&#123; //è¦ä¿è¯ï¼Œè¯»å’Œå†™æ–¹æ³•ä¸èƒ½åŒæ—¶æ‰§è¡Œï¼Œ //é¦–å…ˆï¼Œä»–ä»¬è¦åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­ ï¼šself.customConcurrentQueue //å…¶æ¬¡ï¼Œè¯»æ–¹æ³•è¦ç­‰å¾…è¯»å‡ºæ•°æ®åè¿”å›ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯åŒæ­¥æ“ä½œ ï¼šdispatch_sync __block MyClass *myClass = [[MyClass alloc] init]; dispatch_sync(self.customConcurrentQueue, ^&#123; //è¯»æ“ä½œ myClass = ... &#125;); return myClass; &#125; dispatch groupsæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¤šä¸ªå¹¶è¡Œä»»åŠ¡å…¨éƒ¨å®Œæˆåï¼Œåšä¸€äº›æ“ä½œï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ° groupæ¥ç®¡ç†äº†ã€‚ ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚æˆ‘æœ‰4ä¸ªä»»åŠ¡è¦ä½¿ç”¨å¹¶å‘å¤„ç†ï¼Œä»»åŠ¡4è¦ç­‰å¾…ï¼Œä»»åŠ¡1ã€2ã€3å®Œæˆåæ‰§è¡Œã€‚åŒæ—¶ï¼Œä»»åŠ¡4ä¸é˜»å¡å½“å‰çš„çº¿ç¨‹ï¼š 12345678910111213141516171819202122232425262728293031- (void)testDispatchGroup&#123; dispatch_queue_t concurrentQueue = dispatch_queue_create(&quot;com.test.testConcurrent&quot;, DISPATCH_QUEUE_CONCURRENT); dispatch_group_t group = dispatch_group_create(); //å¼‚æ­¥æ“ä½œ dispatch_group_async(group, concurrentQueue, ^&#123; ä»»åŠ¡1 &#125;); dispatch_group_async(group, concurrentQueue, ^&#123; ä»»åŠ¡2 &#125;); dispatch_group_async(group, concurrentQueue, ^&#123; ä»»åŠ¡3 &#125;); //dispatch_group_notify ä¸­çš„blockæ‰§è¡Œçš„æ˜¯æˆ‘ä»¬æœ€åè¦åšçš„ä»»åŠ¡ã€‚åŒæ—¶ï¼Œè¿™é‡Œæ˜¯å¼‚æ­¥æ“ä½œï¼Œä¸ä¼šé˜»å¡åé¢å…¶ä»–ä»£ç çš„æ‰§è¡Œã€‚ dispatch_group_notify(group, dispatch_get_main_queue(), ^&#123; //å‰é¢3ä¸ªä»»åŠ¡ï¼Œéƒ½æ‰§è¡Œå®Œæˆåï¼Œæ‰§è¡Œé‡Œé¢çš„block ä»»åŠ¡4 &#125;); ...&#125; å†çœ‹å¦ä¸€ä¸ªéœ€æ±‚ï¼Œè¿˜æ˜¯ä¹‹å‰çš„4ä¸ªä»»åŠ¡ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œä»»åŠ¡4é™¤äº†è¦ç­‰å¾…å…¶ä»–ä»»åŠ¡å®Œæˆï¼Œè¿˜è¦é˜»å¡å½“å‰çº¿ç¨‹ï¼š 12345678910111213141516171819202122232425262728- (void)testDispatchGroup&#123; dispatch_group_t group = dispatch_group_create(); //å¼‚æ­¥æ“ä½œ dispatch_group_async(group, concurrentQueue, ^&#123; ä»»åŠ¡1 &#125;); dispatch_group_async(group, concurrentQueue, ^&#123; ä»»åŠ¡2 &#125;); dispatch_group_async(group, concurrentQueue, ^&#123; ä»»åŠ¡3 &#125;); //dispatch_group_wait ç­‰å¾…ä¸Šé¢ä»»åŠ¡å…¨éƒ¨å®Œæˆï¼Œé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°è¶…è¿‡è®¾ç½®çš„æ—¶é—´ //ä½¿ç”¨æ—¶ï¼Œè¦æ³¨æ„é¿å…é˜»å¡ä¸»çº¿ç¨‹ç­‰é—®é¢˜ dispatch_group_wait(group, DISPATCH_TIME_FOREVER); ä»»åŠ¡4 ...&#125; å¦å¤–ï¼Œé™¤äº†ä½¿ç”¨dispatch_group_asyncç®¡ç†è¦åšçš„ä»»åŠ¡ã€‚è¿˜å¯ä»¥ä½¿ç”¨dispatch_group_enterã€ dispatch_group_leave ç»„åˆçš„æ–¹å¼ï¼Œæ‰‹åŠ¨é€šçŸ¥ä»»åŠ¡å®Œæˆã€‚å¦‚æœä½¿ç”¨æ‰‹åŠ¨ç®¡ç†çš„è¯ï¼Œæˆ‘ä»¬è¦æ³¨æ„ï¼šenterå’Œleaveæ–¹æ³•ï¼Œåº”è¯¥æ˜¯æˆå¯¹å‡ºç°çš„ã€‚ dispatch_group_enter(customGroup) : æ‰‹åŠ¨å‘ŠçŸ¥customGroupï¼Œè¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å·²ç»å¼€å§‹æ‰§è¡Œã€‚ dispatch_group_leave(customGroup) : æ‰‹åŠ¨å‘ŠçŸ¥customGroupï¼Œè¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å·²ç»å®Œæˆã€‚å½“æ‰€æœ‰enterå¯¹åº”çš„leaveæ–¹æ³•éƒ½æ‰§è¡Œè¿‡åã€‚æˆ‘ä»¬çš„dispatch_group_notify()æˆ–è€…dispatch_group_wait()ï¼Œå°±å¯ä»¥æ¥åˆ°ä»»åŠ¡å®Œæˆçš„é€šçŸ¥ã€‚ dispatch semaphore ä¿¡å·é‡å½“æœ‰å¤šä¸ªæ¶ˆè´¹è€…ï¼Œè®¿é—®æœ‰é™çš„èµ„æºçš„æ—¶å€™ï¼Œä¿¡å·é‡) å¯ä»¥è®©æˆ‘ä»¬æ›´å¥½çš„æ§åˆ¶ã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹ä¿¡å·ä¸ªæ•°çš„æ§åˆ¶ï¼Œæ¥è¾¾åˆ°çº¿ç¨‹é—´çš„åŒæ­¥æ“ä½œã€‚å½“ä¿¡å·ä¸ªæ•°ä¸º0çš„æ—¶å€™ï¼Œå½“å‰çº¿ç¨‹è¢«é˜»å¡ï¼Œç­‰å¾…ä¿¡å·é‡å¢åŠ ï¼Œå½“ä¿¡å·é‡ä¸ªæ•°å¤§äº0çš„æ—¶å€™ï¼Œåˆ™çº¿ç¨‹ç»§ç»­æ‰§è¡Œã€‚ æ³¨æ„ï¼ŒåŒæ­¥çš„æ“ä½œéƒ½è¦å°å¿ƒä½¿ç”¨ï¼Œé¿å…æ­»é”ç­‰é—®é¢˜ã€‚ å¦å¤–ï¼Œæ ¹æ®dispatch_semaphore_waitçš„è¿”å›å€¼ï¼Œå¯ä»¥ç”¨äºåˆ¤æ–­æŸä»»åŠ¡æ˜¯å¦è¶…æ—¶æ“ä½œã€‚ 123456789101112131415161718192021222324252627- (void)testSemaphore&#123; //åˆ›å»º ä¿¡å·é‡ å‚æ•°ä»£è¡¨åˆå§‹ä¸ªæ•° dispatch_semaphore_t semaphore = dispatch_semaphore_create(0); dispatch_async(concurrentQueue, ^&#123; sleep(2); //å‘é€ä¸€ä¸ªä¿¡å·ï¼Œä¿¡å·é‡ä¸ªæ•° +1 dispatch_semaphore_signal(semaphore); &#125;); dispatch_async(concurrentQueue, ^&#123; dispatch_time_t timeoutTime = dispatch_time(DISPATCH_TIME_NOW, 1 * NSEC_PER_SEC); //çº¿ç¨‹ç­‰å¾…ï¼Œå½“ä¿¡å·é‡å¤§äº0æ—¶ ä»»åŠ¡ç»§ç»­æ‰§è¡Œï¼Œä¿¡å·é‡ -1 //çº¿ç¨‹ç­‰å¾…ï¼Œè¶…è¿‡é¢„å®šçš„è¶…æ—¶æ—¶é—´ ä»»åŠ¡ç»§ç»­æ‰§è¡Œ ä¿¡å·é‡ä¸å˜ //å…³äºè¿”å›å€¼ï¼šå½“è¿”å›å€¼ ä¸ä¸º0 çš„æ—¶å€™ï¼Œè¯´æ˜è¶…æ—¶ if( dispatch_semaphore_wait(semaphore, timeoutTime) )&#123; NSLog(@&quot;time out&quot;); &#125; &#125;);&#125;","categories":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/categories/iOS/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/tags/iOS/"},{"name":"GCD","slug":"GCD","permalink":"https://blog.yuhanle.com/tags/GCD/"}]},{"title":"ç¦»å¼€è±¡ç‰™å¡”ä»¥å","slug":"say-hello-work","date":"2017-04-18T00:00:00.000Z","updated":"2021-10-21T08:18:48.339Z","comments":true,"path":"2017/04/18/say-hello-work/","link":"","permalink":"https://blog.yuhanle.com/2017/04/18/say-hello-work/","excerpt":"å­¦æ ¡å‡ºæ¥æœ‰å¾ˆå¤šåŒºåˆ«ï¼Œå…¶ä¸­æœ‰ä¸€ç‚¹æ˜¯æœ€æ— èŠçš„ã€‚","text":"å­¦æ ¡å‡ºæ¥æœ‰å¾ˆå¤šåŒºåˆ«ï¼Œå…¶ä¸­æœ‰ä¸€ç‚¹æ˜¯æœ€æ— èŠçš„ã€‚ ç”±è¿‡å»çš„ä¸‰ç‚¹ä¸€çº¿ï¼Œè½¬å˜æˆä¸¤ç‚¹ä¸€çº¿ï¼Œæ²¡äº†æ•™å®¤ï¼Œæ²¡äº†é£Ÿå ‚ï¼Œå˜æˆäº†å…¬å¸å’Œå®¿èˆã€‚ æ²¡æœ‰è®¤çœŸæ•°è¿‡ï¼Œå¹³å‡æ¯å¤©ï¼Œåœ¨åŒä¸€æ¡è·¯ä¸Šæ¥å›ï¼Œå°†è¿‘ä¸‰å¹´ï¼Œç£¨å¹³äº†å‡ åŒé‹å­ï¼Œæ“¦ç¢°è¿‡å¤šå°‘æ¬¡è·¯è¾¹çš„æ§æ ‘ã€‚ å‡ºäº†åœ°é“ç«™ï¼Œæœ‰ä¸€ä¸ªçº¢ç»¿ç¯è·¯å£ï¼Œå…«ç‚¹åŠé’Ÿæ˜¯é«˜å³°æœŸï¼Œäººæ­£å¤šï¼Œå¾ˆå¤šäººè¿«ä¸åŠå¾…ï¼Œè¶ç€è½¦æ¥è½¦å¾€ï¼Œè¿…é€Ÿçš„çªœåˆ°å¯¹é¢ï¼Œæ€¥åŒ†åŒ†åœ°æ¶ˆå¤±åœ¨è§†çº¿é‡Œã€‚ ä¹ æƒ¯è¿‡äº†é©¬è·¯ï¼Œç©¿è¿‡åœè½¦åœºï¼Œå› ä¸ºè·¯è¾¹çš„å°è·¯å¾ˆçª„ï¼Œå¦‚æœå¯¹é¢åŒæ—¶èµ°è¿‡æ¥ä¸€ä¸ªäººï¼Œå°±éœ€è¦ç›¸äº’ä¾§èº«ï¼Œå°±åƒé‚£ç¯‡é›¨å··ï¼Œä¹Ÿç»å¸¸çš„ä¸å°å¿ƒè¸©åˆ°çŸ³å‘ï¼Œæ±¡æ³¥æº…åˆ°å¦ä¸€åŒé‹å­ã€‚ åœè½¦åœºé‡Œèµ°ç€ï¼Œå¾ˆå±é™©ï¼Œå¯èƒ½æ­£åœ¨ç©æ‰‹æœºï¼Œæˆ‘æ²¡æ³¨æ„ã€‚æœ‰ä¸€æ¬¡ï¼Œæœ‰ä½å¥³å£«ï¼Œä½ç€å¤´èµ°ç€èµ°ç€ï¼Œç©¿è¿‡åœè½¦æ†ï¼Œæ²¡æƒ³åˆ°åœè½¦æ†å½“æ—¶æ­£åœ¨ä¸‹è½ï¼Œæˆ‘èƒ½å¬åˆ°æ•²å‡»å¤´éƒ¨çš„å£°éŸ³ï¼Œå¾ˆè„†ï¼Œæ¥ç€å°±æ˜¯æ­‡æ–¯åº•é‡Œçš„å—·å«ã€‚ è·¯è¾¹æœ‰ä¸ªå¿«å®¢ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºä»–æ˜¯å‡çš„å¿«å®¢ï¼Œåœ¨æˆ‘å°è±¡ä¸­ï¼Œè¿™ä¸ªåå­—ä¸åº”è¯¥æ˜¯æ„Ÿå†’è¯å—ï¼Ÿå¾ˆå°‘å»å…‰é¡¾è¿™å®¶ä¾¿åˆ©åº—ï¼Œå› ä¸ºä¸œè¥¿å°‘ï¼Œä¸åˆå£å‘³ï¼Œè¿˜ç‰¹åˆ«çš„è´µï¼Œé™¤äº†æ—©é¤ï¼Œè¿˜æœ‰åˆé¥­ï¼Œé›¶é£Ÿï¼Œå¦‚æœæ—¶é—´æ¥å¾—åŠï¼Œæˆ‘ä¼šå»é‚£å®¶ç½—æ£®ä¹°æ¯æ°¸å’Œè±†æµ†ï¼Œè™½ç„¶å–èµ·æ¥æ²¡æœ‰å¤§è±†çš„å‘³é“ï¼Œä½†è¿˜è›®åˆå£å‘³ï¼Œç‰¹åˆ«æ˜¯å†¬å¤©ï¼Œè·¯ä¸Šé¡ºä¾¿æš–æš–æ‰‹ã€‚ åŠå…¬æ¥¼é‡Œçš„ç”µæ¢¯ï¼Œå·¥ä½œæ—¥ä¸Šç­æ—¶é—´ï¼Œæˆ‘æ²¡æœ‰ä¹˜è¿‡ã€‚å°±åœ¨äº”æ¥¼ï¼Œé—­ç€çœ¼æˆ‘éƒ½æ‘¸ä¸Šå»äº†ï¼Œå¹³æ—¥é‡Œå¹å˜˜ç€é”»ç‚¼èº«ä½“ï¼Œè¦å‡è‚¥ï¼Œè¿™ä¹Ÿæ˜¯å”¯ä¸€èƒ½å¤ŸåšæŒä¸‹å»ï¼Œé”»ç‚¼çš„æ–¹å¼äº†ã€‚ å¾ˆæƒ³å¿µï¼Œä¸¤å¹´å‰æ¯å¤©æ¥å›éª‘è¡Œ20å…¬é‡Œçš„æ—¥å­ï¼Œèº«ä½“æ˜¯å¥½äº†äº›ï¼Œè…¿è¶Šæ¥è¶Šç²—ï¼Œè¶Šæœ‰åŠ›ï¼Œå‡Œæ™¨ä¸¤ç‚¹çš„è·¯ä¸Šï¼Œè¿ç€é£ï¼Œéª‘åœ¨å¿«è½¦é“ä¸Šï¼Œè‚šå­é¥¿çš„è¯å°±åœ¨è·¯è¾¹åƒç‚¹è·¯è¾¹æ‘Šã€‚æ‘Šä¸»ä»¬å‡ºæ¥çš„å¾ˆæ™šï¼Œä»¥è‡³äºæˆ‘çš„å¾ˆå¤šæœ‹å‹éƒ½è¯´æ²¡è§è¿‡è·¯è¾¹æ‘Šï¼Œä¹Ÿè®¸æ˜¯ä¸Šæµ·æ•´æ²»çš„å¾ˆä¸¥æ ¼å§ï¼ ä¸ç®¡è¿™ä¸€å¤©ï¼Œå¦‚ä½•å¦‚ä½•ï¼Œä¹Ÿä¸ä¼šå½±å“æ–°çš„ä¸€å¤©ã€‚ æˆ–è®¸ï¼Œåªæœ‰æ¸…ååŒ—å¤§æ‰èƒ½ç§°ä¹‹ä¸ºè±¡ç‰™å¡”å§ï¼Ÿ é¢˜å›¾ï¼šaobahorse ä¸è¦æ±‚ç½²å","categories":[{"name":"suibi","slug":"suibi","permalink":"https://blog.yuhanle.com/categories/suibi/"}],"tags":[{"name":"motion","slug":"motion","permalink":"https://blog.yuhanle.com/tags/motion/"}]},{"title":"é€šè¿‡Sonar åˆæ­¥æ„å»ºä»£ç æŒç»­å®¡æŸ¥","slug":"continuous-code-quality-sonarqube-install","date":"2017-02-15T00:00:00.000Z","updated":"2021-10-21T08:18:48.334Z","comments":true,"path":"2017/02/15/continuous-code-quality-sonarqube-install/","link":"","permalink":"https://blog.yuhanle.com/2017/02/15/continuous-code-quality-sonarqube-install/","excerpt":"ä»‹ç»ç¯‡SonarQube ä»‹ç»SonarQube æ˜¯ä¸€æ¬¾é¢†å…ˆçš„æŒç»­ä»£ç è´¨é‡ç›‘æ§å¹³å°ï¼Œå¼€æºåœ¨github ä¸Šï¼Œç°åœ¨å·²æ›´æ–°åˆ°6.2 ç‰ˆæœ¬ï¼Œstar æ•°é‡è¶…è¿‡ 1400+ï¼Œå¯ä»¥è½»æ¾é…ç½®åœ¨å†…ç½‘æœåŠ¡å™¨ï¼Œå®æ—¶ç›‘æ§ä»£ç ï¼Œå¸®åŠ©äº†è§£æå‡æå‡å›¢é˜Ÿé¡¹ç›®ä»£ç è´¨é‡ã€‚é€šè¿‡æ’ä»¶æœºåˆ¶ï¼ŒSonarQubeå¯ä»¥ç»§æ‰¿ä¸åŒçš„æµ‹è¯•å·¥å…·ï¼Œä»£ç åˆ†æå·¥å…·ï¼Œä»¥åŠæŒç»­é›†æˆå·¥å…·ã€‚","text":"ä»‹ç»ç¯‡SonarQube ä»‹ç»SonarQube æ˜¯ä¸€æ¬¾é¢†å…ˆçš„æŒç»­ä»£ç è´¨é‡ç›‘æ§å¹³å°ï¼Œå¼€æºåœ¨github ä¸Šï¼Œç°åœ¨å·²æ›´æ–°åˆ°6.2 ç‰ˆæœ¬ï¼Œstar æ•°é‡è¶…è¿‡ 1400+ï¼Œå¯ä»¥è½»æ¾é…ç½®åœ¨å†…ç½‘æœåŠ¡å™¨ï¼Œå®æ—¶ç›‘æ§ä»£ç ï¼Œå¸®åŠ©äº†è§£æå‡æå‡å›¢é˜Ÿé¡¹ç›®ä»£ç è´¨é‡ã€‚é€šè¿‡æ’ä»¶æœºåˆ¶ï¼ŒSonarQubeå¯ä»¥ç»§æ‰¿ä¸åŒçš„æµ‹è¯•å·¥å…·ï¼Œä»£ç åˆ†æå·¥å…·ï¼Œä»¥åŠæŒç»­é›†æˆå·¥å…·ã€‚ ä¸æŒç»­é›†æˆå·¥å…·ï¼ˆä¾‹å¦‚ Hudson/Jenkins ç­‰ï¼‰ä¸åŒï¼ŒSonarQube å¹¶ä¸æ˜¯ç®€å•åœ°æŠŠä¸åŒçš„ä»£ç æ£€æŸ¥å·¥å…·ç»“æœï¼ˆä¾‹å¦‚ FindBugsï¼ŒPMD ç­‰ï¼‰ç›´æ¥æ˜¾ç¤ºåœ¨ Web é¡µé¢ä¸Šï¼Œè€Œæ˜¯é€šè¿‡ä¸åŒçš„æ’ä»¶å¯¹è¿™äº›ç»“æœè¿›è¡Œå†åŠ å·¥å¤„ç†ï¼Œé€šè¿‡é‡åŒ–çš„æ–¹å¼åº¦é‡ä»£ç è´¨é‡çš„å˜åŒ–ï¼Œä»è€Œå¯ä»¥æ–¹ä¾¿åœ°å¯¹ä¸åŒè§„æ¨¡å’Œç§ç±»çš„å·¥ç¨‹è¿›è¡Œä»£ç è´¨é‡ç®¡ç†ã€‚ åœ¨å¯¹å…¶ä»–å·¥å…·çš„æ”¯æŒæ–¹é¢ï¼ŒSonar ä¸ä»…æä¾›äº†å¯¹ IDE çš„æ”¯æŒï¼Œå¯ä»¥åœ¨ Eclipse å’Œ IntelliJ IDEA è¿™äº›å·¥å…·é‡Œè”æœºæŸ¥çœ‹ç»“æœï¼›åŒæ—¶ SonarQube è¿˜å¯¹å¤§é‡çš„æŒç»­é›†æˆå·¥å…·æä¾›äº†æ¥å£æ”¯æŒï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨æŒç»­é›†æˆä¸­ä½¿ç”¨ SonarQubeã€‚ æ­¤å¤–ï¼ŒSonarQube çš„æ’ä»¶è¿˜å¯ä»¥å¯¹ Java ä»¥å¤–çš„å…¶ä»–ç¼–ç¨‹è¯­è¨€æä¾›æ”¯æŒï¼Œå¯¹å›½é™…åŒ–ä»¥åŠæŠ¥å‘Šæ–‡æ¡£åŒ–ä¹Ÿæœ‰è‰¯å¥½çš„æ”¯æŒã€‚ è¡Œä¸šå†…æåˆ°â€ä»£ç è´¨é‡ç®¡ç†, è‡ªåŠ¨åŒ–è´¨é‡ç®¡ç†â€, ä¸€èˆ¬æŒ‡çš„éƒ½æ˜¯é€šè¿‡Sonaræ¥å®ç°ã€‚æœ¬æ–‡çš„ç›®æ ‡æ˜¯å®ç°åœ¨Sonarä¸Šæ˜¾ç¤ºå‡ºiOSé¡¹ç›®, å…ˆçœ‹å¼ æœ€ç»ˆçš„æ•ˆæœå›¾: ç”¨Sonarèƒ½å¤Ÿå®ç°ä»€ä¹ˆ? æŠ€æœ¯å€ºåŠ¡(sonaræ ¹æ®â€è§„åˆ™â€æ‰«æå‡ºä¸ç¬¦åˆè§„åˆ™çš„ä»£ç ) è¦†ç›–ç‡(å•å…ƒæµ‹è¯•è¦†ç›–ç‡) é‡å¤(é‡å¤çš„ä»£ç , æœ‰åˆ©äºæé†’å°è£…) ç»“æ„ é—®é¢˜1: â€œè§„åˆ™â€æŒ‡çš„æ˜¯ä»€ä¹ˆ? åœ¨Sonarå·¥å…·ä¸­é…ç½®æ£€æµ‹å·¥å…·(è§„åˆ™), ç„¶åsonaræ ¹æ®è§„åˆ™æ£€æµ‹&quot;è´¨é‡æŠ¥å‘Šæ–‡ä»¶&quot;, å¾—å‡ºé—®é¢˜æ•°ç›®ã€‚ æ¯”å¦‚æœ¬æ–‡é…ç½®çš„è§„åˆ™æ˜¯OCLint é—®é¢˜2: æŠ€æœ¯å€ºåŠ¡çš„å¤©æ•°æ€ä¹ˆå¾—å‡º? æ¯ä¸ªè§„åˆ™éƒ½æœ‰å¯¹åº”çš„å¤„ç†æ—¶é—´, æœ€å:é—®é¢˜ç±»å‹1æ•°ç›® * å¯¹åº”æ—¶é—´ + é—®é¢˜ç±»å‹2æ•°ç›® * å¯¹åº”æ—¶é—´ +... å¾—åˆ°æ—¶é—´ã€‚ SonarQube å·¥ä½œæµç¨‹SonarQube å¹¶ä¸æ˜¯ç®€å•åœ°å°†å„ç§è´¨é‡æ£€æµ‹å·¥å…·çš„ç»“æœï¼ˆä¾‹å¦‚ FindBugsï¼ŒPMD ç­‰ï¼‰ç›´æ¥å±•ç°ç»™å®¢æˆ·ï¼Œè€Œæ˜¯é€šè¿‡ä¸åŒçš„æ’ä»¶ç®—æ³•æ¥å¯¹è¿™äº›ç»“æœè¿›è¡Œå†åŠ å·¥ï¼Œæœ€ç»ˆä»¥é‡åŒ–çš„æ–¹å¼æ¥è¡¡é‡ä»£ç è´¨é‡ï¼Œä»è€Œæ–¹ä¾¿åœ°å¯¹ä¸åŒè§„æ¨¡å’Œç§ç±»çš„å·¥ç¨‹è¿›è¡Œç›¸åº”çš„ä»£ç è´¨é‡ç®¡ç†ã€‚ SonarQube åœ¨è¿›è¡Œä»£ç è´¨é‡ç®¡ç†æ—¶ï¼Œä¼šä»å›¾ 1 æ‰€ç¤ºçš„ä¸ƒä¸ªçº¬åº¦æ¥åˆ†æé¡¹ç›®çš„è´¨é‡ã€‚ SonarQube ä¸æ˜¯é‚£ç§å®‰è£…å³å¯ç”¨çš„å·¥å…·ï¼Œä»–éœ€è¦æ•°æ®åº“çš„æ”¯æŒï¼Œç”¨äºå­˜å‚¨æ£€æµ‹é¡¹ç›®åçš„åˆ†ææ•°æ®ï¼ŒåŒæ—¶ä¸ºäº†å®ç°å¯æŒç»­ç›‘æµ‹ï¼Œè¿˜éœ€è¦é¡¹ç›®æŒç»­é›†æˆå·¥å…·ï¼ˆå¦‚Jenkinsï¼‰çš„æ”¯æŒï¼Œåœ¨æ„å»ºç‰ˆæœ¬å‰ï¼Œé€šè¿‡Jenkins+Sonar æ’ä»¶æ‰§è¡Œé¡¹ç›®åˆ†ææŒ‡ä»¤ï¼Œæœ€ç»ˆçš„ç»“æœä¼šé€šè¿‡SonarQube æœåŠ¡å™¨çš„Web é¡µé¢å±•ç¤ºã€‚ ä¸‹é¢æˆ‘ä»¬å°±é€šè¿‡mysql+Jenkins+SonarQube å®ç°é¡¹ç›®ä»£ç è´¨é‡çš„å¯æŒç»­ç›‘æµ‹ å®‰è£…ç¯‡SonarQube çš„å®‰è£…æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ XCToolå·¥å…· OClintå·¥å…· Gcovrå·¥å…· Git, SVNå‘½ä»¤ Linux å‘½ä»¤ mysql æ“ä½œ Jenkinså·¥å…· Sonarå·¥å…· Shellè¯­æ³• Sonar-runnerå·¥å…· è½¯ä»¶åŠç¡¬ä»¶çš„è¦æ±‚SonarQube çš„å®‰è£…é€šå¸¸éœ€è¦æ»¡è¶³ä¸€å®šçš„è½¯ç¡¬ä»¶æ¡ä»¶ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹æ‰€ç¤ºï¼š Server è¦æ±‚ Web server æœ€å°‘éœ€è¦ 500MB çš„å†…å­˜ç©ºé—´ï¼Œæ¨èå†…å­˜ç©ºé—´å¤§å° 2GBã€‚Sonar åœ¨è¿›è¡Œä»£ç è´¨é‡åˆ†ææ—¶ï¼Œé€šå¸¸å¤§çº¦æ¯ 1 KLOC éœ€è¦å­˜å‚¨ 350KB å·¦å³çš„æ•°æ®ï¼Œæ‰€ä»¥è¦å°½é‡ä¸º SonarQube çš„ web server æä¾›å¤§çš„å†…å­˜ã€‚ Database è¦æ±‚ å°½ç®¡ SonarQube æœ¬èº«è‡ªå¸¦åµŒå…¥çš„ Derby æ•°æ®åº“ï¼Œä½†æ˜¯ç”±äº Derby æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¼ºçƒˆæ¨èå®‰è£…ç›¸åº”çš„ä¼ä¸šç‰ˆæ•°æ®åº“ï¼ŒSonarQube æ”¯æŒçš„æ•°æ®åº“åŒ…æ‹¬ï¼š MySQL 5.x+ã€Oracle10g+ã€PostgreSQL 9.x å’Œ MS SQLServer 2005 and 2008ï¼Œæ¨èä½¿ç”¨ MySQLã€‚ Browser è¦æ±‚ SonarQube æ”¯æŒå¤§å¤šæ•°çš„æµè§ˆå™¨ï¼ŒåŒ…æ‹¬ Firefoxã€Internet Explorer 7.x and 8.x and chromed ç­‰ï¼Œæ¨èä½¿ç”¨ chromedã€‚ ç›®å‰å®˜æ–¹æœ€æ–°çš„ç‰ˆæœ¬æ˜¯6.2ï¼Œä½†æ˜¯å¯¹äºéƒ¨åˆ†æ’ä»¶ä¼šå­˜åœ¨ä¸å…¼å®¹çš„é—®é¢˜ï¼Œå¯¼è‡´Sonar æœåŠ¡å¯åŠ¨å¤±è´¥ï¼Œæ‰€ä»¥ä¸ºäº†ä½¿ç”¨å’Œæ¼”ç¤ºï¼Œæˆ‘é‡‡ç”¨äº†æ—§ç‰ˆæœ¬4.5.7ï¼Œå› ä¸ºæ­¤ç‰ˆæœ¬å…¼å®¹ sonar-objective-c-plugin-0.3.1 æ’ä»¶ã€‚ æ›´æ–°ï¼š å…³äºXCode8çš„å…¼å®¹æ–¹æ¡ˆ, è¯·çœ‹è¿™ç¯‡æ–‡ç«  å®‰è£…æ­¥éª¤ æ•°æ®åº“é…ç½® è¿›å…¥æ•°æ®åº“å‘½ä»¤æ¨¡å¼æˆ–è€…ç›´æ¥ä½¿ç”¨GUI å·¥å…·ï¼Œåˆ›å»ºSonar-Qube æœåŠ¡æ‰€éœ€çš„æ•°æ®åº“ 123456mysql -u root -pmysql&gt; CREATE DATABASE sonar CHARACTER SET utf8 COLLATE utf8_general_ci; mysql&gt; CREATE USER &apos;sonar&apos; IDENTIFIED BY &apos;sonar&apos;;mysql&gt; GRANT ALL ON sonar.* TO &apos;sonar&apos;@&apos;%&apos; IDENTIFIED BY &apos;sonar&apos;;mysql&gt; GRANT ALL ON sonar.* TO &apos;sonar&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;sonar&apos;;mysql&gt; FLUSH PRIVILEGES; å®Œæˆä»¥åæµ‹è¯•ä¸€ä¸‹è¿æ¥æ˜¯å¦æ­£ç¡® å®‰è£…SonarQube ä¸SonarQube-Runner SonarQube Runner 2.4 ä¸‹è½½åœ°å€ ä»å®˜ç½‘ä¸‹è½½ SonarQube çš„æœ€æ–°ç‰ˆæœ¬å¹¶è§£å‹åˆ°/usr/local/æ–‡ä»¶å¤¹ æ·»åŠ SONAR_HOMEã€SONAR_RUNNER_HOME ç¯å¢ƒå˜é‡ï¼Œå¹¶å°†SONAR_RUNNER_HOME åŠ å…¥PATH ä¿®æ”¹Sonar-Qube é…ç½®æ–‡ä»¶ é…ç½®æ–‡ä»¶è·¯å¾„åœ¨ ./conf/sonar.properties 12345678910111213# è®¾ç½®æ•°æ®åº“çš„è´¦æˆ·å¯†ç sonar.jdbc.username=uasonar.jdbc.password=pwdsonar.jdbc.url=jdbc:mysql://localhost:3306/sonar?useUnicode=true&amp;characterEncoding=utf8&amp;rewriteBatchedStatements=true&amp;useConfigs=maxPerformance# By default, ports will be used on all IP addresses associated with the server.sonar.web.host=0.0.0.0# The default value is root context (empty value).sonar.web.context=/# TCP port for incoming HTTP connections. Default value is 9000.sonar.web.port=9003 è¿è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨ Sonar-Qubeï¼Œæ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹© 123456Last login: Wed Feb 15 18:15:05 on ttys000localhost:~ tianyi$ /usr/local/sonarqube-6.2/bin/macosx-universal-64/sonar.sh startlocalhost:~ tianyi$ /usr/local/sonarqube-6.2/bin/macosx-universal-64/sonar.sh startStarting SonarQube...Started SonarQube. åˆ›å»ºä¸€ä¸ªç®€å•çš„å·¥ç¨‹ é»˜è®¤å¯†ç æ˜¯adminï¼šadminï¼Œç™»é™†ç®¡ç†å‘˜è´¦å·ä»¥åï¼Œé…ç½®ç³»ç»Ÿå‚æ•° åˆ›å»ºä¸€ä¸ªDemo å·¥ç¨‹ Demo å·¥ç¨‹ç®€ä»‹ å› ä¸ºè¿˜æ²¡æœ‰è¿›è¡Œè¿‡åˆ†æï¼Œæ‰€ä»¥Demo æš‚æ—¶åªèƒ½é…ç½®ï¼Œåœ¨ä½¿ç”¨ç¯‡æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»å¦‚æœé€šè¿‡æŒ‡ä»¤æˆ–è‡ªåŠ¨åŒ–æ‰§è¡Œåˆ†æå®¡æŸ¥ã€‚ å®‰è£…ä¸€äº›å¿…å¤‡æ’ä»¶ï¼Œéƒ½å¯ä»¥ä»å®˜ç½‘æˆ–è€…github ä¸Šæœç´¢åˆ° Sonaræ”¯æŒå¤šç§æ’ä»¶ï¼Œæ’ä»¶çš„ä¸‹è½½åœ°å€ä¸ºï¼šhttp://docs.codehaus.org/display/SONAR/Plugin+Library å°†ä¸‹è½½åçš„æ’ä»¶ä¸Šä¼ åˆ°${SONAR_HOME}extensions\\pluginsç›®å½•ä¸‹ï¼Œé‡æ–°å¯åŠ¨sonarã€‚ å¸¸ç”¨æ’ä»¶ï¼ˆæ³¨æ„ç‰ˆæœ¬å·å…¼å®¹æ€§é—®é¢˜ï¼‰ SonarQube æ±‰åŒ–åŒ…ï¼šhttps://github.com/SonarQubeCommunity/sonar-l10n-zh Objective-C ä»£ç æ£€æŸ¥ï¼šhttps://github.com/octo-technology/sonar-objective-c JavaScript ä»£ç æ£€æŸ¥ï¼šhttp://docs.codehaus.org/display/SONAR/JavaScript+Plugin python ä»£ç æ£€æŸ¥ï¼šhttp://docs.codehaus.org/display/SONAR/Python+Plugin Webé¡µé¢æ£€æŸ¥ï¼ˆHTMLã€JSPã€JSFã€Rubyã€PHPç­‰ï¼‰ï¼šhttp://docs.codehaus.org/display/SONAR/Web+Plugin xmlæ–‡ä»¶æ£€æŸ¥ï¼šhttp://docs.codehaus.org/display/SONAR/XML+Plugin scmæºç åº“ç»Ÿè®¡åˆ†æï¼šhttp://docs.codehaus.org/display/SONAR/SCM+Stats+Plugin æ–‡ä»¶åº¦é‡ï¼šhttp://docs.codehaus.org/display/SONAR/Tab+Metrics+Plugin ä¸­æ–‡è¯­è¨€åŒ…ï¼šhttp://docs.codehaus.org/display/SONAR/Chinese+Pack æ—¶é—´è¡¨æ˜¾ç¤ºåº¦é‡ç»“æœï¼šhttp://docs.codehaus.org/display/SONAR/Timeline+Plugin åº¦é‡ç»“æœæ¼”è¿›å›¾ï¼šhttp://docs.codehaus.org/display/SONAR/Motion+Chart+Plugin æˆ‘çš„èµ„æº ä½¿ç”¨ç¯‡ä½¿ç”¨SonarQube Runneråˆ†ææºç é¢„ç½®æ¡ä»¶å·²å®‰è£…SonarQube Runnerä¸”ç¯å¢ƒå˜é‡å·²é…ç½®ï¼Œå³sonar-runnerå‘½ä»¤å¯åœ¨ä»»æ„ç›®å½•ä¸‹æ‰§è¡Œ å¦‚ä½•é…ç½®ç¯å¢ƒå˜é‡ï¼Œå‚è€ƒè¿™ç¯‡æ–‡ç«  å¦‚ä½•åˆ†æ1. åœ¨é¡¹ç›®æºç çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºsonar-project.propertiesé…ç½®æ–‡ä»¶ ä»¥iOS é¡¹ç›®ä¸ºä¾‹ 12345678910111213# Required metadatasonar.projectKey=iOS::Demosonar.projectName=iOS::Demosonar.projectVersion=1.0# Comma-separated paths to directories with sources (required)sonar.sources=Demo# Languagesonar.language=objectivec# Encoding of the source filessonar.sourceEncoding=UTF-8 æ³¨æ„ï¼šsonar.language å’Œå®‰è£…çš„ä»£ç å®¡æŸ¥æ’ä»¶æœ‰å…³ï¼Œéœ€è¦å®‰è£… sonar-objective-c æ’ä»¶ï¼Œå¦åˆ™è¿è¡Œæ—¶ä¼šæç¤ºæ— æ³•æ‰¾åˆ°è¿™ä¸ªè¯­è¨€ 2. æ‰§è¡Œåˆ†æ åœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œåˆ†ææŒ‡ä»¤ 1/usr/local/sonar-runner-2.4/bin/sonar-runner æŸ¥çœ‹Sonar åˆ†æçš„ç»“æœ ä»¥ä¸Šæ˜¯åˆ›å»ºDemo å·¥ç¨‹åï¼Œé€šè¿‡æ‰‹åŠ¨æ‰§è¡Œåˆ†ææŒ‡ä»¤å®Œæˆä»£ç å®¡æŸ¥åˆ†æã€‚ ä¸Jenkins æŒç»­é›†æˆæ„å»ºå‰æ“ä½œåœ¨jenkinsçš„æ’ä»¶ç®¡ç†ä¸­é€‰æ‹©å®‰è£…SonarQube-Scannerï¼Œè¯¥æ’ä»¶å¯ä»¥ä½¿é¡¹ç›®æ¯æ¬¡æ„å»ºéƒ½è°ƒç”¨sonarè¿›è¡Œä»£ç åº¦é‡ã€‚ è¿›å…¥é…ç½®é¡µé¢å¯¹sonaræ’ä»¶è¿›è¡Œé…ç½®ï¼Œå¦‚ä¸‹å›¾ï¼š ä»¥ä¸Šé…ç½®å¯ä»¥ä½¿é¡¹ç›®åœ¨æ„å»ºå‰ï¼Œè‡ªåŠ¨æ‰§è¡Œä»£ç å®¡æŸ¥å’Œåˆ†æï¼Œç»“æœä¼šè‡ªåŠ¨ä¿å­˜å¹¶ä¸Šä¼ åˆ°æ•°æ®åº“ï¼Œé€šè¿‡Sonar æœåŠ¡å™¨å±•ç¤ºç»™å¼€å‘è€…ã€‚ è®¾ç½®è§¦å‘å™¨æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ä»“åº“ï¼Œè‹¥æœ‰ä¸Šåº“ï¼Œåˆ™è‡ªåŠ¨æ‰§è¡Œä»£ç æ£€æµ‹ è‡³æ­¤ï¼Œé€šè¿‡Sonar åˆæ­¥æ„å»ºä»£ç æŒç»­å®¡æŸ¥çš„å·¥ä½œå®Œæˆã€‚ é—®é¢˜ç¯‡å®‰è£…ä¸­çš„é—®é¢˜ èµ„æºæ‰¾å¯»çš„é—®é¢˜ æ–‡ä¸­æåˆ°çš„èµ„æºæ–‡ä»¶ï¼Œç½‘ä¸Šè°·æ­Œç™¾åº¦éƒ½ç”¨ä¸Šï¼Œä¹Ÿæ‰¾äº†å¾ˆä¹…ï¼ŒåŒ…æ‹¬ä¸€äº›æ’ä»¶çš„é—®é¢˜ï¼Œå¿…é¡»å®‰è£…çš„å°±æ˜¯ Sonar-Qubeï¼ŒRunner å…¶å®ä¸å¿…è¦å®‰è£…ï¼Œå› ä¸ºJenkins é‡Œæœ‰æ’ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ ç¯å¢ƒé…ç½®é—®é¢˜ å¦‚æœä¸å¸¸ç”¨æŒ‡ä»¤çš„è¯ï¼Œå¯ä»¥ä¸é…ç½®ï¼Œç›´æ¥é€šè¿‡ç»å¯¹è·¯å¾„åšæ“ä½œï¼Œç¯å¢ƒé…ç½®çš„æ–¹æ³•å‚è€ƒè¿™ç¯‡æ–‡ç«  åˆå§‹åŒ–æ—¶é‡åˆ°Sorry çš„é—®é¢˜ é‡åˆ°è¿™ç§é—®é¢˜å¯ä»¥å»æ ¹ç›®å½• /log/xx.log ä¸­æŸ¥çœ‹æ—¥å¿—ï¼Œå…·ä½“é—®é¢˜å…·ä½“è§£å†³ æ±‰åŒ–åŒ…çš„é—®é¢˜ å¦‚æœä½ ä¸ä¹ æƒ¯è‹±æ–‡çš„ä½¿ç”¨ï¼Œæƒ³åšä¸€åšæ±‰åŒ–çš„äº‹æƒ…æ—¶ï¼Œæ±‰åŒ–åŒ…ä¸€å®šè¦å¯¹ï¼Œå¦‚æœæœ‰é—®é¢˜ä¼šå¯¼è‡´æœåŠ¡å¯åŠ¨å¤±è´¥ã€‚ é™„ä¸Šï¼šæ±‰åŒ–åŒ…ä¸‹è½½åœ°å€ SonarQube å®é™…ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆåœ¨ä½¿ç”¨ SonarQube6.2 åˆ†æä»£ç è´¨é‡æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼š Xcode 8 å…¼å®¹æ€§é—®é¢˜ åŸæœ‰çš„xctoolå·²ä¸æ”¯æŒXCode8, æ”¹ç”¨xcodebuild + xcpretty æ¥æ›¿ä»£xctoolç¯èŠ‚ç”Ÿæˆå¯¹åº”çš„äº§å‡ºç‰©ã€‚ å…³äºXCode8çš„å…¼å®¹æ–¹æ¡ˆ, è¯·çœ‹è¿™ç¯‡æ–‡ç«  ç»“æŸè¯­ä»£ç è´¨é‡ç®¡ç†å¯¹æé«˜é¡¹ç›®è´¨é‡æ„ä¹‰é‡å¤§ã€‚æœ¬æ–‡ä»‹ç»äº† SonarQube çš„å·¥ä½œåŸç†ï¼Œå¹¶ä»é¡¹ç›®å®æˆ˜çš„è§’åº¦è®²è§£äº†ä½¿ç”¨ SonarQube è¿›è¡Œé¡¹ç›®ä»£ç è´¨é‡ç®¡ç†çš„æµç¨‹å’Œæ³¨æ„äº‹é¡¹ã€‚ ä»£ç è§„èŒƒè´µåœ¨åšæŒä¸æ‰§è¡ŒåŠ›ï¼Œè‡ªåŠ¨å®¡æŸ¥åªæ˜¯åšäº†æé†’çš„ä½œç”¨ï¼Œå½“ç„¶æ ¹æ®è¯­è¨€çš„è§„åˆ™ï¼Œå¾ˆå¤šè§„èŒƒåœ¨ä½¿ç”¨è€…æ¥è®²çœ‹ä¼¼ä¸åˆç†æˆ–è€…ä¸å¥½ç”¨ï¼Œæœ‰äº†è¿™ä¸ªå·¥å…·ï¼Œå‚ä¸è€…ä»¬å¯ä»¥åˆ‡èº«æ„Ÿå—åˆ°å›¢é˜Ÿçš„æˆé•¿ã€‚ å‚è€ƒæ–‡ç« [å®è·µ]iOS Sonaré›†æˆæµç¨‹è¯¦è§£ [å®è·µ]Sonar Xcode8å…¼å®¹ SonarQubeä»£ç è´¨é‡ç®¡ç†å¹³å°å®‰è£…ä¸ä½¿ç”¨ é…ç½®sonarã€jenkinsè¿›è¡ŒæŒç»­å®¡æŸ¥","categories":[{"name":"continue","slug":"continue","permalink":"https://blog.yuhanle.com/categories/continue/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/tags/iOS/"},{"name":"Sonar","slug":"Sonar","permalink":"https://blog.yuhanle.com/tags/Sonar/"},{"name":"Quality","slug":"Quality","permalink":"https://blog.yuhanle.com/tags/Quality/"}]},{"title":"è§å­—å¦‚é¢çš„è¿‡å»ä¸€å¹´","slug":"see-words-as-face","date":"2017-01-22T04:29:59.000Z","updated":"2021-10-21T08:18:48.339Z","comments":true,"path":"2017/01/22/see-words-as-face/","link":"","permalink":"https://blog.yuhanle.com/2017/01/22/see-words-as-face/","excerpt":"è§å­—å¦‚é¢ï¼Œç”šæ˜¯æƒ³å¿µã€‚","text":"è§å­—å¦‚é¢ï¼Œç”šæ˜¯æƒ³å¿µã€‚ 2016ï¼Œæ—¶é—´æ€»æ˜¯å¦‚æ­¤ï¼Œè¿‡çš„å¾ˆå¿«ã€‚å·¥ä½œåå¯¹äºæ—¶é—´çš„æ¦‚å¿µåªæœ‰åœ¨ç™½å¤©äº†ï¼Œæ€»è§‰å¾—ä¸å¤Ÿç”¨ï¼Œä¸Šç­ä¸‹ç­ï¼Œåƒé¥­ç¡è§‰ï¼Œä¸€å¦‚æ—¢å¾€çš„é‡å¤é‡å¤ï¼Œå°±åƒèŠ±é’±ä¸€æ ·ï¼Œæ¯ä¸€ç¬”å¾®å°çš„å¼€æ”¯ï¼Œç´¯ç§¯èµ·æ¥éƒ½è®©äººä¸æ•¢ç›¸ä¿¡ã€‚ è·Ÿä½ åœ¨ä¸€èµ·çš„è¿™ä¸€å¹´ï¼Œåº¸åº¸ç¢Œç¢Œï¼Œæœ¬è¯¥åœ¨å…ƒæ—¦å°±è·Ÿä½ å‘Šåˆ«ï¼Œæ²¡æƒ³åˆ°ä¸€æ‹–å°±æ˜¯ä¸€ä¸ªæœˆï¼Œä»æœªæƒ³è¿‡ä½ ä¼šèµ°çš„å¦‚æ­¤ä¹‹å¿«ï¼Œå¯èƒ½æ˜¯æˆ‘æ²¡å¤ªåœ¨æ„ï¼Œå› ä¸ºä½ å¸¦ç»™æˆ‘çš„è¿™æ˜¯ç–²æƒ«å’Œä¸å ªï¼Œç”šè‡³æ˜¯æˆ‘è‡³ä»Šéƒ½ä¸æ„¿æ¥å—çš„æœªæ›¾æ”¹å˜ã€‚ è¿™ä¸ª365å¤©ï¼Œæˆ‘å¾—åˆ°äº†è¿™äº›ï¼š è¿™ä¸€å¹´çš„ç”Ÿæ´»åœ¨2015 å¹´11æœˆåº•ï¼Œå¥³æœ‹å‹æ¥åˆ°äº†è¿™ä¸ªæˆ‘ä»¬éƒ½å¾ˆé™Œç”Ÿçš„å¤§éƒ½å¸‚ï¼Œæ¥ç€åˆ°äº†2016 å¹´4æœˆï¼Œå¥¹å¼€å§‹äº†æ­£å¼çš„å·¥ä½œï¼Œå°ä¿©å£æŒ£å¾—ä¸å¤šï¼Œéƒ¨åˆ†æˆ¿ç§Ÿï¼Œéƒ¨åˆ†åƒå–ï¼Œä½™ä¸‹çš„å°±æ›´å°‘äº†ã€‚ 4æœˆåº•ï¼Œæˆ‘ä»¬æ‘†è„±äº†ä¸åˆ°20å¹³ç±³çš„å•èº«å…¬å¯“ï¼Œæ‘†è„±äº†éš”ä¸‰å·®äº”åœç”µï¼Œè¿˜å¾—å»çŒå¤©ç„¶æ°”ï¼Œèµ°å¾ˆè¿œå»ä¹°èœçš„ç”Ÿæ´»ï¼Œæ¬åˆ°äº†æŸå°åŒº50+ å¹³ç±³çš„ä¸€å®¤ä¸€å…ã€‚æ²¡é”™ï¼Œæˆ¿ç§Ÿå¾ˆè´µï¼Œè¶³è¶³ç¿»äº†ä¸€å€å¤šï¼Œè·ç¦»æˆ‘ä»¬ä¸Šç­çš„åœ°æ–¹ä¹Ÿå¾ˆè¿œï¼Œä½†è¿™äº›éƒ½ä¸é‡è¦ï¼Œæˆ‘ä»¬éƒ½å¾ˆå¼€å¿ƒï¼Œé™„è¿‘æœ‰äº›æœ‹å‹ï¼Œå‘¨æœ«å¯ä»¥èšèšï¼Œæ¥¼ä¸‹å°±æœ‰èœå¸‚åœºï¼Œæœ€æ€»è¦çš„æ˜¯ä¸»å§æœå—ï¼Œå†ä¹Ÿä¸ç”¨å®…åœ¨å†·å†°å†°çš„å°æˆ¿é—´é‡Œç©æ‰‹æœºäº†ã€‚ ç´§æ¥ç€ï¼Œ5æœˆä»½æœ€é‡è¦çš„æ˜¯å¤§å­¦èˆå‹ä»æ–°ç–†è¿‡æ¥ç©ï¼Œé‚£ä¸€å¤©ï¼Œæˆ‘ä»¬å»äº†ä¸ƒå®ï¼Œç”°å­åŠï¼Œåœ¨æ¸¯æ±‡å¹¿åœºåƒè¿‡é¥­ï¼Œå¤œæ™šè¿˜å»äº†å¤–æ»©çœ‹å¤œæ™¯ï¼Œå›æƒ³èµ·æ¥ï¼Œè¿™æ˜¯æ¥è¿™ä¸ªåŸå¸‚ä»¥åæœ€å¥½ç©çš„ä¸€å¤©ã€‚æ—¶é—´æ¯”è¾ƒæ•¢ï¼Œå¤§å®¶ä¸€è·¯ä¸Šå‡ ä¹éƒ½æ˜¯è·‘èµ·æ¥çš„ï¼Œä¸ºäº†å¤–æ»©çš„å¤œæ™¯ï¼Œä¹Ÿå€¼ã€‚ æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆï¼Œå¤©æ°”å¾ˆçƒ­ï¼Œé™¤äº†å‘¨æœ«çˆ¬çˆ¬å±±ï¼Œä¹Ÿå°±åœ¨å®¶å¾…ç€å•ƒè¥¿ç“œã€‚ ä¸­ç§‹èŠ‚å‡æœŸï¼Œæˆ‘å’Œå¥³å‹çº¦å¥½å»äº†è¶Ÿå—äº¬ï¼Œå¤éƒ½å—äº¬æ˜¯ä¸ªå¾ˆé€‚åˆæ¸¸ç©çš„åœ°æ–¹ï¼Œä¸ä»…æœ‰å¾ˆå¤šè‘—åæ™¯ç‚¹ï¼Œè¿˜æœ‰å¾ˆå¤šå„è‰²å°åƒï¼Œä¸¤å¤©ä¸€å¤œçš„æ—¶é—´ï¼Œåˆšåˆšå¥½ï¼Œåªæ˜¯ç´¯äº†äº›ï¼Œå‰åŒäº‹ä½œä¸ºåœ°é“çš„å—äº¬äººï¼Œå¸¦æˆ‘ä»¬åƒäº†ä¸€éå¤§æ’æ¡£é‡Œçš„æ‹›ç‰Œèœï¼ŒçœŸæ˜¯æµè¿å¿˜è¿”ï¼Œå› ä¸ºå›å»å°±å¾—é©¬ä¸Šä¸Šç­ã€‚ åˆ°äº†10 æœˆï¼Œå›½åº†èŠ‚çš„å‡æœŸå¾ˆé•¿ï¼Œæå‰å›äº†è¶Ÿå®¶ï¼Œåˆšå¥½å®¶é‡Œçš„æˆ¿å­è£…ä¿®å¥½ï¼Œå‡†å¤‡æ¬å®¶å‘¢ã€‚å‰å‰ååå¿™æ´»äº†ä¸‰å››å¤©ï¼Œæ¥ç€å°±ä¸€å®¶äººå¸¦ç€å½©ç¤¼ï¼Œå»å’Œå¥³å‹çš„å®¶äººè§é¢äº†ã€‚è¯´èµ·æ¥ä¹Ÿè®¤è¯†è¿‘7 å¹´ï¼Œé˜»åŠ›è¿˜å¥½ï¼Œæ—¥ä¹…è§äººå¿ƒå˜›ï¼ç°åœ¨çš„çˆ¶æ¯éƒ½å¾ˆå¼€æ˜ï¼Œæˆ‘ä»¬ä¹‹é—´è¿˜æ˜¯æ¯”è¾ƒé¡ºåˆ©çš„ï¼Œè‡³å°‘å½¼æ­¤è¿˜ç®—æ»¡æ„ï¼Œä¸ä¼šè®©å®¶é‡Œçæ“å¿ƒã€‚ å›½åº†èŠ‚ç»“æŸåï¼Œåœ¨éƒ‘å·è§äº†å‡ ä¸ªæœ‹å‹ï¼Œä¸´èµ°å‰ä¸€ç›´åœ¨é”…å¤§ä¾ äºŒä¸ƒåº—åƒäº†é¡¿ç«é”…ï¼Œä¹‹æ‰€ä»¥é€‰åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œæ˜¯å› ä¸ºé©¬ä¸Šå°±è¦åä¸Šç«è½¦æ‹œæ‹œäº†ã€‚è¿™é¡¿é¥­åƒèµ·æ¥ï¼Œå¤§å®¶å®Œå…¨æ²¡æœ‰å¥½ä¹…ä¸è§çš„æ ·å­ï¼Œéƒ½åœ¨èŠç€å·¥ä½œï¼ŒèŠç€æˆ¿ä»·ï¼Œè¿™ä¸€å¹´ï¼Œæˆ¿ä»·æ²¡æœ‰éª—äººï¼Œä¸€ç›´åœ¨æ¶¨ã€‚å›åˆ°ä¸Šæµ·ä»¥åï¼Œæˆ‘å°±å¼€å§‹ç€æ€¥äº†ï¼ŒæŒ‰ç…§æˆ‘ä»¬çš„å®¶åº­æ¡ä»¶æ¥è®²ï¼Œé¦–ä»˜çš„é—®é¢˜å¾ˆå¤§ï¼Œä¹Ÿæ˜¯æœ€ä¸»è¦çš„é—®é¢˜ã€‚åæ¥æˆ‘ä»¬è¿˜æ˜¯å†³å®šï¼Œåœ¨æˆ¿ä»·è¶‹äºç¨³å®šçš„11 æœˆä»½ï¼Œå¤šæ¬¡å¾€è¿”ä¸¤ä¸ªåŸå¸‚ï¼Œå°†æ­¤äº‹å®šäº†ä¸‹æ¥ã€‚å½“ç„¶è¿˜æœ‰ä¸€ä»¶å¥½äº‹ï¼Œæˆ‘ä»¬é¢†äº†ç»“å©šè¯ï¼Œè¿™ä¸ªæ„ä¹‰å¾ˆå¤§ã€‚ å¾ˆå¿«ï¼Œè¿™ä¸€å¹´å°±ç»“æŸäº†ï¼Œ17 å¹´å…ƒæ—¦ï¼Œå¸¦ç€å¥³æœ‹å‹å»äº†è¶Ÿå·´é»æ˜¥å¤©ï¼Œä¹°äº†å¥¹å‘å¾€å·²ä¹…çš„é’»æˆ’ï¼Œå¯¹æ­¤æ¯«æ— æ¦‚å¿µï¼Œ30+ åˆ†ï¼Œè™½ç„¶æ²¡æœ‰é¹…åµçŸ³é‚£ä¹ˆå¤§ï¼Œä½†æ˜¯ä½è°ƒä¸€äº›ï¼Œæˆ‘ä»¬éƒ½è¿˜æ˜¯å¾ˆé«˜å…´çš„ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œä¹Ÿè®¢å¥½äº†17 å¹´3 æœˆä»½å»ä¸‰äºšæ—…è¡Œçš„äº‹æƒ…ï¼Œé¡ºä¾¿æ‹æ‹ç»“å©šç…§ï¼Œå‡†å¤‡å¥½äº†ï¼Œå°±è¯¥æ­¥å…¥å©šå§»çš„æ®¿å ‚äº†ã€‚ è¿™ä¸€å¹´çš„å·¥ä½œåŸæœ¬ä¸€ä¸ªäººçš„é¡¹ç›®ï¼Œ15 å¹´åº•æ–°å¢äº†ä¸ªå°ä¼™ä¼´ï¼Œ91 å¹´çš„ç ”ç©¶åƒ§ï¼Œå¤§å®¶ç›¸äº’å­¦ä¹ ï¼Œå·¥ä½œèµ·æ¥é…åˆä¹Ÿå¾ˆé»˜å¥‘ï¼Œå¾ˆæ»¡æ„ã€‚ åŸæœ‰çš„1.0 ç‰ˆæœ¬æ–°å¢åŠŸèƒ½ï¼Œç»´æŠ¤äº†ä¸€æ•´å¹´ã€‚è“ç‰™çš„é¡¹ç›®åœ¨15 å¹´åº•å°±æç½®äº†ï¼Œä¸‰å››æœˆä»½çš„æ—¶å€™ï¼Œé¢†å¯¼è¯´ï¼Œå¯èƒ½è¦ç»§ç»­å¯åŠ¨è“ç‰™çš„é¡¹ç›®ï¼Œäºæ˜¯æˆ‘ä»¬æœ‰åŠ äº†ä¸€ä¸ªå°ä¼™ä¼´ï¼Œäºæ˜¯3 ä¸ªç”·äººçš„å°å›¢é˜Ÿå°±å¼€å¯äº†ã€‚ æ¥ç€å°±æ˜¯ä¸€ä¸ªæœˆçš„è“ç‰™é¡¹ç›®ï¼Œ1.0 ç‰ˆæœ¬çš„æ›´æ–°è¿­ä»£ï¼Œå†…éƒ¨é”€å”®ç³»ç»Ÿçš„æ›´æ–°è¿­ä»£ï¼Œæ²¡æœ‰æ·±å…¥çš„å­¦ä¹ æœºä¼šï¼Œä½†æ˜¯äº‹æƒ…å¤šè€Œæ‚ï¼Œæœ‰åšä¸å®Œçš„ä¸œè¥¿ã€‚ å¾ˆå¿«åˆ°äº†6 æœˆä»½ï¼Œ1.0 çš„æ›´æ–°å˜æ…¢äº†ï¼Œæ›´å¤šçš„æ—¶é—´ï¼Œæˆ‘ä»¬å¼€å§‹äº†2.0 çš„è½¯ä»¶ç ”å‘ï¼Œç›¸æ¯”è¾ƒè€Œè¨€ï¼Œ2.0 çš„è½¯ä»¶æ›´é€‚åˆç”¨æˆ·ï¼Œä½“éªŒæå‡äº†ä¸å°‘ï¼Œä½†ä¹Ÿå¢å¤§äº†ç ”å‘çš„éš¾åº¦ï¼Œå¯¹æŠ€æœ¯çš„è¦æ±‚ä¹Ÿé«˜äº†å¾ˆå¤šã€‚ä½†æ˜¯åŸæœ¬è®¡åˆ’å…«ä¹æœˆä»½å‘å¸ƒï¼Œæ²¡æƒ³åˆ°åˆ°äº†ä»Šå¤©è¿˜åªæ˜¯åœ¨å…¬æµ‹é˜¶æ®µï¼Œä¸­é—´é‡åˆ°çš„é‚£äº›å‘ï¼Œè¿˜æœ‰éœ€æ±‚çš„å˜æ›´ï¼Œç®€ç›´è®©äººç”Ÿä¸å¦‚æ­»ã€‚ æ¥ç€8 æœˆä»½ï¼Œä¸€ä½åŒäº‹å› ä¸ºä¸ªäººåŸå› ç¦»èŒäº†ï¼Œå…±äº‹äº†ä¸€å¹´ï¼ŒçœŸçš„æ˜¯æŒºèˆä¸å¾—ï¼Œå…¬å¸å°±åƒå¸‚é›†ï¼Œæ¥æ¥å¾€å¾€å¾ˆå¤šäººï¼Œè°ä¹Ÿä¸çŸ¥é“å›å»ä¹°è°å®¶çš„ä¸œè¥¿ã€‚é¡¹ç›®ä»ç„¶å¦‚æ­¤ï¼ŒåŒäº‹ç¦»èŒä»¥åï¼Œ2.0 ç‰ˆæœ¬åˆè¿æ¥äº†å¤§æ”¹ç‰ˆï¼Œä¸çŸ¥é“æ˜¯è¯¥é«˜å…´è¿˜æ˜¯æ€ä¹ˆåœ°ï¼Œæ€»ä¹‹ï¼Œç»§ç»­æ”¹ï¼Œç»§ç»­åŒæ—¶ç»´æŠ¤å‡ ä¸ªç‰ˆæœ¬ï¼Œçœ‹èµ·æ¥æ€»æ˜¯é‚£ä¹ˆé¥é¥æ— æœŸã€‚ åˆ°äº†11æœˆä»½ï¼Œé¡¹ç›®åˆå¤šäº†ä¸¤ä¸ªï¼Œä¸å¾—ä¸å†æ‰¾ä¸€ä¸ªå°ä¼™ä¼´ï¼Œè¿˜å¥½è¿™ä¸ªè¡Œä¸šï¼Œèµ„æºå¾ˆå¤šï¼Œåªæ˜¯é¢è¯•èµ·æ¥ï¼Œæ‰¾åˆ°åˆé€‚çš„ä¹ŸæŒºéš¾ï¼Œæœ€åè¦äº†ä¸€ä¸ªå†…æ¨çš„å°å§‘å¨˜ï¼Œæ€»ç®—æ˜¯è°ƒå’Œäº†ä¸€ä¸‹æˆ‘ä»¬éƒ¨é—¨çš„ç”·å¥³æ¯”ä¾‹ï¼Œä¸è¿‡å¹´é¾„æƒŠäººï¼Œç¬é—´æ‹‰ä½äº†å…¬å¸çš„å¹³å‡å¹´é¾„ã€‚ æˆªæ­¢åˆ°17 å¹´1 æœˆä¸­æ—¬ï¼Œ2.0 ç‰ˆæœ¬ç»ˆäºå…¬æµ‹ï¼Œæ–°å¢çš„ä¸¤ä¸ªé¡¹ç›®ä¹Ÿå¯ä»¥æ‹¿å‡ºæ¥å±•ç¤ºï¼Œä½œä¸ºç ”å‘ï¼Œä¸åœ¨æ„è¯„ä»·ï¼Œæœ‰äººå°Šé‡åŠ³åŠ¨æˆæœå°±å¿ƒæ»¡æ„è¶³ã€‚ ä»¥ä¸Šæ˜¯è¿™ä¸€å¹´çš„å·¥ä½œï¼Œä»£ç æ²¡å°‘äº›ï¼Œåªæ˜¯å¤šäº†å¾ˆå¤šç®¡ç†ç»éªŒä¸Šçš„å­¦ä¹ å’Œå†ç»ƒã€‚ è¿™ä¸€å¹´çš„å­¦ä¹ è¿™å—ä¸œè¥¿å¾ˆå°‘ï¼Œå› ä¸ºå¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨å·¥ä½œå˜›~ ä¸­é—´æœ‰ä¸€å¤©æ—¶é—´å‚åŠ äº†é¥¿äº†ä¹ˆç§»åŠ¨æŠ€æœ¯åˆ†äº«ï¼Œåœ¨æ­¤ä¹‹å‰ä¹Ÿè®¤è¯†äº†å“åŒå­¦ï¼Œè¿˜æœ‰å†°éœœå’Œå†¬ç“œï¼Œåªè§äº†ä¸€æ¬¡é¢ï¼Œæœ¬äººä¸å–„è¨€è¯­ï¼Œåªæ˜¯å¬ä»–ä»¬èŠå¾—å¤šäº†ä¸€äº›ï¼ŒæŠ€æœ¯åœˆçš„å¾®ä¿¡ç¾¤å’ŒQQ ç¾¤åŠ äº†ä¸å°‘ï¼Œæ¯å¤©éƒ½èƒ½çœ‹åˆ°æœ‰äººé—®æœ‰äººç­”ï¼Œå¶å°”ä¹Ÿä¼šå‚ä¸è®¨è®ºã€‚ å…·ä½“çš„é¡¹ç›®ä¸­ï¼Œé€æ¸å‰¥ç¦»äº†å„ä¸ªæ¨¡å—ä¹‹é—´çš„è”ç³»ï¼Œæ•°æ®åº“æ–¹é¢ä¹Ÿå°è¯•äº†Realm å’ŒCoreDataï¼Œåšäº†ä¸€äº›æ¯”è¾ƒå’Œåˆ†æï¼Œæœ€åé€‰æ‹©äº†åè€…ã€‚ å·¥ä½œä¹‹ä½™ä¹Ÿæ­å»ºäº†æŒç»­é›†æˆå¹³å°å’Œè¿œç¨‹æŒç»­ä»£ç å®¡æ ¸å¹³å°ï¼Œè¿™äº›éƒ½æ¯”è¾ƒç®€å•ï¼Œç½‘ä¸Šçš„æ•™ç¨‹çœ‹çš„ç»†è‡´éƒ½ä¸ä¼šå­˜åœ¨ä»€ä¹ˆé—®é¢˜ã€‚ æ€»ä¹‹ï¼Œå­¦ä¹ çš„å¾ˆæ¬ ç¼ºã€‚ ä¸‹ä¸€å¹´çš„å°ç›®æ ‡å¥æ—å…ˆç”Ÿçš„ç›®æ ‡æˆ‘å¾ˆæ¬£èµï¼Œæ¯”å¦‚å…ˆæŒ£ä»–ä¸€ä¸ªäº¿ã€‚ Swift ä¸€å®šè¦ç©è½¬ï¼Œè‡³å°‘è¦åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨Swift å¼€å‘ ç»ˆèº«å¤§äº‹è¦å°½æ—©è§£å†³ è§æ›´å¤šçš„æœ‹å‹ æƒ…å•† 2016 å¹´ï¼Œä¹Ÿå¹¶ä¸æ˜¯æ¯«æ— æ”¶è·ï¼Œåº”å½“ä¿æŒæ¿€æƒ…ï¼Œåšå¥½æ¯ä¸€ä»¶äº‹ï¼Œå–„å¾…æ¯ä¸€ä¸ªäººã€‚","categories":[{"name":"word","slug":"word","permalink":"https://blog.yuhanle.com/categories/word/"}],"tags":[{"name":"see a word","slug":"see-a-word","permalink":"https://blog.yuhanle.com/tags/see-a-word/"}]},{"title":"å¦‚ä½•è®¾è®¡æ‰«ä¸€æ‰«åŠŸèƒ½æ‰èƒ½æ›´ä¼˜é›…","slug":"design-scan-function","date":"2016-12-04T00:00:00.000Z","updated":"2021-10-21T08:18:48.335Z","comments":true,"path":"2016/12/04/design-scan-function/","link":"","permalink":"https://blog.yuhanle.com/2016/12/04/design-scan-function/","excerpt":"å½“å‰äºŒç»´ç åœ¨ç”Ÿæ´»ä¸­éšå¤„å¯è§ï¼Œä»–çš„åŠŸèƒ½æ— éœ€å¤šè¨€ï¼Œå½»åº•çš„æ”¹å˜äº†æ¶ˆè´¹è€…çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæå‡äº†ç”¨æˆ·çš„æ“ä½œä½“éªŒï¼ŒåŒæ—¶ä¹Ÿæ‹‰è¿‘äº†äººä¸äººï¼Œäººä¸ç‰©ä¹ƒè‡³ç‰©ä¸ç‰©ä¹‹é—´çš„è·ç¦»","text":"å½“å‰äºŒç»´ç åœ¨ç”Ÿæ´»ä¸­éšå¤„å¯è§ï¼Œä»–çš„åŠŸèƒ½æ— éœ€å¤šè¨€ï¼Œå½»åº•çš„æ”¹å˜äº†æ¶ˆè´¹è€…çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæå‡äº†ç”¨æˆ·çš„æ“ä½œä½“éªŒï¼ŒåŒæ—¶ä¹Ÿæ‹‰è¿‘äº†äººä¸äººï¼Œäººä¸ç‰©ä¹ƒè‡³ç‰©ä¸ç‰©ä¹‹é—´çš„è·ç¦»ã€‚ å†™åœ¨å‰é¢æ­£å¦‚é¢˜å›¾ï¼Œå½“å‰äºŒç»´ç åœ¨ç”Ÿæ´»ä¸­éšå¤„å¯è§ï¼Œä»–çš„åŠŸèƒ½æ— éœ€å¤šè¨€ï¼Œå½»åº•çš„æ”¹å˜äº†æ¶ˆè´¹è€…çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæå‡äº†ç”¨æˆ·çš„æ“ä½œä½“éªŒï¼ŒåŒæ—¶ä¹Ÿæ‹‰è¿‘äº†äººä¸äººï¼Œäººä¸ç‰©ä¹ƒè‡³ç‰©ä¸ç‰©ä¹‹é—´çš„è·ç¦»ã€‚ äºŒç»´ç çš„ä½¿ç”¨åœºæ™¯å¾ˆå¤šï¼Œæ¯”å¦‚æ·»åŠ å¥½å‹ï¼Œå…³æ³¨å…¬ä¼—å·ï¼Œç§»åŠ¨æ”¯ä»˜ï¼Œè¿˜æœ‰å¾ˆå¤šçš„æŸæŸæ´»åŠ¨å…¥å£ï¼Œç”¨æˆ·æ— éœ€è®°ä½å¤ªå¤šä¿¡æ¯ï¼Œæ‹¿å‡ºæ‰‹æœºï¼Œè½»è½»çš„æ‰«ä¸€æ‰«å¯¹æ–¹çš„èµ„æ–™å°±èƒ½å®Œæˆæ“ä½œï¼›ç§»åŠ¨æ”¯ä»˜æ—¶ä»£ï¼Œä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŠŸèƒ½çš„ä¾¿æ·ï¼Œæ‰èƒ½å‘å±•çš„æ›´æ™®éï¼Œå‰èµ·æ‰‹æ¥ä¹Ÿå°±ä¸€ç¬é—´ï¼›åœ¨å•†å®¶ä¸¾åŠçš„å¾ˆå¤šæ´»åŠ¨ä¸­ï¼Œåªéœ€è¦æä¾›ä¸€ä¸ªäºŒç»´ç å›¾ç‰‡ï¼Œå†é€šè¿‡æœ‹å‹åœˆç­‰ç¤¾äº¤åª’ä½“çš„ç–¯ç‹‚è½¬å‘ï¼Œäº¿ä¸‡ç”¨æˆ·éƒ½èƒ½ä¸å•†å®¶é›¶è·ç¦»å‚ä¸æ´»åŠ¨ï¼Œæ¥ç€äºŒæ¬¡åˆ†äº«ï¼Œä»è€Œç»™å•†å®¶å¸¦æ¥è¹­è¹­è¹­çš„æµé‡ã€‚ ç„¶è€Œï¼Œä»¥ä¸Šçš„ç§ç§ä¾¿æ·ï¼Œéƒ½ç¦»ä¸å¼€æ‰«ä¸€æ‰«è¿™ä¸ªåŠŸèƒ½ã€‚ä¸‹é¢ï¼Œæœ¬äººå°±ç«™åœ¨ä¸€ä¸ªåˆšåˆšæ¥è§¦æ­¤è¡Œä¸šçš„åŸºç¡€ä¸Šï¼Œè·Ÿå¤§å®¶èŠä¸€èŠæˆ‘è„‘è¢‹é‡Œçš„æ‰«ä¸€æ‰«æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼ˆå¦‚æœ‰éè®®ï¼Œè¯·è‰¾ç‰¹æˆ‘ï¼‰ã€‚ æ­£æ­£æ­£æ–‡å¸‚åœºä¸Šä¸»å¯¼åº”ç”¨æ˜¯å¦‚ä½•åšçš„æƒ³å¿…æ¥è§¦è¿™ä¸ªè¡Œä¸šçš„äº§å“å’Œå¼€å‘äººå‘˜éƒ½äº†è§£ï¼Œæ— è®ºä»€ä¹ˆåº”ç”¨ï¼Œè¿™å—çš„åŠŸèƒ½åº”è¯¥éƒ½æ˜¯å¤§å·®ä¸å·®ï¼Œæ¡æ¡å¤§è·¯é€šç½—é©¬ï¼Œä½†å…¶ä¸­çš„è§„åˆ™ï¼Œåº”è¯¥éƒ½æ˜¯ç»Ÿä¸€çš„ã€‚ é‚£æˆ‘åœ¨è¿™é‡Œå°±ç­é—¨å¼„æ–§ï¼Œé¡ºä¾¿ä½“éªŒä¸€ä¸‹å¾®ä¿¡çš„æ‰«ä¸€æ‰«åŠŸèƒ½ã€‚ è¯¥äºŒç»´ç å›¾ç‰‡ç”±å¾®ä¿¡APPæä¾› 1. å…ˆçœ‹ä¸€ä¸‹å¾®ä¿¡æ‰«æç»“æœ è¯¥å›¾ç‰‡ç”±å¾®ä¿¡APPæä¾› è¿™é‡Œå› ä¸ºæ˜¯æœ¬äººçš„äºŒç»´ç ï¼Œæ‰€ä»¥ä¸‹é¢æ˜¾ç¤ºçš„æ“ä½œæ˜¯å‘æ¶ˆæ¯ï¼Œå¦‚æœæ˜¯é™Œç”Ÿäººçš„äºŒç»´ç ï¼Œå°±æ˜¯æ·»åŠ åˆ°é€šè®¯å½•ã€‚è¿™é‡Œå¯ä»¥çŸ¥é“ï¼Œæ‰«æè¿™ä¸ªäºŒç»´ç çš„æ“ä½œï¼Œå°±æ˜¯æŸ¥çœ‹è¯¥ç”¨æˆ·çš„ä¸ªäººèµ„æ–™ã€‚é‚£è¿™ä¸ªäºŒç»´ç é‡Œç©¶ç«Ÿè—æœ‰ä»€ä¹ˆä¿¡æ¯ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶ä»–å·¥å…·æ‰«æä¸€ä¸‹ç»“æœã€‚ 2. çœ‹ä¸€ä¸‹è‰æ–™æ‰«æç»“æœ è¯¥å›¾ç‰‡ç”±è‰æ–™äºŒç»´ç æä¾› å¾ˆæ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸€ä¸ªhttp çš„url é“¾æ¥ 1http://weixin.qq.com/r/35zcxLnE_uSFrf2n98nN æˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹è¿™url çš„å¤§æ¦‚å‚æ•°ï¼Œä¸‹é¢ç”¨ä¸€ä¸ªè¡¨æ ¼æ¥è¯´æ˜ï¼š å‚æ•° ç±»å‹ è¯´æ˜ http://weixin.qq.com String åŸŸå r String çœ‹èµ·æ¥æ˜¯è·¯ç”± è¡¨ç¤ºè¦æŸ¥çœ‹èµ„æ–™ 35zcxLnE_uSFrf2n98nN String çœ‹èµ·æ¥æ˜¯åŠ å¯†åçš„èƒ½æ ‡è¯†ç”¨æˆ·å”¯ä¸€å±æ€§ å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ä¸ªurl æ˜¯çœŸå®å¯ä»¥è®¿é—®çš„ï¼Œé€šè¿‡ç”µè„‘æ‰“å¼€ä¼šç›´æ¥è·³è½¬åˆ°å®˜æ–¹ç½‘ç«™ã€‚å¯èƒ½ä¼šæœ‰å¾ˆå¤šäººï¼ˆåŒ…æ‹¬æˆ‘ä»¬çš„QAäººå‘˜ï¼‰æå‡ºç–‘é—®ï¼Œå¦‚æ­¤ç®€å•çš„ä¸€ä¸ªæ‰«ç æŸ¥çœ‹èµ„æ–™çš„åŠŸèƒ½ï¼Œä¸ºä»€ä¹ˆè¦åšæˆä¸€ä¸ªå¤æ‚é€»è¾‘çš„url è¶…é“¾æ¥å‘¢ï¼Ÿ 3. UC æ‰«ç ç»“æœ è¯¥å›¾ç‰‡ç”±UCæä¾› ä»¥ä¸Šæ˜¯UC æµè§ˆå™¨æ‰«ç çš„ç»“æœï¼ŒåŒæ ·æ˜¯è·³è½¬åˆ°å¾®ä¿¡å®˜ç½‘ï¼Œä½†æ˜¯ä¸ä¹‹ä¸åŒçš„æ˜¯ï¼Œç´§æ¥ç€ç›´æ¥æ‰“å¼€å¾®ä¿¡APPï¼ˆå¦‚æœå®‰è£…å¾®ä¿¡çš„è¯ï¼‰ï¼Œå¦åˆ™å°±è·³åˆ°åº”ç”¨å¸‚åœºå‘ŠçŸ¥ç”¨æˆ·ä¸‹è½½å¾®ä¿¡APPã€‚é‚£è¿™é‡Œå°±å¯ä»¥å¾ˆå¥½çš„è§£é‡Šä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆäºŒç»´ç çš„æ‰«æç»“æœä½¿ç”¨url è¶…é“¾æ¥ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥æ›´å¥½ä½“éªŒçš„å¼•å¯¼ç”¨æˆ·ï¼Œä»è€Œæå‡è‡ªèº«äº§å“çš„æµé‡ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç®¡ä½ é€šè¿‡ä½•ç§æ–¹å¼ï¼Œä»€ä¹ˆåº”ç”¨æ‰«ç ï¼Œå¯¹äºç”¨æˆ·æ¥è®²ï¼Œä½ å¯ä»¥å¾ˆå¿«é€Ÿå¾ˆç›´è§‚çš„äº†è§£åˆ°ä½ æ‰«æçš„ä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Œä¸å†æ˜¯äºŒç»´ç å®é™…æ„ä¹‰ä¸Šçš„ä¸€æ®µå­—ç¬¦ï¼Œä»äº§å“çš„è§’åº¦æ¥è¯´ï¼Œä¹Ÿèƒ½å¤Ÿä¿è¯è¿™å—çš„ç”¨æˆ·æµé‡æµå¤±å‡å°‘ï¼Œæ“ä½œä½“éªŒä¸Šä¹Ÿæœ‰å¾ˆå¤§çš„æå‡ã€‚ æˆ‘ä»¬çš„åº”ç”¨è¯¥å¦‚ä½•è®¾è®¡é‚£è¿™ä¸ªï¼Œè·Ÿäº§å“æœ¬èº«çš„éœ€æ±‚æœ‰å¾ˆå¤§å…³ç³»ï¼Œä½†æ˜¯å¼€å‘çš„æ€è·¯å’Œé€»è¾‘éƒ½æ˜¯ç»Ÿä¸€çš„ï¼Œç±»ä¼¼å¾®ä¿¡è¿™ç§è¶…çº§APPï¼Œæœ‰å„ç§ç‰›äººé›†æ€å¹¿ç›Šï¼Œé¡¹ç›®ä¸­åº”è¯¥æ˜¯ä¼šå„ç§ç»„ä»¶åŒ–ï¼Œæ¨¡å—åŒ–çš„è®¾è®¡ï¼Œæ‹¿ä¸€ä¸ªç®€å•çš„æ‰«ä¸€æ‰«åŠŸèƒ½æ¥è¯´ï¼Œä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œåœ¨ä»–çš„åŠŸèƒ½ä»¥åŠå’Œå…¶ä»–æ¨¡å—ä¹‹é—´çš„è€¦åˆæ€§æ¥è¯´ï¼Œè‚¯å®šæ˜¯å€¼å¾—æˆ‘ä»¬å€Ÿé‰´å’Œå­¦äº›çš„ï¼Œå½“ç„¶æˆ‘æ²¡æœ‰æ‰¾åˆ°ä»»ä½•ç›¸å…³èµ„æ–™ï¼Œä¸‹é¢åªèƒ½æŒ‰ç…§è¿‘æœŸçš„é¡¹ç›®æ¥èŠèŠæˆ‘æ˜¯å¦‚ä½•å¤„ç†çš„ã€‚ 1. äºŒç»´ç æ‰«æçš„ç»“æœå¿…å®šæ˜¯ä¸€ä¸ªå¯ä»¥è®¿é—®çš„è¶…é“¾æ¥ è¿™ä¸ªåº”è¯¥æ˜¯æ²¡äººåé©³çš„ã€‚ ä¹‹æ‰€ä»¥è¿™ä¹ˆå®šä¹‰ï¼Œæœ‰ä¸¤ç‚¹ä¼˜åŠ¿ã€‚ç¬¬ä¸€ï¼Œç”¨æˆ·ä½“éªŒå’Œå¯¼æµä¸Šï¼Œå¯ä»¥åšåˆ°æ›´å¥½ï¼Œå…·ä½“ä¸Šé¢çš„åˆ†æä¸­ä¹Ÿæåˆ°ï¼Œå°±ä¸å†èµ˜è¿°ï¼›ç¬¬äºŒï¼Œåœ¨ç ”å‘ä¸Šï¼Œé€šè¿‡è¶…é“¾æ¥ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†åŠŸèƒ½é›†æˆåˆ°æˆ‘ä»¬çš„è·¯ç”±æ¨¡å—ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿæœ‰å…¶ä»–çš„æ–¹æ³•ï¼Œä¸è¿‡ä¹ŸåŒæ ·æ˜¯ä¸ºäº†å¤„ç†æ‰«ç ç»“æœæ¥å®šä¹‰çš„ã€‚ è·¯ç”±æ¨¡å—çš„è€¦åˆè®¾è®¡ ä¸Šå›¾ä¸­ï¼Œæ‰«ä¸€æ‰«åŠŸèƒ½é€šè¿‡è¶…é“¾æ¥çš„å½¢å¼ï¼Œå¯ä»¥ç›´æ¥æ•´åˆåˆ°è·¯ç”±æ¨¡å—ä¸­ï¼Œé€šè¿‡scheme çš„æ–¹å¼ï¼Œå…ˆå°†åŸŸå æ›¿æ¢æˆ è‡ªå®šä¹‰çš„schemeï¼Œå¦‚æœè·¯ç”±æ¨¡å—å¯ä»¥å¤„ç†å°±ä¸¢è¿‡å»å¤„ç†ï¼Œä¸èƒ½å¤„ç†çš„æƒ…å†µä¸‹ï¼Œå°±é€šè¿‡APP å†…éƒ¨çš„æµè§ˆå™¨æ‰“å¼€è¯¥é“¾æ¥ï¼Œå…¶ä»–é€»è¾‘çš„æ“ä½œå°±ä¸¢ç»™web é¡µé¢å¤„ç†ï¼Œæ¯”å¦‚å¼•å¯¼ç”¨æˆ·åˆ°å®˜ç½‘ï¼Œæé†’ç”¨æˆ·ä¸‹è½½åº”ç”¨ï¼Œç­‰ä¸€äº›é”™è¯¯çš„å¤„ç†ã€‚ 2.ä¸ºäº†æ›´å¥½åœ°å…¼å®¹æ‰«ç åŠŸèƒ½ï¼Œåšä¸€äº›ä¼˜åŒ– è·¯ç”±æ¨¡å—çš„æ‰«ç åŠŸèƒ½ä¼˜åŒ– è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠä¸€äº›é€šç”¨çš„å¤„ç†æ“ä½œï¼Œé€šè¿‡ç±»åˆ«æˆ–è€…ä»£ç†åè®®çš„æ–¹æ³•ï¼ŒæŒ‰åŠŸèƒ½åˆ†åˆ«æ·»åŠ åˆ°è·¯ç”±æ¨¡å—ä¸­ï¼Œè¿™ç§ä¼˜åŒ–ä¸ä»…ä¼˜åŒ–äº†æ‰«ä¸€æ‰«çš„åŠŸèƒ½ï¼Œä¹ŸåŒæ—¶ä¼˜åŒ–äº†å…¶ä»–å„æ¨¡å—ä½¿ç”¨è·¯ç”±æ¨¡å—çš„é€»è¾‘ã€‚ é‚£æˆ‘ä»¬å¯ä»¥å¼€å§‹ç€æ‰‹ç ”å‘äº†é€‚ç”¨ç¯å¢ƒWebæˆ–å…¶ä»–åº”ç”¨è°ƒç”¨XXXåº”ç”¨ç‰¹å®šåŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ç”¨äºåº”ç”¨å†…éƒ¨åŠŸèƒ½è·³è½¬ æ”¯æŒç³»ç»ŸiOSï¼ŒAndroidï¼ŒH5 å¦‚æœ‰å› ç³»ç»Ÿç‰¹æ€§å¯¼è‡´çš„ä¸ä¸€è‡´ï¼Œåœ¨åè®®ä¸­è¯¦ç»†åˆ—å‡º è°ƒç”¨æ–¹å¼Webç«¯http://appwebv2.xxx.cn//?parms (å¼€å‘æµ‹è¯•ç¯å¢ƒä¸ºappwebv2test.xxx.cn) Appç«¯xxxapp:///?params Web è°ƒç”¨ç«¯éœ€è¦å…ˆåˆ¤æ–­XXXåº”ç”¨æ˜¯å¦å·²ç»å®‰è£…å¦‚å·²å®‰è£…ï¼Œåˆ™é€šè¿‡xxxapp://è°ƒç”¨å¦‚æœªå®‰è£…ï¼Œè§†å®é™…å®šä¹‰åŠåŠŸèƒ½ï¼Œé€šè¿‡webè°ƒç”¨æˆ–è€…æç¤ºç”¨æˆ·ä¸‹è½½åº”ç”¨ App ç«¯éœ€è¦å…ˆé€šè¿‡xxxapp:// è·¯ç”± å¦‚æœæœ¬åœ°å·²ç»æ³¨å†Œï¼Œç»§ç»­æ‰§è¡Œ æ²¡æœ‰æ³¨å†Œï¼Œç›´æ¥é€šè¿‡åº”ç”¨å†…æµè§ˆå™¨æ‰“å¼€ Web é¡µé¢ï¼ˆéœ€è¦åŒ¹é…æ¨¡æ¿å¡«å……å¿…è¦å‚æ•°ï¼‰ ç¤ºä¾‹http://appwebv2.xxx.cn/action/bind/bike/{bikeid}/?appversion={version}&amp;platform={platform}&amp;xxxkey={xxxkey} é“¾æ¥å‰åŠéƒ¨åˆ†ï¼Œç”±æœåŠ¡å™¨ç”Ÿæˆï¼Œåé¢çº¢è‰²éƒ¨åˆ†å‚æ•°éœ€è¦å®¢æˆ·ç«¯åœ¨ä¸èƒ½æ­£å¸¸é€šè¿‡è·¯ç”±æ‰“å¼€è¯¥åŠŸèƒ½ï¼Œè°ƒç”¨æµè§ˆå™¨æ—¶æ‹¼æ¥åœ¨ url é‡Œã€‚ åé¢çº¢è‰²éƒ¨åˆ†å‚æ•°ï¼Œæ ¹æ®æœåŠ¡å™¨çš„æ¨¡æ¿é“¾æ¥åŒ¹é…å¡«å……ï¼Œç„¶åç”ŸæˆäºŒç»´ç å±•ç¤ºã€‚ å¿…è¦å‚æ•° å‚æ•° ç±»å‹ è¯´æ˜ action/ Router æ­¤è·¯ç”±æ˜¯action è¡¨ç¤ºè¯¥é“¾æ¥æ˜¯è¦å®ç°æŸåŠŸèƒ½ bind String è¡¨ç¤ºç»‘å®šçš„æ“ä½œ bike String è¡¨ç¤ºè¦ç»‘å®šçš„æ˜¯è½¦ bikeid String éœ€è¦å¤„ç†çš„å‚æ•° åŠŸèƒ½å·²ç»å®ç°æŒ‰ç…§ä¸Šé¢çš„å®šä¹‰å’Œé€»è¾‘ï¼Œæ‰«ä¸€æ‰«çš„åŠŸèƒ½å·²ç»å¯ä»¥æ®æ­¤å®šä¹‰ç Œç –å®ç°ã€‚å¯¹äºè·¯ç”±çš„åŠŸèƒ½ï¼Œå¯ä»¥æœ¬åœ°å®ç°ï¼Œä¹Ÿå¯ä»¥åƒè˜‘è‡è¡—é‚£æ ·ï¼Œé€šè¿‡åå°çš„é…ç½®å¯ä»¥éšæ—¶æ›´æ”¹å¤„ç†æ“ä½œã€‚ äºæ˜¯ï¼Œweb ç«¯å‡†å¤‡äº†ä¸€ä¸ªé¡µé¢ï¼Œè¶…é“¾æ¥æ˜¯ 1http://appwebv2.xxx.cn/action/bind/bike ç”ŸæˆäºŒç»´ç ä¹‹å‰ï¼ŒæœåŠ¡ç«¯ç»™äº†ä½ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå†…å®¹æ˜¯ 1http://appwebv2.xxx.cn/action/bind/bike/11234/?appversion=&#123;version&#125;&amp;platform=&#123;platform&#125;&amp;xxxkey=&#123;xxxkey&#125; å®¢æˆ·ç«¯æ ¹æ®å­—ç¬¦ä¸²ï¼Œé€šè¿‡åŒ¹é…å’Œå¡«å……ï¼Œç”Ÿæˆä¸€ä¸ªäºŒç»´ç  ç”ŸæˆäºŒç»´ç  äºŒç»´ç çš„å®é™…ç»“æœå°±æ˜¯ 1http://appwebv2.xxx.cn/action/bind/bike/11234/?appversion=V1.0&amp;platform=iOS&amp;xxxkey=3a10362d077cd27b5f2c537e1ff2fc48 è‡³æ­¤ï¼Œé€šè¿‡XXX åº”ç”¨æ‰«ç ï¼Œå°±ä¼šè°ƒç”¨æ·»åŠ è½¦è¾†çš„åŠŸèƒ½ã€‚é€šè¿‡ç¬¬ä¸‰æ–¹APP æ‰«ç çš„è¯ï¼Œä¼šå…ˆæ‰“å¼€æµè§ˆå™¨ï¼Œweb é¡µé¢ä¼šå†é€šè¿‡ç³»ç»Ÿæ–¹æ³•å…ˆå°è¯•è°ƒç”¨XXX åº”ç”¨ï¼Œå¦‚æœä¸èƒ½è°ƒèµ·ï¼Œå°±æé†’ç”¨æˆ·å»å•†åº—ä¸‹è½½ï¼Œå¦‚æœèƒ½è°ƒèµ·åº”ç”¨ï¼ŒXXX åº”ç”¨åœ¨å¯åŠ¨ä»¥åï¼Œé€šè¿‡è·¯ç”±æ¨¡å—å¤„ç†ï¼Œé¦–å…ˆè·³è½¬åˆ°æ‰«ä¸€æ‰«ç•Œé¢ï¼Œç„¶åè°ƒç”¨æ·»åŠ è½¦è¾†çš„åŠŸèƒ½ï¼Œå¦‚æœè·¯ç”±æ— æ³•å¤„ç†è¿™ä¸ªhttp è¶…é“¾æ¥ï¼Œå°±ä¼šè°ƒç”¨æµè§ˆå™¨å†åŠ è½½è¿™ä¸ªweb é¡µé¢ã€‚ åˆ°è¿™é‡Œï¼Œæˆ‘è„‘æµ·é‡Œèƒ½æƒ³åˆ°çš„åŸºæœ¬åˆ†æå®Œäº†ï¼Œå¦‚æœæœ‰æ›´å¥½çš„æƒ³æ³•æˆ–å»ºè®®ï¼Œè¯·è‰¾ç‰¹æˆ‘~ æ–°æµªå¾®åšï¼šç…œå¯’äº†","categories":[{"name":"mobile","slug":"mobile","permalink":"https://blog.yuhanle.com/categories/mobile/"}],"tags":[{"name":"scan","slug":"scan","permalink":"https://blog.yuhanle.com/tags/scan/"}]},{"title":"ObjC&JavaScript äº¤äº’ï¼Œåœ¨æ°å½“çš„æ—¶æœºæ³¨å…¥å¯¹è±¡","slug":"oc-js-inpourjs-in-goodtime","date":"2016-11-30T00:00:00.000Z","updated":"2021-10-21T08:18:48.338Z","comments":true,"path":"2016/11/30/oc-js-inpourjs-in-goodtime/","link":"","permalink":"https://blog.yuhanle.com/2016/11/30/oc-js-inpourjs-in-goodtime/","excerpt":"è­¦å‘Šï¼šæ–‡ç« ä¸­æåˆ°çš„ 1- (void)webView:(id)unuse didCreateJavaScriptContext:(JSContext *)ctx forFrame:(id)frame; æ–¹æ³•æ¶‰åŠç§æœ‰APIï¼Œæœ‰ç½‘å‹åé¦ˆè¯´å®¡æ ¸ä¼šè¢«æ‹’ç»ï¼Œå¸Œæœ›çœ‹åˆ°çš„æœ‹å‹ä»¬æ…ç”¨ ç§»åŠ¨ç«¯é¡¹ç›®å¼€å‘ä¸­ï¼Œå…ä¸äº†å‡ºç° Native App ï¼ˆä»¥ä¸‹ç®€ç§°Nativeï¼‰å’Œ H5 é¡µé¢ï¼ˆä»¥ä¸‹ç®€ç§°H5ï¼‰çš„äº¤äº’ï¼Œç½‘ç»œä¸Šæœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œæ¯”å¦‚WebViewJavascriptBridgeï¼Œå¯¹äºä¸€äº›å°çš„é¡¹ç›®éœ€æ±‚æ¥è¯´ï¼Œå…¶å®ä¸ç”¨é‚£ä¹ˆéº»çƒ¦ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆä»åŸºç¡€ç€æ‰‹ã€‚","text":"è­¦å‘Šï¼šæ–‡ç« ä¸­æåˆ°çš„ 1- (void)webView:(id)unuse didCreateJavaScriptContext:(JSContext *)ctx forFrame:(id)frame; æ–¹æ³•æ¶‰åŠç§æœ‰APIï¼Œæœ‰ç½‘å‹åé¦ˆè¯´å®¡æ ¸ä¼šè¢«æ‹’ç»ï¼Œå¸Œæœ›çœ‹åˆ°çš„æœ‹å‹ä»¬æ…ç”¨ ç§»åŠ¨ç«¯é¡¹ç›®å¼€å‘ä¸­ï¼Œå…ä¸äº†å‡ºç° Native App ï¼ˆä»¥ä¸‹ç®€ç§°Nativeï¼‰å’Œ H5 é¡µé¢ï¼ˆä»¥ä¸‹ç®€ç§°H5ï¼‰çš„äº¤äº’ï¼Œç½‘ç»œä¸Šæœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œæ¯”å¦‚WebViewJavascriptBridgeï¼Œå¯¹äºä¸€äº›å°çš„é¡¹ç›®éœ€æ±‚æ¥è¯´ï¼Œå…¶å®ä¸ç”¨é‚£ä¹ˆéº»çƒ¦ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆä»åŸºç¡€ç€æ‰‹ã€‚ å…ˆäº†è§£å‡ ä¸ªåŸºç¡€æ–¹æ³• ç½‘é¡µå³å°†åŠ è½½ï¼ˆæœ€å…ˆæ‰§è¡Œçš„ä»£ç†æ–¹æ³•ï¼‰ï¼Œåœ¨æ¯æ¬¡load é¡µé¢çš„æ—¶å€™éƒ½ä¼šå…ˆèµ°è¿™ä¸ªå›è°ƒï¼Œå¯ä»¥åœ¨æ­¤åšä¸€äº›è‡ªå·±çš„æ“ä½œï¼Œç»å¸¸ä¼šåœ¨è¿™å„¿æ‹¦æˆªåè®® 12345- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType &#123; // do something... return YES;&#125; ç½‘é¡µå·²ç»åŠ è½½å®Œæˆï¼ˆæœ€åæ‰§è¡Œçš„ä»£ç†æ–¹æ³•ï¼‰ï¼Œæ‰§è¡Œåˆ°è¿™ä¸ªåœ°æ–¹ï¼Œweb é¡µé¢å·²ç»åŠ è½½å®Œæˆï¼Œç›¸å…³ä»£ç ä¹Ÿéƒ½æ‰§è¡Œå®Œæ¯• 1234- (void)webViewDidFinishLoad:(UIWebView *)webView &#123; // åŠ è½½å®Œæˆ éšè—HUD &#125; æ ¹æ®ä¸åŒçš„åœºæ™¯ï¼Œæ‰¾ä¸€ä¸ªæœ€åˆé€‚çš„æ–¹æ³•åœºæ™¯1 ï¼ˆH5 é€šä¿¡ Nativeï¼Œå‘ŠçŸ¥Native è¦åšçš„äº‹å„¿ï¼‰ 1H5 é¡µé¢åœ¨æŸä¸ªæ ‡ç­¾ç‚¹å‡»åï¼Œè¦å…³é—­å½“å‰åŠ è½½ç½‘é¡µçš„æ§åˆ¶å™¨VC éœ€æ±‚åˆ†æï¼š è¿™åº”è¯¥ä¸æ˜¯æœ€ç®€å•çš„ä¸€ä¸ªéœ€æ±‚ï¼Œæœ€ç®€å•çš„æ˜¯Native é€šè¿‡url ç»™H5 é¡µé¢ä¼ å‚æ•°ï¼Œå‘ŠçŸ¥H5 è¦åšçš„äº‹å„¿ã€‚ è¿™ä¸ªéœ€æ±‚ä¸­ï¼ŒH5 é¡µé¢å·²ç»åŠ è½½å®Œæ¯•ï¼Œæ­¤æ—¶å¯ä»¥è¯´H5 é¡µé¢ç›¸å…³çš„Bug å’ŒUI ç¼ºé™·éƒ½ä¸Native æ— å…³ï¼Œæˆ‘æ¯æ¬¡éƒ½æ˜¯è¿™ä¹ˆè·Ÿæµ‹è¯•äººå‘˜è®²ï¼Œç±»ä¼¼é—®é¢˜ç›´æ¥assign ç»™ä»–ä»¬ã€‚ åŠŸèƒ½å®ç°ï¼š å¯¹äºè¿™ç±»æ¯”è¾ƒç®€å•çš„éœ€æ±‚ï¼Œæœ€å¸¸ç”¨çš„åšæ³•å°±æ˜¯ï¼Œé€šè¿‡æ‹¦æˆªåè®®çš„æ–¹æ³•ï¼Œåœ¨ç‚¹å‡»æ ‡ç­¾çš„æ—¶å€™ï¼Œå¯ä»¥è°ƒç”¨è‡ªå®šä¹‰åè®®çš„è¶…é“¾æ¥ï¼Œæ¯”å¦‚å®šä¹‰ä¸€ä¸ª yuhanle://action/closeçš„é“¾æ¥ï¼Œåœ¨é¡µé¢å³å°†load çš„æ—¶å€™ï¼Œåˆ¤æ–­url çš„åè®®ï¼Œå¦‚æœåè®®æ˜¯ yuhanleï¼Œå°±æ‹¦æˆªæ‰è¿™ä¸ªè¯·æ±‚ï¼Œåšè‡ªå·±çš„å¤„ç†ã€‚ å›¾è§£ï¼š åœºæ™¯2 ï¼ˆH5 è°ƒç”¨ Native App çš„JS æ–¹æ³•ï¼ŒåŒ…æ‹¬åŒæ­¥å’Œå¼‚æ­¥æ“ä½œï¼‰ 123H5 é¡µé¢åœ¨åŠ è½½è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä»Native ä¸­å–å¾—éƒ¨åˆ†æ•°æ®ï¼Œæˆ–è°ƒç”¨æŸä¸ªåŠŸèƒ½ï¼Œå‡åŒ…å«åŒæ­¥æ“ä½œæˆ–å¼‚æ­¥æ“ä½œï¼Œæ¯”å¦‚åªæ˜¯ç®€å•çš„è·å–tokenï¼Œåˆ™ç›´æ¥åŒæ­¥è¿”å›ï¼Œå¦‚æœéœ€è¦Native å¼‚æ­¥æ‹¿åˆ°ç»“æœï¼ŒNative åˆ™éœ€è¦è€ƒè™‘ JSExport ä¸­çš„çº¿ç¨‹é—®é¢˜ éœ€æ±‚åˆ†æï¼š è¿™ä¸ªéœ€æ±‚ä¸­è‚¯å®šéœ€è¦Native æ³¨å…¥JS æ–¹æ³•ï¼ŒH5 é€šè¿‡è°ƒç”¨JS å’ŒNative é€šä¿¡ï¼Œå…¶ä¸­åŒ…æ‹¬åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§æƒ…å†µä¸‹çš„å¤„ç†ï¼Œéœ€è¦æ³¨æ„çš„å°±æ˜¯å¼‚æ­¥æ“ä½œæ—¶ï¼ŒH5 éœ€è¦åœ¨è°ƒç”¨ App æ—¶ä¼ å…¥ä¸€ä¸ª JS æ–¹æ³•åï¼ŒApp åœ¨æ‹¿åˆ°æ•°æ®åå¯ä»¥å›è°ƒ H5 çš„JS æ–¹æ³•ï¼Œåœ¨è°ƒç”¨è¿™ä¸ªå›è°ƒçš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨webView çš„currentThreadï¼Œä¸ç„¶å°±ä¼šå‡ºç°é¡µé¢å¡æ­»ã€‚ åŠŸèƒ½å®ç°ï¼š 1- å®šä¹‰ä¸€ä¸ªç±»ï¼Œç”¨äºæ³¨å…¥è¿™ä¸ªå¯¹è±¡ 12345678// æ­¤æ¨¡å‹ç”¨äºæ³¨å…¥JSçš„æ¨¡å‹ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡æ¨¡å‹æ¥è°ƒç”¨æ–¹æ³•ã€‚@interface QWSJsObjCModel : NSObject &lt;JavaScriptObjectiveCDelegate&gt;@property (nonatomic, weak) JSContext *jsContext;@property (nonatomic, weak) UIWebView *webView;@property (nonatomic, weak) G100WebViewController * webVc;@end 2- å£°æ˜åè®®ï¼Œå®ç°å’ŒJS å¯¹åº”çš„æ–¹æ³• 12345678910111213141516171819202122232425262728#import &lt;JavaScriptCore/JavaScriptCore.h&gt;@protocol JavaScriptObjectiveCDelegate &lt;JSExport&gt;/** * è·å–å®¢æˆ·ç«¯çš„token * * @param qwsKey å®¢æˆ·ç«¯ç”Ÿæˆçš„å¯†ç key * * @return è¿”å›å€¼token */- (NSString *)getToken:(NSString *)qwsKey;/** * H5 ä¼ é€’key è·å–newToken åœ¨è°ƒç”¨å…¶ callback æ–¹æ³• * * @param key qwskey * @param callback å›è°ƒæ–¹æ³•å * @param property æ–¹æ³•å‚æ•° */- (void)getNewToken:(NSString *)key callback:(NSString *)callback property:(NSString *)property;/** * H5 åœ¨åŠ è½½å®Œæˆå å‘Šè¯‰å®¢æˆ·ç«¯åœ¨è¿”å›çš„æ—¶å€™è°ƒç”¨è¯¥æ–¹æ³• * * @param callback js æ–¹æ³•å */- (void)getExitMsgCallback:(NSString *)callback; 3- æˆ‘ä»¬éœ€è¦åœ¨æ‰“å¼€webView çš„æ—¶å€™ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¥½çš„æ—¶æœºæ³¨å…¥ JS 12345678910111213141516// é¦–å…ˆæ‹¿åˆ°JSContextself.jsContext = [_jsWebView valueForKeyPath:@&quot;documentView.webView.mainFrame.javaScriptContext&quot;]; // é€šè¿‡æ¨¡å‹è°ƒç”¨æ–¹æ³•ï¼Œè¿™ç§æ–¹å¼æ›´å¥½äº›ã€‚ QWSJsObjCModel *model = [[QWSJsObjCModel alloc] init]; self.jsContext[@&quot;nativeObj&quot;] = model; model.jsContext = self.jsContext; model.webView = _jsWebView; self.jsContext[@&quot;getUserinfo&quot;] = ^()&#123; return @&quot;1234&quot;; &#125;; self.jsContext.exceptionHandler = ^(JSContext *context, JSValue *exceptionValue) &#123; context.exception = exceptionValue; NSLog(@&quot;å¼‚å¸¸ä¿¡æ¯ï¼š%@&quot;, exceptionValue); &#125;; 4- å¯¹åº”H5 é¡µé¢çš„JS å®šä¹‰åŠè°ƒç”¨ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;æµ‹è¯•IOSä¸JSä¹‹å‰çš„äº’è°ƒ&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; * &#123; font-size: 40px; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; var jsFunc = function() &#123; alert(&apos;Objective-C call js to show alert&apos;); &#125; var jsParamFunc = function(argument) &#123; document.getElementById(&apos;jsParamFuncSpan&apos;).innerHTML = argument[&apos;name&apos;]; &#125; &lt;/script&gt; &lt;/head&gt;&lt;body&gt; &lt;div style=&quot;margin-top: 100px&quot;&gt; &lt;h1&gt;Test how to use objective-c call js&lt;/h1&gt; &lt;input type=&quot;button&quot; value=&quot;getToken&quot; onclick=&quot;alert(nativeObj.getToken())&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;Call ObjC system alert&quot; onclick=&quot;nativeObj.showAlertMsg(&apos;js title&apos;, &apos;js message&apos;)&quot;&gt;&lt;/div&gt;&lt;div&gt; &lt;input type=&quot;button&quot; value=&quot;Call ObjC func with JSON &quot; onclick=&quot;nativeObj.callWithDict(&#123;&apos;name&apos;: &apos;testname&apos;, &apos;age&apos;: 10, &apos;height&apos;: 170&#125;)&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;Call ObjC func with JSON and ObjC call js func to pass args.&quot; onclick=&quot;nativeObj.jsCallObjcAndObjcCallJsWithDict(&#123;&apos;name&apos;: &apos;testname&apos;, &apos;age&apos;: 10, &apos;height&apos;: 170&#125;)&quot;&gt;&lt;/div&gt;&lt;div&gt; &lt;a href=&quot;test1.html&quot;&gt;Click to next page&lt;/a&gt;&lt;/div&gt;&lt;div&gt; &lt;span id=&quot;jsParamFuncSpan&quot; style=&quot;color: red; font-size: 50px;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; æŒ‰ç…§ä»¥ä¸Šçš„åšæ³•ï¼Œå°±èƒ½è¾¾åˆ°Native å’ŒH5 ä¹‹é—´çš„ç›¸äº’é€šä¿¡ï¼Œç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™æ³¨å…¥JS å¯¹è±¡ï¼Œæ‰èƒ½æ»¡è¶³H5 é¡µé¢çš„éœ€æ±‚ï¼Œå› ä¸ºå®é™…æƒ…å†µä¸­ï¼ŒH5 é¡µé¢å¯èƒ½ä¼šéšæ—¶è°ƒç”¨ä½ çš„JSã€‚ éœ€è¦æ³¨æ„çš„å‡ ä¸ªé—®é¢˜1- åœºæ™¯2 ä¸­æˆ‘ä»¬æåˆ°çš„ï¼Œå¼‚æ­¥è°ƒç”¨æ—¶çš„çº¿ç¨‹é—®é¢˜ é¦–å…ˆçœ‹ä¸‹ä¸‹é¢çš„ä»£ç  1234567891011121314151617181920212223- (void)getNewToken:(NSString *)key callback:(NSString *)callback property:(NSString *)property &#123; if (_webVc) &#123; if ([_webVc.qwsKey isEqualToString:key]) &#123; __block NSString * newToken = @&quot;&quot;; __block NSInteger result = 0; [[UserManager shareManager] autoLoginWithComplete:^(NSInteger statusCode, ApiResponse *response, BOOL requestSuccess) &#123; if (requestSuccess) &#123; newToken = [[G100InfoHelper shareInstance] token]; &#125;else&#123; newToken = @&quot;error&quot;; &#125; result = requestSuccess ? response.errCode : statusCode; JSValue * function = self.jsContext[callback]; NSArray * params = @[@(result), newToken, property]; [function callWithArguments:params]; &#125;]; &#125; &#125;&#125; è¿™æ®µä»£ç ï¼Œå°±æ˜¯æƒ³åœ¨H5 é¡µé¢è°ƒç”¨çš„æ—¶å€™ï¼ŒApp è¿™è¾¹è‡ªåŠ¨ç™»é™†ï¼Œé‡æ–°è·å–åˆ°æœ€æ–°çš„tokenï¼Œæ‹¿åˆ°ç»“æœä»¥åå¹¶å›è°ƒH5ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸Šæ˜¯å¼‚æ­¥çš„ï¼Œçœ‹èµ·æ¥æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯ä¸€æ—¦å®é™…æ“ä½œèµ·æ¥ï¼Œä¼šåœ¨è¿™é‡Œå¡æ­»ã€‚å…·ä½“åŸå› ï¼Œæˆ‘ä¹Ÿä¸å¥½è§£é‡Šï¼Œè§£å†³åŠæ³•æ˜¯æœ‰çš„ï¼Œåªèƒ½é€šè¿‡webView çš„currentThread æ¥æ‰§è¡Œperform æ“ä½œã€‚ ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132- (void)getNewToken:(NSString *)key callback:(NSString *)callback property:(NSString *)property &#123; if (_webVc) &#123; if ([_webVc.qwsKey isEqualToString:key]) &#123; __block NSString * newToken = @&quot;&quot;; __block NSInteger result = 0; NSThread * webThread = [NSThread currentThread]; [[UserManager shareManager] autoLoginWithComplete:^(NSInteger statusCode, ApiResponse *response, BOOL requestSuccess) &#123; if (requestSuccess) &#123; newToken = [[G100InfoHelper shareInstance] token]; &#125;else&#123; newToken = @&quot;error&quot;; &#125; result = requestSuccess ? response.errCode : statusCode; // è¿™é‡Œé€šè¿‡æ­¤æ–¹æ³• åœ¨å½“å‰çº¿ç¨‹æ“ä½œæ‰ä¸ä¼šé€ æˆå¡æ­»çš„ç°è±¡ [self performSelector:@selector(callQWSJSWithArgument:) onThread:webThread withObject:@[callback, @(result), newToken, property] waitUntilDone:NO]; &#125;]; &#125; &#125;&#125;- (void)callQWSJSWithArgument:(NSArray *)argument &#123; NSString * callback = argument[0]; JSValue * function = self.jsContext[callback]; NSMutableArray * params = [NSMutableArray arrayWithArray:argument]; // ç§»é™¤ç¬¬ä¸€ä¸ª æ–¹æ³•å [params removeObjectAtIndex:0]; [function callWithArguments:params];&#125; 2- åŒæ ·æ˜¯åœºæ™¯2 ä¸­çš„ä¸€ä¸ªé—®é¢˜ï¼Œä»€ä¹ˆæ—¶å€™æ³¨å…¥å¯¹è±¡ éœ€æ±‚æ€»æ˜¯è™šæ— ç¼¥ç¼ˆçš„ï¼Œå¯¹äºH5 ç»“åˆ Native çš„å¼€å‘ç»“æ„ä¸­ï¼ŒNative å§‹ç»ˆæ‰®æ¼”ç€æœåŠ¡å’Œå…¥å£çš„è§’è‰²ï¼ŒH5 å¯èƒ½éšæ—¶éƒ½ä¼šä¸»åŠ¨å’ŒNative é€šä¿¡ï¼Œä½†æ˜¯Native åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™å‡†å¤‡å¥½è¿™äº›æœåŠ¡å‘¢ï¼Ÿ çœ‹äº†å¾ˆå¤šç½‘ä¸Šçš„èµ„æ–™ï¼Œå‡ ä¹å…¨éƒ¨éƒ½æ˜¯åœ¨é¡µé¢åŠ è½½å®Œæˆ webViewDidFinishLoad è¿™ä¸ªå›è°ƒä¸­æ³¨å…¥æ–¹æ³•ï¼Œä½†å®é™…å¼€å‘ä¸­ï¼Œå¾ˆå¤šé¡µé¢åœ¨åŠ è½½çš„æ—¶å€™å°±éœ€è¦å’ŒNative é€šä¿¡ï¼Œæ¯”å¦‚è¯´æ‹¿åˆ°tokenï¼Œå¦‚æœåœ¨è¿™ä¸ªæ—¶å€™æ‰æ³¨å…¥ï¼Œè‚¯å®šæ˜¯æ¥ä¸åŠçš„ï¼Œåªèƒ½æ— åŠŸè€Œè¿”ã€‚ ç›¸ä¿¡å¤§å¤šæ•°äººéƒ½æ²¡å¤ªåœ¨æ„è¿™ä¸ªé—®é¢˜ï¼Œå½“ç„¶ï¼Œå¦‚æœå¼ºåˆ¶è®©H5 çš„å¼€å‘äººå‘˜ä¿®æ”¹é€»è¾‘ï¼Œå°†æ‰€æœ‰çš„é€šä¿¡éƒ½æ”¾åœ¨é¡µé¢åŠ è½½å®Œæˆä»¥ååœ¨åšï¼Œä¹Ÿæ²¡é—®é¢˜ï¼Œåªä¸è¿‡å¯¹äºç”¨æˆ·çš„ä½“éªŒä¼šå˜å¾—ç³Ÿç³•ã€‚ æ·±å…¥ç ”ç©¶å®˜æ–¹æ–‡æ¡£ï¼Œå°±ä¼šå‘ç°ï¼ŒwebView åœ¨åŠ è½½è¿‡ç¨‹ä¸­ï¼Œä¼šæ‰§è¡Œè¿™ä¹ˆä¸€ä¸ªæ–¹æ³•ï¼Œä»–çš„ä½œç”¨æ˜¯ 123_:didCreateJavaScriptContext:for:Notifies the delegate that a new JavaScript context has been created created. å…·ä½“å‚è§å®˜æ–¹æ–‡æ¡£è¯´æ˜ didCreateJavaScriptContext çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±èƒ½åœ¨æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯çš„æ—¶å€™ï¼Œæ‹¿åˆ°JSContextï¼Œç„¶åæ³¨å…¥æˆ‘ä»¬çš„Modelã€‚ é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ªNSObject çš„Catagoryï¼Œåœ¨è¿™ä¸ªä»£ç†æ–¹æ³•ä¸­å‘é€ä¸€ä¸ªé€šçŸ¥ 1234567@implementation NSObject (JSTest)- (void)webView:(id)unuse didCreateJavaScriptContext:(JSContext *)ctx forFrame:(id)frame &#123; [[NSNotificationCenter defaultCenter] postNotificationName:@&quot;DidCreateContextNotification&quot; object:ctx];&#125;@end ç„¶åï¼Œåœ¨webView çš„æ§åˆ¶å™¨ä¸­ç›‘å¬è¿™ä¸ªæ¶ˆæ¯ 12345- (void)viewDidLoad &#123; [super viewDidLoad]; // ç›‘å¬å¯ä»¥æ³¨å…¥js æ–¹æ³•çš„é€šçŸ¥ [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(didCreateJSContext:) name:@&quot;DidCreateContextNotification&quot; object:nil];&#125; å®ç°@selector æ–¹æ³• 1234567891011121314151617181920212223#pragma mark - å¯ä»¥æ³¨å…¥js çš„ç›‘å¬- (void)didCreateJSContext:(NSNotification *)notification &#123; NSString *indentifier = [NSString stringWithFormat:@&quot;indentifier%lud&quot;, (unsigned long)self.webView.hash]; NSString *indentifierJS = [NSString stringWithFormat:@&quot;var %@ = &apos;%@&apos;&quot;, indentifier, indentifier]; [self.webView stringByEvaluatingJavaScriptFromString:indentifierJS]; JSContext *context = notification.object; if (![context[indentifier].toString isEqualToString:indentifier]) return; self.jsContext = context; // é€šè¿‡æ¨¡å‹è°ƒç”¨æ–¹æ³•ï¼Œè¿™ç§æ–¹å¼æ›´å¥½äº›ã€‚ QWSJsObjCModel *model = [[QWSJsObjCModel alloc] init]; self.jsContext[@&quot;nativeObj&quot;] = model; model.jsContext = self.jsContext; model.webView = self.webView; model.webVc = self; self.jsContext.exceptionHandler = ^(JSContext *context, JSValue *exceptionValue) &#123; context.exception = exceptionValue; DLog(@&quot;å¼‚å¸¸ä¿¡æ¯ï¼š%@&quot;, exceptionValue); &#125;;&#125; å¦‚æ­¤ï¼Œåº”è¯¥æ˜¯ä¸€æ¬¡æ¯”è¾ƒå®Œç¾çš„æ³¨å…¥äº†~","categories":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/categories/iOS/"}],"tags":[{"name":"tips","slug":"tips","permalink":"https://blog.yuhanle.com/tags/tips/"}]},{"title":"æ— è¨€é€æ°´ å›å¿†æ— å£°","slug":"passing-silent-silent-memories","date":"2016-08-21T05:23:00.000Z","updated":"2021-10-21T08:18:48.338Z","comments":true,"path":"2016/08/21/passing-silent-silent-memories/","link":"","permalink":"https://blog.yuhanle.com/2016/08/21/passing-silent-silent-memories/","excerpt":"æ°´çš„å­˜åœ¨ï¼Œå»¶ç»­äº†äººçš„ç”Ÿå‘½ï¼Œå´éš¾ä»¥æ´—æ¶¤äººçš„å›å¿†ã€‚ åœ¨æˆ‘ä»¬å±±é‡Œï¼Œæ¯ä¸€ä¸ªå°çš„æ‘è½ï¼ŒæŸæ£µæ ‘è«ä¸‹ï¼Œå°±ä¼šæœ‰ä¸€å£äº•ï¼Œé‚£æ˜¯å±±æ³‰ã€‚æ‘è¥¿å¤´çš„å±±è„šä¸‹ï¼Œé‚£é‡Œåœ°åŠ¿ç¨é«˜ï¼Œæœ‰ä¸€æ¡ç”°é—´å°è·¯ï¼Œæ¥æ¥å¾€å¾€çš„äººä»¬æŒ‘ç€æœ¨æ¡¶ï¼Œè·¯ä¸Šæ¹¿æ¼‰æ¼‰çš„ï¼Œä»¿ä½›åˆšä¸‹è¿‡é›¨ï¼Œè®°å¿†å…¨éƒ½å°å¿ƒç¿¼ç¿¼çš„åœ¨è¿™æ¡è·¯ä¸Šç©¿æ¢­ï¼Œç”Ÿæ€•ç¢°åˆ°è·¯äººã€‚","text":"æ°´çš„å­˜åœ¨ï¼Œå»¶ç»­äº†äººçš„ç”Ÿå‘½ï¼Œå´éš¾ä»¥æ´—æ¶¤äººçš„å›å¿†ã€‚ åœ¨æˆ‘ä»¬å±±é‡Œï¼Œæ¯ä¸€ä¸ªå°çš„æ‘è½ï¼ŒæŸæ£µæ ‘è«ä¸‹ï¼Œå°±ä¼šæœ‰ä¸€å£äº•ï¼Œé‚£æ˜¯å±±æ³‰ã€‚æ‘è¥¿å¤´çš„å±±è„šä¸‹ï¼Œé‚£é‡Œåœ°åŠ¿ç¨é«˜ï¼Œæœ‰ä¸€æ¡ç”°é—´å°è·¯ï¼Œæ¥æ¥å¾€å¾€çš„äººä»¬æŒ‘ç€æœ¨æ¡¶ï¼Œè·¯ä¸Šæ¹¿æ¼‰æ¼‰çš„ï¼Œä»¿ä½›åˆšä¸‹è¿‡é›¨ï¼Œè®°å¿†å…¨éƒ½å°å¿ƒç¿¼ç¿¼çš„åœ¨è¿™æ¡è·¯ä¸Šç©¿æ¢­ï¼Œç”Ÿæ€•ç¢°åˆ°è·¯äººã€‚ å“‘å·´ä»Šå¤©å·²ç»æ˜¯ç¬¬ä¸‰è¶Ÿäº†ï¼Œè¿™æ‹…æ°´æŒ‘å®Œï¼Œä»–å°±èƒ½å¸¦å°ä¼™ä¼´å„¿ä»¬å»å±±ä¸Šæ‘˜èŒ¶æœï¼Œæ¯å¹´æ¸…æ˜å‰åï¼Œå±±é‡Œçš„åƒè´§å¾ˆå¤šï¼Œä½†ç”±äºæ‘é‡Œçš„è€äººæ¸æ¸ç¦»å»ï¼Œå¹´è½»äººéƒ½å¾ˆå°‘å»æ‰“æŸ´ï¼Œä¸Šå±±çš„è·¯ä¹Ÿæ²¡äº†è¸ªè¿¹ï¼Œæ®è¯´å±±ä¸Šæœ‰é‡å…½ï¼Œæ‰€æœ‰å®¶é‡Œäººéƒ½ä¸å…è®¸æˆ‘ä»¬ä¸Šå±±ç©ã€‚ å“‘å·´æ˜¯æˆ‘ä»¬å¯¹ä»–çš„ç§°å‘¼ï¼Œè™½ç„¶å¤§æˆ‘ä»¬äºŒåå¤šå²ï¼Œä½†æ˜¯å®¶é‡Œäººä»æ¥æ²¡æœ‰æ•™è¿‡æˆ‘å¦‚ä½•ç§°å‘¼ä»–ï¼Œä»–å¤©ç”Ÿä¸ä¼šè®²è¯ï¼Œèº«ä½“ç‰¹åˆ«ç˜¦å°ï¼Œä¹Ÿè®¸æ­£å› å¦‚æ­¤ï¼Œäººä»¬æ‰ä¸æ„¿æ„å»è®°ä½è¿™ä¸ªäººå§ï¼ ä»æˆ‘è®°äº‹å„¿å¼€å§‹ï¼Œæ¯å¤©æ—©ä¸Šå…­ç‚¹å¤šé’Ÿï¼Œä»–éƒ½è¦ä»æˆ‘å®¶é—¨å‰è·¯è¿‡ï¼ŒæŒ‘ç€ä¸¤ä¸ªæœ¨æ¡¶ï¼Œè™½ç„¶ä¸ä¼šè¯´è¯ï¼Œä½†æ˜¯å˜´é‡Œè¿˜å“¼å”§å“¼å”§ç€ï¼Œæ™ƒæ™ƒæ‚ æ‚ çš„è¸ä¸Šé‚£æ¡å»å¾€æ°´äº•çš„å°è·¯ï¼Œä¸ä¸€ä¼šå„¿å°±å¸¦ç€æ»¡æ»¡ä¸¤æ¡¶æ°´å›æ¥äº†ï¼Œæ¯äº²æœ‰æ—¶å€™æ­£åœ¨åšæ—©é¥­ï¼Œçœ‹è§å“‘å·´è·¯è¿‡ï¼Œå°±æ‹¿ç€æ°´ç“¢å»äº†ã€‚å“‘å·´ä¼šç”Ÿæ°”ï¼Œå› ä¸ºè¿™ç§æƒ…å†µå·²ç»ä¸æ˜¯ç¬¬ä¸€æ¬¡äº†ï¼Œæ‘é‡Œäººéƒ½å–œæ¬¢è¿™æ ·æ¬ºè´Ÿä»–ï¼Œä¹Ÿè®¸ä»–è¿™æ ·ç”Ÿæ°”ï¼Œè¢«æ‘é‡Œäººè§‰å¾—ä¸æ»¡ï¼Œå‘Šè¯‰äº†ä»–çš„æ¯äº²ã€‚ å°è±¡æœ€æ·±çš„ä¸€æ¬¡ï¼Œæˆ‘è¢«ä»–æ‰“äº†ä¸€é¡¿ã€‚ æˆ‘å’Œä»–çš„å°ä¾„å„¿ä¸€å—ç©ï¼Œå°å­©å­é—´ç–¯ç–¯é—¹é—¹çš„ï¼Œä¸å°å¿ƒæŠŠä»–ä¾„å„¿æ¨åˆ°äº†ï¼Œåˆšå¥½è¢«å“‘å·´çœ‹è§äº†ï¼Œä¸Šæ¥ä¸€å·´æŒå°±æŠŠæˆ‘æ‰‡åˆ°åœ°ä¸Šï¼Œä»æ¥æ²¡æœ‰è¿™æ ·å®³æ€•è¿‡ï¼Œè¿™è¿˜æ˜¯æˆ‘è®¤è¯†çš„å“‘å·´å—ï¼Ÿä»–è™½ç„¶å¾ˆç˜¦ï¼Œä½†åŠ›æ°”å¾ˆå¤§ï¼Œæ‘é‡Œä¸å°‘å¹´è½»äººéƒ½å’Œä»–æ‰“è¿‡ï¼Œå½“ç„¶å¤§å¤šæ•°æ˜¯å’‹æ¬ºè´Ÿä»–ï¼Œè¿™æ¬¡æˆ‘è¢«æ‰“äº†ï¼Œå®¶é‡Œäººè‚¯å®šä¸æ„¿æ„ï¼Œè¿˜å¥½æ²¡ä»€ä¹ˆæƒ…å†µï¼Œåˆæ˜¯ä¹¡é‡Œä¹¡äº²çš„ï¼Œå°±æ²¡æœ‰ä¸‹æ–‡äº†ã€‚ ä»é‚£ä»¥åï¼Œæˆ‘æ¯æ¬¡è§ä»–éƒ½è¦ç»•é“èµ°ï¼Œå› ä¸ºå®³æ€•ï¼Œæˆ‘ä¸çŸ¥é“è¿™æ ·è‡ªé—­çš„çˆ†å‘èµ·æ¥ä¼šæ˜¯ä»€ä¹ˆæ ·çš„ç»“æœï¼Œæ‘é‡Œçš„å°å­©å„¿ï¼Œé™¤äº†é‚£ç‰¹åˆ«çˆ±æŠ¤çš„é‚£ä¸ªå°ä¾„å„¿ï¼Œéƒ½ä¸å†è·Ÿç€å“‘å·´ç©ã€‚ è¿‡äº†å‡ å¹´ï¼Œæ‘é‡Œäººå¼€å§‹åŒå€¦æŒ‘æ°´åƒï¼Œå°±å¼€å§‹æŒ¨å®¶æŒ¨æˆ·å‡‘ç‚¹å„¿é’±ï¼Œä¹°äº†äº›æ°´ç®¡ï¼Œä¸€å¤´æ’è¿›äº•é‡Œï¼Œè´¯ç©¿æ‘é‡Œåå‡ æˆ·äººå®¶ï¼Œè¿™æ ·å¤§å®¶å°±éƒ½èƒ½å–åˆ°è‡ªæ¥æ°´äº†ã€‚å½“æ°´ç»è¿‡åœ°ä¸‹ï¼Œä»é¾™å¤´é‡Œå‡ºæ¥çš„æ—¶å€™ï¼Œå¾ˆæ¸…å¾ˆç”œï¼Œè€äººä»¬éƒ½åœ¨æ„Ÿå¹ï¼Œå‡ åå¹´æŒ‘æ°´åƒçš„æ—¥å­ç»ˆäºç†¬åˆ°å¤´ï¼ŒåŒæ—¶é‚£äº›æ—§çš„åœºæ™¯ï¼Œéƒ½ä¸ä¼šå†å‡ºç°ã€‚ å“‘å·´çš„æ—¥å­è½»æ¾äº†ï¼Œä¸ç”¨å†é‚£ä¹ˆæ—©èµ·æŒ‘æ°´æ¥å…»ä¸€å®¶äººï¼Œä½†æ˜¯ä»–è¿˜æ˜¯å¾ˆæ—©å°±èµ·æ¥äº†ï¼Œæ‘ä¸œå¤´å„¿åˆ°æ‘è¥¿å¤´å„¿çš„çæ™ƒæ‚ ï¼Œå˜´é‡Œå“¼ç€æˆ‘ä»¬å¬ä¸æ‡‚çš„è°ƒè°ƒï¼Œå¶å°”åœç•™åœ¨æˆ‘å®¶é—¨å‰çš„çŸ³æ¿ä¸Šï¼Œä¹Ÿå¾ˆä¹æ„è·Ÿæ‘é‡Œæ—©èµ·çš„è€äººèŠèŠå¤©ï¼Œå½“ç„¶ä»–ä¸ä¼šè¯´è¯ï¼Œå°±æ˜¯å˜´é‡Œå“¼å“¼å”§å”§ï¼Œæ‰‹ä¸åœçš„åœ¨æ‰“æ‰‹åŠ¿ï¼Œå¥‡æ€ªçš„æ˜¯å¤§å®¶è¿˜èƒ½çœ‹æ‡‚å¤§éƒ¨åˆ†ï¼Œä¸å¾—ä¸è¯´å“‘å·´å¾ˆèªæ˜ï¼Œåœ¨ä¸äººäº¤æµä¸Šã€‚ ä»–å–œæ¬¢æŠ½çƒŸï¼Œä¹Ÿå–œæ¬¢å–é…’ï¼Œå½“ç„¶è¿™äº›éƒ½æ˜¯åœ¨å¸®åˆ«äººå®¶å¹²æ´»äººå®¶ä»˜ç»™ä»–çš„â€œå·¥é’±â€ï¼Œä¸è¿‡å¹²æ´»çš„æ—¶å€™ï¼Œå¤§å®¶å¯ä¸æ•¢è®©ä»–å–é…’ï¼Œå› ä¸ºä»–ä¸€å–å°±åœä¸ä¸‹æ¥ï¼Œå–å¤šäº†å°±ä¸€ç›´ç¬‘ï¼Œçœ¼é‡Œè¿˜æµç€å¾ˆå¤šæ°´ï¼Œæ—¶ä¸æ—¶çš„è¿˜å“¼äº›è°ƒè°ƒï¼Œç„¶åæ´»è‚¯å®šæ˜¯å¹²ä¸äº†äº†ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯åœ¨å¹²å®Œæ´»ï¼Œæ‰æŠŠè¿‡èŠ‚å‰©ä¸‹çš„ç“¶åº•å„¿ç»™ä»–å–ï¼Œä»–ä¸å«Œå¼ƒï¼Œè€Œä¸”è¿˜å¾ˆé«˜å…´ï¼Œå¾ˆæ„Ÿæ¿€ï¼ŒçƒŸç»™å¤šäº†ä»–ä¹Ÿä¸è¦ï¼Œä¸€èˆ¬å°äº‹æƒ…çš„è¯ä»–åªä¼šæ¥ä¸€æ ¹çƒŸï¼Œå¿™äº†ä¸€å¤©æ‰ä¼šæ‹¿ä¸€ç›’ä¸¤å—é’±çš„æ•£èŠ±ã€‚ æ­£å› å¦‚æ­¤ï¼Œå¤§å®¶å®¶é‡Œæœ‰ä»€ä¹ˆæ´»éƒ½å–œæ¬¢æ‰¾ä»–åšï¼Œä½†æ˜¯å¾ˆå¤šäººéƒ½æ˜¯å·å·çš„æŠŠä»–å«è¿‡æ¥å¹²æ´»å„¿ï¼Œä¸ç»™å·¥é’±ï¼Œä»…ä»…æ˜¯ä¸€äº›çƒŸå’Œé…’ï¼Œæœ‰æ—¶å€™ä»–çš„æ¯äº²åœ¨æ‘é‡Œæ‰¾ä»–éƒ½æ‰¾ä¸è§ï¼Œå› ä¸ºæ˜¯è¢«éš”å£åº„ä¸Šçš„äººå«å»å’Œæ°´æ³¥äº†ï¼ŒæŒ‰ç…§ä¸€èˆ¬äººçš„å·¥é’±ä¸€å¤©è‡³å°‘ä¹Ÿå¾—æœ‰60å—é’±ï¼Œä½†æ˜¯å¯¹äºä»–ï¼Œå¦‚æœé›‡ä¸»æ²¡æœ‰å‘ŠçŸ¥ä»–çš„æ¯äº²çš„è¯ï¼Œä»–è‡ªå·±éƒ½ä¸æ¸…æ¥šæ˜¯åœ¨ç»™è°å¹²ï¼Œä¹Ÿä¸è¦é’±ï¼Œå°±ç®—å‘Šè¯‰äº†ä»–çš„æ¯äº²ï¼Œä¸€å¤©é¡¶å¤šæ‰æœ‰20å‡ å—é’±çš„æ”¶å…¥ï¼Œå½“ç„¶å¯¹äºä»–è‡ªå·±æ¥è¯´ï¼Œè¿™äº›é’±è¶³å¤Ÿä»–ç”Ÿæ´»äº†ï¼Œä½†æ˜¯ä»–è¿˜æ˜¯ä¸ªå­é¡ºçš„å­©å­ï¼Œé’±éƒ½æ˜¯çˆ¶æ¯æ”¶ç€ï¼Œè‡ªå·±çš„è¡£æœå¤§å¤šéƒ½æ˜¯æ—§çš„ï¼Œåƒä½éƒ½åœ¨å®¶é‡Œã€‚åœ¨è€å®¶ï¼Œé™¤äº†ä¼šæœ‰äººæ¬ºè´Ÿä»–ï¼Œçœ‹èµ·æ¥ä»–è¿˜æ˜¯å¾ˆæ»¡è¶³çš„ï¼Œå¯èƒ½ä»–è§‰å¾—è¿™æ˜¯ä¸€ç§ä¸äººæ²Ÿé€šçš„æ–¹å¼å§ï¼Œå°±æ˜¯ä¸€ç›´è¿™ä¹ˆåƒäºï¼Œæ‰ä¼šæœ‰äººæ‰¾ä½ åšæ´»å„¿ã€‚ å¾€åå¥½äº›å¹´ï¼Œæˆ‘ä¸€ç›´åœ¨å¤–ä¸Šå­¦ï¼Œå°±å¾ˆå°‘è§åˆ°è¿™ä½æ— è¨€è€…äº†ã€‚ç›´åˆ°æœ‰ä¸€å¤©ï¼Œå®¶é‡Œæ‰“ç”µè¯ï¼Œè®©æˆ‘åœ¨å¤–é¢æ³¨æ„å®‰å…¨ï¼Œåˆ«è¢«éª—äº†ï¼Œæˆ‘å½“æ—¶å¬äº†è¿˜å¾ˆçº³é—·ï¼Œä½œä¸ºä¸€ä¸ªåœ¨å¤–ç”Ÿæ´»å¤šå¹´çš„äººè€Œè¨€ï¼Œæˆ‘è¿˜æ˜¯è§è¿‡äº›ä¸–é¢çš„ï¼Œå¯¹äºè¯ˆéª—ï¼Œä¸ç®¡ä¸é—®ä¸ç†ä¼šï¼Œå°±ä¸ä¼šæœ‰å±é™©ã€‚æˆ‘ç»§ç»­è¿½é—®æ‰çŸ¥é“ï¼ŒåŸæ¥æ˜¯æœ‰ä½è€ä¹¡ï¼Œè¯´æ˜¯è¦ç»™è¿™ä½æ— è¨€è€…è®¨ä¸ªè€å©†ï¼Œæ­¤æ—¶ä»–å·²ç»å››åå¤šå²äº†ï¼Œè¿™ä¹ˆå¤šå¹´ä»–çˆ¶æ¯ä¹Ÿå¸®ä»–æ”’äº†ä¸€ä¸¤ä¸‡å—é’±ï¼Œçˆ¶æ¯å¬è¯´æ˜¯æœ‰äººå¸®å„¿å­è®¨è€å©†å¾ˆé«˜å…´ï¼Œåˆæ˜¯ç†Ÿäººå½“ä¸­é—´äººä»‹ç»ï¼Œæ‰€ä»¥å°±æ¯«æ— é˜²å¤‡çš„è¢«äººéª—äº†ï¼Œä»è¿™ä»¥åï¼Œå›å®¶çœ‹åˆ°ä»–æ„Ÿè§‰è€äº†å¾ˆå¤šï¼Œæ²¡å†è§ä»–ç¬‘è¿‡ï¼Œä»¿ä½›å¯¹å¤–ç•Œå……æ»¡äº†æ•Œæ„ã€‚ è¿™ä¹ˆå¤šå¹´æ¥ï¼Œæ‘å­é‡Œçš„äººæ…¢æ…¢éƒ½æ¬èµ°äº†ï¼Œæ‘é‡Œçš„åœ°ä¹Ÿå¼€å§‹è’åºŸäº†ï¼Œæœ‰é’±çš„åœ¨åŒ—äº¬ä¹°äº†æˆ¿ï¼Œå·®ä¸å¤šçš„éƒ½åœ¨å¸‚é‡Œå¿é‡Œä¹°çš„ï¼Œæœ€å·®çš„ä¹Ÿéƒ½æ¬åˆ°é•‡ä¸Šäº†ï¼Œå¤–é¢èŠ±èŠ±ä¸–ç•Œï¼Œäº¤é€šæ–¹ä¾¿ï¼Œæ”¶å…¥ä¹Ÿå¤šäº†ï¼Œæ€»ä¹‹éƒ½ç®—è¿‡ä¸Šäº†å°åº·ç”Ÿæ´»ã€‚ è¿™ä½æ— è¨€è€…è‡³ä»Šè¿˜æ‘é‡Œï¼Œå¬è¯´è¿‘å‡ å¹´æœ‰äººç»™ä»–ä»‹ç»äº†ä¸€ä¸ªæ–°çš„å·¥ä½œï¼Œå¸®åˆ«äººå–‚å…»æ‰å˜´ï¼ˆå­¦åé¸­å­ï¼‰ï¼ŒåŒ…åƒåŒ…ä½ï¼Œæ¯å¹´è¿˜æœ‰6000å—é’±çš„æ”¶å…¥ï¼Œå¹´åº•ç»“ç®—ï¼Œæ—¥å­ä¹Ÿç®—ä¸é”™ï¼ è‡³ä»Šæˆ‘ä¹Ÿæœ‰ä¸‰å››å¹´æ²¡æœ‰è§åˆ°ä»–äº†ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæ€»è§‰å¾—å¯¹äºä»–æœ‰ä¸€äº›äºæ¬ ã€‚æˆ‘çš„ç«¥å¹´æ˜¯è·Ÿç€ä»–é•¿å¤§çš„ï¼Œä»–å¸¦ç€æˆ‘ä»¬æé¸Ÿè›‹ï¼Œæ‘˜èŒ¶æœï¼Œæ˜¥èŒ¶å­£èŠ‚è¿˜èƒ½å¸¦ç€æˆ‘ä»¬å»é‡‡èŒ¶å–é’±ï¼Œç„¶åä¹°ä¸€æ¯›é’±ä¸€æ ¹çš„æ£’å†°ï¼Œå¤å­£å¤ªçƒ­ï¼Œè¿˜ä¼šå¸¦ç€æˆ‘ä»¬å»æ²³é‡Œç½‘é±¼ï¼Œæ‰è™¾ï¼Œæ”¾ç‰›çš„æ—¶å€™è¿˜ä¼šæŠŠæˆ‘ä»¬æŠ±åˆ°ç‰›èƒŒä¸Šï¼Œå¹ç€æ ‘ç¬›ï¼ˆä¹¡ä¸‹çš„ç©æ„å„¿ï¼šå°±æ˜¯æŸ³æ ‘æå„¿ï¼Œåœ°ä¸Šæ“ä¸€æ“ï¼ŒæŠŠçš®å’Œå¹²åˆ†ç¦»å¼€ï¼‰ï¼Œåœ¨å’Œå…¶ä»–åº„ä¸Šçš„å­©å­å†²çªçš„æ—¶å€™ï¼Œè¿˜èƒ½æŒºèº«è€Œå‡ºä¸ºæˆ‘ä»¬å¼ºå‡ºå¤´ã€‚ è¿™äº›ç»†èŠ‚ï¼Œéƒ½å¾ˆæ„Ÿæ¿€ã€‚ å†è¯´è¯´å¦‚ä»Šï¼Œä¸€çº¿åŸå¸‚ï¼Œå·¥ä½œè¿‘ä¸‰å¹´ï¼Œæ¯å¹´å›ä¸¤æ¬¡å®¶ï¼Œè¿˜éƒ½ç‰¹åˆ«åŒ†å¿™ï¼Œæœ‹å‹éƒ½æ²¡æ•¢è§ï¼Œæœä¹ˆéƒ½æ¥ä¸åŠé“åˆ«ï¼Œå°±éº»æºœå„¿çš„æ»šå›æ¥ä¸Šç­äº†ï¼Œè¯´èµ·å·¥ä½œï¼Œå¯¹äºä¸€ä¸ªæ²¡æœ‰ä¼Ÿå¤§å¿—å‘çš„äººæ¥è¯´ï¼Œè¿˜ç®—ç¨³å®šï¼Œæ”¶å…¥ä¹Ÿèƒ½å…»æ´»è‡ªå·±ï¼Œä½†æˆ‘ä»¬ä¿©äººæ¯å¤©å‘æ„çš„éƒ½è¿˜æ˜¯é’±ï¼Œä»€ä¹ˆæ—¶å€™ä¹°æˆ¿ï¼Œä»€ä¹ˆæ—¶å€™ç»“å©šï¼Œä»€ä¹ˆæ—¶å€™è¦å­©å­ï¼Œæ¯æ¯èŠåˆ°è¿™å„¿ï¼Œéƒ½æ˜¯ä¸€å£°å“€å¹ï¼Œç„¶åå°±å¼€å§‹å¤±çœ ï¼Œæ¯é€¢å‘¨æœ«å¦‚æ­¤ã€‚ æ— è¨€é€æ°´ï¼Œæœ‹å‹é—´çš„å…³æ€€ï¼Œä¸€å®šè¦çæƒœï¼Œå¦‚ä»Šçš„æœ‹å‹åœˆï¼Œçœ‹èµ·æ¥å¾ˆé«˜å¤§ä¸Šï¼Œä¸æ˜¯åœ¨ç‚«è€€å°±æ˜¯å‘ä¸€äº›é¸¡æ±¤ï¼Œçœ‹å¤šäº†äººçš„æ™ºå•†ä¼šä¸‹é™ï¼Œèº«è¾¹å¤„å¤„éƒ½æ˜¯ä½å¤´æ—ï¼Œæ–¹å¯¸ä¹‹é—´ï¼Œä¸–é—´ä¸‡ç‰©ï¼Œé€å»çš„å…¶å®ä¸æ˜¯æ°´ï¼Œæ˜¯å…‰é˜´ã€‚ å¤šå¹´ä»¥åï¼Œä½ æ‰€èƒ½æƒ³èµ·çš„ä¼šæ˜¯æŸä¸ªå¥½æœ‹å‹æ›¾ç»å‘è¿‡çš„ä¸€ä¸ªçŠ¶æ€ï¼Ÿè¿˜æ˜¯ä»–æ›¾ç»å¯¹ä½ çš„å¸®åŠ©ï¼Œå¯¹ä½ çš„é¼“åŠ±å’Œå…³æ€€ã€‚è€Œä½ å‘¢ï¼Ÿä½ ç»™æœ‹å‹ç•™ä¸‹çš„åˆæ˜¯ä»€ä¹ˆï¼Œæ˜¯ä»¤ä½ å‘æ„¤å›¾å¼ºçš„é¸¡æ±¤ï¼Ÿä¹Ÿè®¸åˆ«äººçœ‹ç€å¹¶æ²¡æœ‰ä»»ä½•æ„Ÿè§‰ï¼Œå´åˆä¸å¾—ä¸å¸®ä½ ç‚¹ä¸ªèµï¼Œä¸ç‚¹èµä¸æ˜¯æœ‹å‹ç­‰ç­‰ï¼Œè¿˜æ˜¯ä½ åˆšä¹°çš„è‚¾6è‚¾7å‘¢ï¼Ÿç‚¹èµçš„ä¸æ˜¯æœ‹å‹ï¼Œéª‚ä½ å‚»Xçš„æ‰æ˜¯çœŸå¿ƒçš„ã€‚ æˆ‘ä¹Ÿæ›¾å…³é—­è¿‡æœ‹å‹åœˆï¼Œå¦‚ä»Šåˆæ‰“å¼€äº†ï¼Œå› ä¸ºæˆ‘çš„æ™ºå•†è´Ÿæ•°ï¼Œæˆ‘åªæƒ³è®©æœ‹å‹çŸ¥é“æˆ‘è¿˜æ´»ç€ã€‚ æ„¿ä¸–é—´å¤šä¸€äº›çœŸè¯šï¼Œå°‘ä¸€äº›å¥—è·¯ï¼Œè«åœ¨æµªè´¹å…‰é˜´ï¼Œä»¥è‡´å›å¿†æ— å£°ã€‚","categories":[{"name":"prose","slug":"prose","permalink":"https://blog.yuhanle.com/categories/prose/"}],"tags":[{"name":"prose","slug":"prose","permalink":"https://blog.yuhanle.com/tags/prose/"}]},{"title":"æˆ‘çŸ¥é“çš„å¤ªå¤š","slug":"i-know-more-more","date":"2016-05-20T01:00:00.000Z","updated":"2021-10-21T08:18:48.337Z","comments":true,"path":"2016/05/20/i-know-more-more/","link":"","permalink":"https://blog.yuhanle.com/2016/05/20/i-know-more-more/","excerpt":"æ­£å› ä¸ºæˆ‘ä»¬çŸ¥é“çš„å¤ªå¤šï¼Œæ‰€ä»¥æ‰ä¼šè§‰å¾—å‹æŠ‘ è®¸ä¹…æ²¡æœ‰å†™ä¸œè¥¿ï¼Œæœ‰æ—¶å€™åœ¨æƒ³ï¼Œæ€ç»´ä¼šä¸ä¼šå·²ç»æ¯ç«­ï¼Œé™¤äº†ç®€å•çš„å› ä¸ºæ‰€ä»¥ï¼Œå®Œå…¨å¿˜äº†æŠ¼éŸµã€‚","text":"æ­£å› ä¸ºæˆ‘ä»¬çŸ¥é“çš„å¤ªå¤šï¼Œæ‰€ä»¥æ‰ä¼šè§‰å¾—å‹æŠ‘ è®¸ä¹…æ²¡æœ‰å†™ä¸œè¥¿ï¼Œæœ‰æ—¶å€™åœ¨æƒ³ï¼Œæ€ç»´ä¼šä¸ä¼šå·²ç»æ¯ç«­ï¼Œé™¤äº†ç®€å•çš„å› ä¸ºæ‰€ä»¥ï¼Œå®Œå…¨å¿˜äº†æŠ¼éŸµã€‚ è®°å¾—å¼€å§‹æƒ³ç€å†™è¿™ç¯‡æ˜¯åœ¨å»å¹´äº†ï¼ŒåŸæœ¬æ‰“ç®—å†™æˆå¹´ç»ˆæ€»ç»“ï¼Œåæ¥å‘ç°è¿™ä¸€å¹´è¿‡å»äº†ï¼Œé™¤äº†èƒ¡é¡»åœ¨é•¿ï¼Œä½“é‡åœ¨å¢åŠ ï¼Œåˆ«çš„æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ã€‚ æœ‰æ—¶å€™èµ°åœ¨è·¯ä¸Šï¼Œæƒ³èµ·ä»¥å‰ç»å¸¸èƒŒçš„é‚£äº›å®‹è¯æ¥ï¼Œå…¨éƒ½æˆäº†é›¶æ˜Ÿçš„å¥å­ï¼Œä¸Šä¸‹é˜™æ··åœ¨ä¸€èµ·ï¼Œç”šè‡³æ··åˆäº†ä¸åŒçš„è¯ç‰Œï¼Œä¸åŒçš„ä½œè€…ï¼Œç»“æœå´å‡ºä¹æ„æ–™çš„æŠ¼éŸµã€‚ æˆ‘çŸ¥é“ï¼Œæ˜¯å·¥ä½œå’Œç”Ÿæ´»æ‰°ä¹±äº†æˆ‘ã€‚ æˆ‘å¾ˆå®³æ€•èº«è¾¹çš„äº‹æƒ…å¤ªå¤šï¼Œå› ä¸ºæˆ‘æ˜¯ä¸€ä¸ªå¾ˆå°å¿ƒçš„äººï¼Œè€Œä¸”å¾ˆä¸ä¼šåŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œä¼šä¸çŸ¥æ‰€æªï¼Œå½“ç„¶å¤„ç†çš„ç»“æœä¹Ÿæ˜¯ä¸€å›¢ç³Ÿã€‚ å¾ˆå¤šæ—¶å€™ï¼Œæ€»æ˜¯ä¼šåœ¨ç”¨åˆ°æŸäº›çš„æ—¶å€™æ‹¼å‘½å»æŸ¥æ‰¾ï¼Œæ‰¾åˆ°äº†ä»…ä»…æ˜¯ç”¨äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰å½’ç±»ï¼Œå¦‚æ­¤å¾€å¤ï¼Œæ˜æ˜çŸ¥é“æ²¡æœ‰æ•ˆç‡ï¼Œå´ä¾ç„¶å·²ç»ä¹ æƒ¯äº†ã€‚ è¿™æ˜¯ä¸ªä¸å¥½çš„ä¹ æƒ¯ã€‚ç”šè‡³æˆ‘éƒ½å†³å®šè¿‡è¦å»æ”¹æ‰å®ƒï¼Œæˆ‘è¯•ç€å¼€å§‹åšç¬”è®°ï¼Œå¼€å§‹æ”¶è—ä¸€äº›æ¯”è¾ƒæ„Ÿå…´è¶£çš„ä¸œè¥¿ï¼Œåæ¥æ…¢æ…¢å‘ç°ï¼Œå¸å¼•æˆ‘çš„ä¸œè¥¿å¤ªå¤šå¤ªå¤šï¼Œæ•´ç†çš„ç¬”è®°å·²ç»ä¸çŸ¥é“è¯¥å±äºå“ªä¸€ç±»äº†ï¼Œåˆå‡ºç°äº†å¾ˆå¤šå¾ˆå¤šæ¨¡æ£±ä¸¤å¯çš„ä¸œè¥¿ï¼Œå½¼æ­¤åŒ…å«ï¼Œå®åœ¨æ˜¯å¾ˆéš¾æŠŠå®ƒåœ¨æˆ‘çš„è®°å¿†é‡Œåˆ†ç¦»å¼€æ¥ã€‚ æˆ‘ä¹Ÿè¯•ç€åœ¨å·¥ä½œå’Œç”Ÿæ´»ä¸­ï¼Œå°½é‡ç‹¬ç«‹å¼€æ¥ï¼Œä¸æŠŠå·¥ä½œå¸¦åˆ°ç”Ÿæ´»ä¸­ï¼Œä¸å¸¦å›å®¶ï¼Œäºæ˜¯å°±æœ‰äº†åŠ ç­ï¼Œä¸æƒ³å›å®¶ï¼Œç›´åˆ°æ„Ÿè§‰è§†åŠ›æ¬ ä½³ï¼ŒåŸæ¥ä¸çŸ¥ä¸è§‰ä¸­ï¼Œèº«è¾¹çš„ä¸€åˆ‡éƒ½åœ¨æ”¹å˜ï¼Œéƒ½åœ¨é™é™çš„å½±å“ç€ä½ çš„å¿ƒæƒ…ï¼Œä½ çš„èº«ä½“ï¼Œç”šè‡³ä½ ä»Šåçš„è·¯ã€‚ è¯´åˆ°ä»Šåçš„è·¯ï¼Œä¸€å®šä¼šè¶Šæ¥è¶Šè‰°éš¾ï¼Œä½†ç»“å±€æ€»ä¼šæ˜¯è¶Šæ¥è¶Šç¾å¥½ã€‚ è¿‡äº†æ—©å©šçš„å¹´é¾„å°±çœŸçš„åº”è¯¥å©šäº†ï¼Œå®¶åº­æ‰æ˜¯ç»å¤§éƒ¨åˆ†äººåŠªåŠ›çš„åŠ¨åŠ›ã€‚è¿™ä¸€åˆ»ï¼Œæœ‰æ„Ÿè§‰æ—¥å­å¥½é•¿ï¼Œæ—¥å¤ä¸€æ—¥ï¼Œä»€ä¹ˆæ—¶å€™å¯ä»¥è¿‡ä¸Šä¸€å®¶äººæƒ³è¿‡çš„ç”Ÿæ´»ã€‚ æˆ‘åˆ°åº•è¿˜æ˜¯æ²¡å­¦ä¼šå¦‚ä½•å…³å¿ƒåˆ«äººã€‚ æ‰€ä»¥ä¸æ‹’ç»è¿æ¥çš„äººï¼Œä¸æŒ½ç•™ç¦»å»çš„äººã€‚ çœ‹ä¼¼é¡ºå…¶è‡ªç„¶ï¼Œå®åˆ™æ‡¦å¼±é€ƒé¿ã€‚ å½“æ—¶è¢«è°è¯´ä¸çæƒœè‡ªå·±çš„æœ‹å‹æ—¶ï¼Œè¿˜å§”å±ˆçš„ä¸è¡Œã€‚ ç„¶è€Œä»»ä½•æœ‹å‹åˆ°æœ€åï¼Œéƒ½åªä¼šæ˜¯å¤±å»å’Œè¢«å¤±å»ã€‚","categories":[{"name":"suibi","slug":"suibi","permalink":"https://blog.yuhanle.com/categories/suibi/"}],"tags":[{"name":"outu","slug":"outu","permalink":"https://blog.yuhanle.com/tags/outu/"}]},{"title":"iOSå·¥ç¨‹ä¸­ç½‘ç»œè¯·æ±‚ç®¡ç†çš„æƒ³æ³•","slug":"about-ios-net-manager-idea","date":"2016-02-25T02:00:00.000Z","updated":"2021-10-21T08:18:48.333Z","comments":true,"path":"2016/02/25/about-ios-net-manager-idea/","link":"","permalink":"https://blog.yuhanle.com/2016/02/25/about-ios-net-manager-idea/","excerpt":"æœ€è¿‘ä¸€ç›´åœ¨æƒ³ä¸€äº›çƒ§è„‘çš„é€»è¾‘é—®é¢˜ã€‚ åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬æŠ›å‡ºäº†ä¸€ä¸ªç½‘ç»œè¯·æ±‚æ¡†æ¶ï¼Œåœ¨è¿™ä¸ªæ¡†æ¶ä¸­ï¼Œèƒ½å¤Ÿå¾ˆæ¸…æ™°çš„ç®¡ç†æ¯ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯ä¸€ä¸ªå›åº”ï¼Œä»¥åŠç»Ÿä¸€å¤„ç†ï¼Œç‰¹æ®Šå¤„ç†ç­‰ï¼Œä½†å¯¹äºå¼€å‘äººå‘˜æ¥è®²ï¼Œè¿™åªæ˜¯ä¸€ä¸ªeasyçš„æ–‡ä»¶ç›®å½•è€Œå·²ã€‚","text":"æœ€è¿‘ä¸€ç›´åœ¨æƒ³ä¸€äº›çƒ§è„‘çš„é€»è¾‘é—®é¢˜ã€‚ åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬æŠ›å‡ºäº†ä¸€ä¸ªç½‘ç»œè¯·æ±‚æ¡†æ¶ï¼Œåœ¨è¿™ä¸ªæ¡†æ¶ä¸­ï¼Œèƒ½å¤Ÿå¾ˆæ¸…æ™°çš„ç®¡ç†æ¯ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯ä¸€ä¸ªå›åº”ï¼Œä»¥åŠç»Ÿä¸€å¤„ç†ï¼Œç‰¹æ®Šå¤„ç†ç­‰ï¼Œä½†å¯¹äºå¼€å‘äººå‘˜æ¥è®²ï¼Œè¿™åªæ˜¯ä¸€ä¸ªeasyçš„æ–‡ä»¶ç›®å½•è€Œå·²ã€‚ ç›®å‰è¿™ä¸ªæ¡†æ¶ä»ç„¶å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼Œä¾‹å¦‚è¯·æ±‚é‡å‘æœºåˆ¶æœ‰å¾…ä¼˜åŒ–ï¼Œä¸æ”¯æŒå†»ç»“ç½‘ç»œè¯·æ±‚ï¼Œè¿˜æœ‰åœ¨é¡µé¢é”€æ¯æ—¶ï¼Œä¸æ”¯æŒå–æ¶ˆæœªå®Œæˆçš„è¯·æ±‚(ps:ä¸€æ¬¡æ€§å–æ¶ˆæ‰€æœ‰è¯·æ±‚ï¼Œä½†è¿™ä¸æ˜¯æˆ‘å¸Œæœ›çš„æ•ˆæœ) å…ˆè¯´è¯´ä»æ–°æ‰‹ä»¥æ¥å¯¹äºç½‘ç»œè¯·æ±‚ç®¡ç†è¿™å—çš„ç†è§£è¿‡ç¨‹ï¼šè¯´ä¸€ä¸‹ï¼Œæˆ‘ä»¬è®¨è®ºçš„å‰ææ˜¯ï¼Œå¸Œæœ›æ— å…³è¯·æ±‚éƒ½ä¼šæ­£å¸¸cancelã€‚ 1. ç»Ÿä¸€å•ä¾‹ç±»ï¼Œç®¡ç†æ‰€æœ‰è¯·æ±‚è¯¥æ–¹æ³•ï¼Œæä¾›ä¸€ä¸ªå•ä¾‹ç±»ï¼Œè¿˜æœ‰å‡ ä¸ªè¯·æ±‚APIæ¥å£ï¼Œç„¶ååœ¨å·¥ç¨‹ä¸­ä»»ä½•éœ€è¦ç½‘ç»œè¯·æ±‚çš„åœ°æ–¹ä½¿ç”¨ï¼ŒåŠ ä¸Šurlï¼Œç›¸å…³å‚æ•°ä»¥åŠcallbackï¼Œè€Œä¸”å†…éƒ¨çš„æ ¸å¿ƒä»£ç ä¹Ÿæ˜¯ç›´æ¥ä¸AFNetworkingå¤„ç†ï¼Œæ–¹ä¾¿å¿«é€Ÿï¼Œä½†æ˜¯å¯¹äºæˆç™¾ä¸Šåƒï¼ˆè¿™ä¸ªæ•°å­—å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤§ï¼‰çš„æœåŠ¡ç«¯æ¥å£æ¥è¯´ï¼Œä¸æ˜“ç®¡ç†ã€‚ è€Œä¸”åœ¨å–æ¶ˆå…¨éƒ¨è¯·æ±‚çš„æ—¶å€™ä¼šå‡ºç°ä¸€äº›æ„æƒ³ä¸åˆ°çš„é—®é¢˜ ä¸¾ä¸ªæ —å­ 123456Aé¡µé¢push Bé¡µé¢Bé¡µé¢å‘å‡ºäº†è¯·æ±‚1è¯·æ±‚1å®Œæˆä¹‹åéœ€è¦Aé¡µé¢å‘é€è¯·æ±‚2å‡è®¾è¿™ä¸ªæ—¶å€™ç½‘ç»œä¸ä½³è€ŒBåˆšå¥½é”€æ¯äº†è¿™æ ·Açš„è¯·æ±‚2è¿˜æ²¡å›æ¥å°±è¢«å–æ¶ˆæ‰€ä»¥Açš„æ•°æ®ä¸èƒ½åŠæ—¶æ›´æ–° request:ç›´æ¥è°ƒç”¨responseï¼šç»Ÿä¸€å¤„ç†cancel:å–æ¶ˆå…¨éƒ¨è¯·æ±‚ å¦‚ä¸‹å›¾ 2.ç»Ÿä¸€éå•ä¾‹ç±»ï¼Œåˆ†ç®¡è¯·æ±‚è¿™ç§æ–¹æ³•ï¼Œåˆ›å»ºä¸€ä¸ªç±»ï¼Œæ¯æ¬¡è°ƒç”¨è¯·æ±‚çš„æ—¶å€™éƒ½newä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œç„¶åç”±vcæŒæœ‰ï¼Œè¿™æ ·åšä¾¿äºåœ¨é¡µé¢deallocæ—¶ï¼Œç›´æ¥å–æ¶ˆå½“å‰é¡µé¢å‘å‡ºçš„æ‰€æœ‰è¯·æ±‚ã€‚è¯·æ±‚ç®¡ç†ç±»ä¼¼äºï¼Œè°è¯·æ±‚ï¼Œè°è´Ÿè´£cancelã€‚ å¾ˆæ˜æ˜¾ï¼Œè¿™ç§æ–¹æ³•å¤§å¤§å¢åŠ äº†ç³»ç»Ÿçš„å¼€é”€ï¼Œè€Œä¸”ä¸ç¬¦åˆè®¾è®¡æ€æƒ³ï¼Œè™½ç„¶å¯ä»¥æ–¹ä¾¿çš„å–æ¶ˆè‡ªå·±ç®¡ç†çš„è¯·æ±‚ï¼Œä½†æ˜¯ä¸æ”¯æŒå–æ¶ˆå…¨éƒ¨è¯·æ±‚ã€‚å¦‚æœè¦æ”¯æŒå–æ¶ˆå…¨éƒ¨è¯·æ±‚çš„è¯ï¼Œè¿˜éœ€è¦ä¸€ä¸ªç®¡ç†ç±»æ¥ç®¡ç†ç®¡ç†è¯·æ±‚çš„ç®¡ç†ç±»ï¼Œè¿™æ ·çš„è¯æ•´ä¸ªç›®å½•çœ‹èµ·æ¥æ¨ªä¸ƒç«–å…«ã€‚ ç”±äºå¯¹å›è°ƒçš„ç»Ÿä¸€å¤„ç†ä¹Ÿæ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥ä¹Ÿä¼šå­˜åœ¨éƒ¨åˆ†éœ€æ±‚ä¸æ»¡è¶³çš„é—®é¢˜ ä¸¾ä¸ªæ —å­ 123456éœ€æ±‚ä¸­å­˜åœ¨tokenè¿‡æœŸçš„é—®é¢˜æ­¤æ—¶é˜Ÿåˆ—ä¸­å­˜åœ¨å¾ˆå¤šè¯·æ±‚è¯·æ±‚1æ”¶åˆ°äº†tokenè¿‡æœŸçš„å›åº”ï¼ˆä¸€èˆ¬tokenè¿‡æœŸåªä¼šä¿ç•™ä¸€æ¬¡ï¼Œå› ä¸ºæ—§tokenæœåŠ¡å™¨ä¸ä¼šå¸®ä½ ä¿å­˜å¤ªå¤šï¼‰éœ€è¦ç«‹é©¬åšå‡ºå¤„ç†ï¼Œæ¯”å¦‚é‡æ–°ç™»å½•è€Œæ­¤æ—¶è¯·æ±‚2ã€è¯·æ±‚3å¯èƒ½éƒ½å·²å‘å‡ºï¼Œæˆ–è€…å·²ç»æ”¶åˆ°å›åº”ç”±äºè¿™é‡Œçš„å¤„ç†æ˜¯ç‹¬ç«‹çš„ï¼Œéš¾å…ä¼šäº§ç”Ÿå„ç§é—®é¢˜ request:åˆ›å»ºæ–°çš„å®ä¾‹ï¼Œç›´æ¥è°ƒç”¨responseï¼šå•ç‹¬ç»Ÿä¸€å¤„ç†cancel:æŒæœ‰è€…å–æ¶ˆç‹¬è‡ªç®¡ç†çš„å…¨éƒ¨è¯·æ±‚ 3.ç»Ÿä¸€å•ä¾‹ç±»ï¼Œåˆ†ç®¡è¯·æ±‚åˆ†ç®¡è¯·æ±‚æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚å¯ä»¥æ ¹æ®åŠŸèƒ½ã€æ¥å£ã€æˆ–è€…é¡µé¢å±æ€§æ¥ç‹¬è‡ªç®¡ç†æœ‰å…±åŒç‰¹ç‚¹çš„è¯·æ±‚ã€‚ è¿™é‡Œçš„ç‹¬è‡ªç®¡ç†ï¼Œå…¶å®æ— éå°±æ˜¯ç»™è¯·æ±‚åŠ äº†ä¸€ä¸ªæ ‡ç­¾ï¼Œä¾¿äºç®¡ç†è¯·æ±‚çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‰ç…§æŸä¸€å…±åŒç‰¹å¾æ¥ç®¡ç†ã€‚ç›¸æ¯”è¾ƒç¬¬ä¸€ç§å½¢å¼ï¼Œä»–çš„ä¼˜åŠ¿åœ¨äºå¯ä»¥æŒ‰éœ€æ±‚å–æ¶ˆéƒ¨åˆ†è¯·æ±‚ï¼Œæ¯”å¦‚åœ¨æŸä¸ªé¡µé¢deallocçš„æ—¶å€™ï¼ŒæŒ‰ç…§é¡µé¢åç§°ï¼Œå–æ¶ˆè¯·æ±‚é˜Ÿåˆ—ä¸­æœ‰å…³å½“å‰é¡µé¢æ‰€æœ‰æœªå®Œæˆçš„è¯·æ±‚ã€‚ ä¸¾ä¸ªæ —å­ 12é¦–å…ˆæ”¯æŒæŒ‰ç…§æ ‡ç­¾å–æ¶ˆè¯·æ±‚å…¶æ¬¡ç»Ÿä¸€å¤„ç†å¯ä»¥åœ¨é‡åˆ°çªå‘æƒ…å†µï¼ˆtokenè¿‡æœŸï¼‰çš„æ—¶å€™ï¼Œcancelæ‰€æœ‰è¯·æ±‚ request:ç›´æ¥è°ƒç”¨responseï¼šç»Ÿä¸€å¤„ç†cancel:å–æ¶ˆå…¨éƒ¨è¯·æ±‚åŒæ—¶æ”¯æŒæŒ‰ç…§tagå–æ¶ˆ å¼€æºæ¡†æ¶ç»“æ„ç®€æ1ã€YTKNetwork ä¸Šé¢çš„æˆªå›¾æ¥è‡ªYTKNetworkçš„è®¾è®¡æ¡†æ¶ï¼Œå°†æœåŠ¡ç«¯æ¯ä¸ªapiä¹Ÿåšç®€å•çš„å°è£…å¤„ç†ï¼ˆä¾‹å¦‚å›¾ä¸­çš„RegisterApiï¼‰ï¼Œä½¿ç”¨èµ·æ¥å¾ˆèˆ’æœï¼Œä½†æ˜¯è¿™æ ·å†™ä¸‹å»ï¼Œéœ€è¦äº›æˆç™¾ä¸Šåƒä¸ª.h.mï¼Œæƒ³æƒ³éƒ½è§‰å¾—ä¸å¯æ€è®®ï¼Œå½“ç„¶è¿™åªæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæ–¹ä¾¿å¼€æ‹“ä½¿ç”¨è€…æ›´å¹¿æ³›çš„æ€è·¯ã€‚ æˆ‘åœ¨å·¥ç¨‹ä¸­çš„åšæ³•éƒ½æ˜¯æ ¹æ®åŠŸèƒ½ï¼Œå°†æœåŠ¡ç«¯çš„apiåšäº†åˆ†ç±»ï¼Œæ¥å£ä¸­ä¿ç•™äº†æœåŠ¡ç«¯éœ€è¦çš„infoï¼Œç”±è°ƒç”¨è€…å¡«å……å³å¯ã€‚å¦‚ä¸‹å›¾ æœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥ä¸‹è½½æˆ‘çš„Demoæ‹ä¸€æ‹ã€‚ 2ã€MGJRequestManager è™½ç„¶è¿™ä¸ªæ¡†æ¶ä»…æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œè€Œä¸”æ”¯æŒç¼“å­˜ï¼Œç”¨èµ·æ¥å¦‚å›¾ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„æŠŠä»–å½“åšä¸€ä¸ªè¯·æ±‚ç±»æ¥ä½¿ç”¨ï¼Œæœ€å¥½è¿˜æ˜¯é…åˆYTKçš„æ¨¡å¼ï¼Œå°è£…å¥½è¯·æ±‚å’Œå›åº”ï¼Œæ¥å£ç»Ÿä¸€ç®¡ç†ï¼Œè¿™æ ·ç”¨èµ·æ¥æ‰ä¸å¤±æ•ˆç‡ã€‚ æˆªå›¾æ¥è‡ªï¼šJZNetworkSingletonå¼€æºæ¡†æ¶å‚è€ƒ:YTKNetworkMGJRequestManager çœ‹å®ŒYTKçš„æ¡†æ¶è®¾è®¡ï¼Œæ¡†æ¶è¶Šå¤æ‚ï¼ŒåŠŸèƒ½è¶Šå¼ºå¤§ï¼Œç”¨èµ·æ¥è¶Šæ–¹ä¾¿ æ¬¢è¿å¤§å®¶ä¸æˆ‘äº¤æµï¼ï¼ï¼ æœ¬ç«™æ–‡ç« å¦‚æ— å…¶ä»–ç‰¹æ®Šè¯´æ˜ï¼Œå‡ä¸ºåŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚","categories":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/categories/iOS/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/tags/iOS/"}]},{"title":"ä¸€ä¸ªå…³äºè“ç‰™4.0çš„æ™ºèƒ½ç¡¬ä»¶Demo è¯¦è§£","slug":"about-ble-intelligent-hd-demo-detailed","date":"2016-01-10T09:00:00.000Z","updated":"2021-10-21T08:18:48.333Z","comments":true,"path":"2016/01/10/about-ble-intelligent-hd-demo-detailed/","link":"","permalink":"https://blog.yuhanle.com/2016/01/10/about-ble-intelligent-hd-demo-detailed/","excerpt":"å†™è¿™ç¯‡è¯¦è§£æ˜¯å› ä¸ºæœ€è¿‘å¾ˆå¤šäººéƒ½åœ¨é—®ç›¸å…³é—®é¢˜ï¼Œä½†æ˜¯ä¸Šç¯‡æ–‡ç« iOS-BLEè“ç‰™å¼€å‘æŒç»­æ›´æ–°å·²ç»è¿‡å»åŠå¹´ï¼Œå¾ˆå¤šä¸œè¥¿å·²ç»å¼€å§‹é—å¿˜ï¼Œä»Šå¤©é‡æ–°æ‹¾èµ·ï¼Œå¹¶åœ¨Demoä¸­æ–°æ·»äº†å…·ä½“åŠŸèƒ½å’Œè¯¦ç»†æ³¨é‡Šï¼Œé¡ºä¾¿å±¡ä¸€ä¸‹å½“åˆè®¾è®¡çš„æ€è·¯ï¼Œæˆ‘æƒ³ç”¨å›¾ç‰‡æ¥è§£é‡Šä¼šæ›´å¥½ç†è§£ã€‚","text":"å†™è¿™ç¯‡è¯¦è§£æ˜¯å› ä¸ºæœ€è¿‘å¾ˆå¤šäººéƒ½åœ¨é—®ç›¸å…³é—®é¢˜ï¼Œä½†æ˜¯ä¸Šç¯‡æ–‡ç« iOS-BLEè“ç‰™å¼€å‘æŒç»­æ›´æ–°å·²ç»è¿‡å»åŠå¹´ï¼Œå¾ˆå¤šä¸œè¥¿å·²ç»å¼€å§‹é—å¿˜ï¼Œä»Šå¤©é‡æ–°æ‹¾èµ·ï¼Œå¹¶åœ¨Demoä¸­æ–°æ·»äº†å…·ä½“åŠŸèƒ½å’Œè¯¦ç»†æ³¨é‡Šï¼Œé¡ºä¾¿å±¡ä¸€ä¸‹å½“åˆè®¾è®¡çš„æ€è·¯ï¼Œæˆ‘æƒ³ç”¨å›¾ç‰‡æ¥è§£é‡Šä¼šæ›´å¥½ç†è§£ã€‚ é¦–å…ˆçœ‹ä¸€ä¸‹å‡ ä¸ªæ–‡ä»¶çš„å¤§æ¦‚åŠŸèƒ½ï¼Œåé¢åœ¨ç”¨å›¾æ¥åˆ†æå…¶ä¸­çš„è®¾è®¡ç†å¿µã€‚ æ–‡ä»¶ç›®å½•æ•´ä¸ªæ–‡ä»¶ä¸»è¦åŒ…å«å››å¤§å—ï¼Œæ¯ä¸€å—çš„åŠŸèƒ½éƒ½æ˜¯ç‹¬ç«‹å¼€çš„ï¼Œä¸è¿‡å½“ä¸­å´åˆè®¾è®¡ä¸è¶³çš„åœ°æ–¹ï¼Œå¸Œæœ›å„ä½èƒ½å¤Ÿç§¯æforkï¼Œè´¡çŒ®ä»£ç ï¼ QWSDiscovery è¿™ä¸ªæ–‡ä»¶æ˜¯åŠŸèƒ½çš„æ ¸å¿ƒï¼Œä¸»è¦è´Ÿè´£å’Œç³»ç»Ÿçš„CoreBluetoothæ²Ÿé€šï¼Œæ¯”å¦‚æ‰«æè®¾å¤‡ï¼Œè¿æ¥ï¼Œæ–­å¼€ç­‰æ“ä½œã€‚å…¶ä¸­ç»´æŠ¤äº†ä¸€ä¸ªè®¾å¤‡åˆ—è¡¨ï¼Œä½¿ç”¨è®¾å¤‡çš„uuidæ¥å”¯ä¸€è¯†åˆ«ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼ŒåŒæ—¶ä¹Ÿå®šä¹‰äº†é€šçŸ¥å’Œé”™è¯¯ç±»å‹ï¼Œæ–¹ä¾¿å¤„ç†ä¸è®¾å¤‡ä¹‹é—´çš„ä¿¡æ¯äº¤æµã€‚ QWSBleHelper ç”¨å¿ƒçš„è¯»è€…ä¸€å®šå‘ç°ï¼Œåœ¨æˆ‘ä»¬çš„æ¯ä¸€ä¸ªviewControllerä¸­ï¼Œåªè¦ä¸è“ç‰™åŠŸèƒ½ç›¸å…³ï¼Œé‚£ä»–ä¸€å®šç»´æŠ¤äº†ä¸€ä¸ªhelperã€‚åœ¨è¿™é‡Œæˆ‘ç§°è¿™ä¸ªé¡µé¢ä¸ºç›‘æŠ¤äººï¼Œæ™ºèƒ½è®¾å¤‡å°±åƒæ˜¯ä¸€ä¸ªå­©å­ï¼Œå¾ˆå¤šå­©å­åœ¨å¹¼å„¿å›­é‡Œï¼Œæˆ‘åªå…³å¿ƒæˆ‘çš„å­©å­ï¼Œè€Œè¿™ä¸ªhelperå°±åƒå¹¼å„¿å›­è€å¸ˆï¼Œä»–è´Ÿè´£å‘ŠçŸ¥æˆ‘ä»¬å­©å­åœ¨æ ¡çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥è®©æˆ‘å’Œå­©å­ç›´æ¥æ²Ÿé€šã€‚ helperä¸­ä¼šç»´æŠ¤ä¸¤ä¸ªé›†åˆï¼Œä¸€ä¸ªæ˜¯æˆ‘å…³å¿ƒçš„è®¾å¤‡é›†åˆï¼Œä¸€ä¸ªæ˜¯å³å°†æ–­å¼€çš„è®¾å¤‡é›†åˆã€‚å¹¶ä¸æ˜¯è¿æ¥æˆåŠŸçš„è®¾å¤‡å°±ä¼šåŠ å…¥åˆ°è¿™ä¸ªé›†åˆä¸­ï¼Œåªæœ‰ç›‘æŠ¤äººå‘å‡ºäº†ä¸è¿™ä¸ªè®¾å¤‡ç›¸å…³çš„è¯·æ±‚ï¼ˆæ¯”å¦‚è¯´ï¼Œè¿æ¥ï¼Œè·å–ä¿¡æ¯ç­‰ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œheplerå¯ä»¥åˆ¤å®šè¿™ä¸ªè®¾å¤‡æ˜¯è¢«ç›‘æŠ¤äººå…³å¿ƒçš„ï¼Œä»è€Œè¿™ä¸ªè®¾å¤‡æœ‰ä¿¡æ¯æ›´æ–°çš„æ—¶å€™ï¼Œä»–ä¼šå‘ŠçŸ¥æ‰€æœ‰ç›‘æŠ¤è¿™ä¸ªè®¾å¤‡çš„ç›‘æŠ¤äººã€‚ åœ¨è¿™é‡Œä¹‹æ‰€ä»¥å³å°†æ–­å¼€çš„è®¾å¤‡é›†åˆæ˜¯ä¸ºäº†ï¼Œåœ¨ç›‘æŠ¤äººå‘å‡ºæ–­å¼€è¯·æ±‚ä¹‹åï¼Œä»ç„¶èƒ½å¤Ÿæ¸…æ™°çš„å‘ŠçŸ¥ç›‘æŠ¤äººè¯¥è®¾å¤‡çš„çŠ¶æ€ä¿¡æ¯ï¼Œç­‰åˆ°çœŸæ­£æ–­å¼€è¿æ¥ä¹‹åé€šçŸ¥åˆ°æ¯ä¸€ä¸ªç›‘æŠ¤äººã€‚ QWSBleHandler è¿™ä¸ªæ–‡ä»¶é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€äº›ä»£ç†æ–¹æ³•ã€‚è®¾è®¡ä¸­æ˜¯å°†ä»–åŠ å…¥åˆ°helperä¸­ï¼Œå½“helperæ”¶åˆ°è®¾å¤‡å‘æ¥çš„ä¿¡æ¯æ—¶ï¼Œé€šè¿‡ä»£ç†å°†ä¿¡æ¯æ‹†è§£å¹¶å°è£…æ¨¡å‹é€šçŸ¥åˆ°æ‰€æœ‰ç›‘æŠ¤äººï¼Œå†™åœ¨è¿™é‡Œçº¯ç²¹åªæ˜¯ä¸ºäº†çœ‹èµ·æ¥æ›´åŠ æ¸…æ™°ï¼Œåˆ†æ‹…ä¸€ä¸‹å„ä¸ªæ–‡ä»¶çš„ä»£ç å‹åŠ›ã€‚ QWSDevControlService ç»§æ‰¿NSObjectï¼Œå°è£…çš„æ™ºèƒ½ç¡¬ä»¶è®¾å¤‡çš„æ¨¡å‹ã€‚å¯¹äºæ™ºèƒ½ç¡¬ä»¶è®¾å¤‡æ¥è®²ï¼Œå•å•ä¸€ä¸ªCBPeripheralï¼ˆCoreBluetoothé‡Œçš„å¯¹è±¡ï¼‰æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚æˆ‘ä»¬å¯èƒ½éœ€è¦ä¸ºä»–ä¸°å¯Œæ›´å¤šçš„æ‰©å±•ä¿¡æ¯ï¼Œæ¯”å¦‚è¿™ä¸ªè®¾å¤‡æ˜¯å¦è‡ªåŠ¨é‡è¿ï¼Œæ˜¯å¦éœ€è¦æ–­å¼€åè¿æ¥ï¼Œæ˜¯å¦è®¤è¯ï¼Œé‡è¿æ¬¡æ•°ï¼Œç‰ˆæœ¬å·ç­‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç»§æ‰¿CBPeripheralï¼Œä½†è¿™é‡Œæˆ‘è§‰å¾—å°†CBPeripheralä½œä¸ºå…¶ä¸€ä¸ªå±æ€§ä¼šæ¯”è¾ƒæ¸…æ™°ã€‚ è¿™ä¸ªå¯¹è±¡ä¼šç»´æŠ¤è‡ªå·±æ‰€æœ‰çš„è¯»å†™æ“ä½œï¼Œä¸ç®¡å¤–ç•Œå‘æ¥ä»€ä¹ˆæŒ‡ä»¤ä¿¡æ¯ï¼Œä»–éƒ½èƒ½æ ¹æ®è‡ªå·±å½“å‰çš„çŠ¶æ€ï¼Œè¯¥æŠ¥é”™æŠ¥é”™ï¼Œè¯¥æ‰§è¡Œæ‰§è¡Œï¼Œå¹¶å°†ç»“æœåé¦ˆç»™æ¯ä¸€ä¸ªç›‘æŠ¤äººã€‚ å›¾è§£è¯´æ˜1.æ™ºèƒ½è®¾å¤‡ä¸ç§»åŠ¨ç«¯çš„å…³ç³» æˆ‘ä»¬çš„Discoveryåœ¨æœ€é¡¶å±‚ï¼Œä¸ä¼šå‚ä¸ä¸è®¾å¤‡çš„ç›´æ¥äº¤äº’ï¼Œæ‰€æœ‰çš„æ”¶å‘æ•°æ®éƒ½æ˜¯ç»è¿‡ç³»ç»Ÿçš„æ¡†æ¶å®ç°ã€‚ 2.ç›‘æŠ¤äººä¸å­©å­çš„å…³ç³» å›¾ä¸­çš„è¿çº¿å¾ˆå¤šï¼Œå¯èƒ½å¾ˆè¿·ç³Šï¼ŒåŒä¸€ç§é¢œè‰²çš„è¿çº¿ä»£è¡¨æ•°æ®äº¤äº’ï¼Œçœ‹helperé‡Œå…³å¿ƒçš„è®¾å¤‡ï¼Œå¯ä»¥æ˜æ˜¾ç†è§£ï¼Œåªæœ‰å…³å¿ƒè¿™ä¸ªè®¾å¤‡æ‰ä¼šæ”¶åˆ°è¿™ä¸ªè®¾å¤‡çš„ä¿¡æ¯ã€‚ æ¯ä¸€ä¸ªviewControllerç»´æŠ¤ä¸€ä¸ªhelperï¼Œé€šè¿‡NSNotificationCenterå¹¿æ’­æ‰€æœ‰æ“ä½œçš„ç»“æœï¼Œå¹¶å‘ŠçŸ¥æ¯ä¸€ä¸ªå…³å¿ƒè¿™ä¸ªè®¾å¤‡çš„viewControllerã€‚ ç®€è¨€ä¹‹ï¼Œå°±æ˜¯ç›‘æŠ¤äººæ¥ä¸æ¥å—è¿™ä¸ªé€šçŸ¥ï¼Œæˆ–è€…è€å¸ˆå‘ä¸å‘é€è¿™ä¸ªæ¶ˆæ¯ç»™ç›‘æŠ¤äººã€‚æœ‰ä¸€ç‚¹éœ€è¦æ˜ç™½çš„æ˜¯ï¼Œä¸ç®¡ç›‘æŠ¤äººæƒ³ä¸æƒ³æ”¶åˆ°è¿™ä¸ªè®¾å¤‡çš„æ¶ˆæ¯ï¼Œè¿™ä¸ªè®¾å¤‡éƒ½æ˜¯ä¼šå¹¿æ’­è‡ªå·±çš„ä¿¡æ¯çš„ï¼Œåªæ˜¯helperä¼šåˆ¤æ–­è¿™ä¸ªå­©å­æ˜¯ä¸æ˜¯ä½ çš„~ ä»¥ä¸Šå°±æ˜¯è¿™ä¸ªDemoçš„è®¾è®¡æ€è·¯ï¼Œå½“ç„¶Demoä¸­ä»æœ‰å¾ˆå¤šä¸è¶³ï¼Œä¹‹æ‰€ä»¥ä¸æ•¢ç§°ä¹‹ä¸ºkitï¼Œæ˜¯å› ä¸ºå®ƒç¡®å®æ²¡æœ‰è¾¾åˆ°kitçš„å°è£…èƒ½åŠ›ä¸æ•ˆæœï¼Œæ¯•ç«Ÿè¿™åªæ˜¯ä¸€ä¸ªDemoï¼Œä»–åªæ˜¯ç®€å•ä½“ç°äº†ä¸€ä¸ªè®¾è®¡æ€è·¯ï¼Œå¹¶ä¸èƒ½è¾¾åˆ°é€šç”¨çš„æ•ˆæœï¼Œå› ä¸ºåœ¨æ™ºèƒ½ç¡¬ä»¶è¿™ä¸€å—ï¼Œæ¯ä¸ªäº§å“çš„åè®®ï¼Œå±æ€§éƒ½ä¼šæœ‰æ‰€å·®å¼‚ï¼Œä¸å¯èƒ½åšåˆ°é€šç”¨çš„æ•ˆæœã€‚å¸Œæœ›å’Œå¤§å®¶æœ‰æ›´æ·±å…¥çš„äº¤æµä¸å­¦ä¹ ï¼ æœ€åå›é¡¾ä¸€ä¸‹ä¸Šç¯‡æ–‡ç« çš„åœ°å€ï¼šiOS-BLEè“ç‰™å¼€å‘æŒç»­æ›´æ–° ä»¥åŠè¿™ä¸ªè¯´äº†å¾ˆä¹…çš„Demoåœ°å€ï¼šä¸€ä¸ªiOS BLEè“ç‰™å­¦ä¹ çš„Demo åœ¨è¿™é‡Œä¹Ÿé¡ºä¾¿ä»‹ç»ä¸€ä¸‹è¿‘æœŸçœ‹åˆ°çš„ä¸€ç¯‡å…³äºBLEå¼€å‘çš„kit(MPBluetoothKit iOSè“ç‰™æ¡†æ¶)ï¼Œä½œè€…å¾ˆè¯¦ç»†çš„å°†ç³»ç»Ÿçš„CoreBluetoothçš„ä»£ç†éƒ½ç”¨blockå®ç°äº†ï¼Œçœ‹èµ·æ¥æ›´åŠ æ¸…æ™°ä¸å®ç”¨ï¼Œä¹Ÿå¸Œæœ›å„ä½èƒ½å¤Ÿå¤šå¤šå…³æ³¨ï¼Œå…±åŒå­¦ä¹ ã€‚ æœ¬ç«™æ–‡ç« å¦‚æ— å…¶ä»–ç‰¹æ®Šè¯´æ˜ï¼Œå‡ä¸ºåŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚","categories":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/categories/iOS/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/tags/iOS/"}]},{"title":"Cornerstone Mergeæ“ä½œè¯¦è§£","slug":"cornerstone-merge-operation-explain","date":"2015-09-27T01:00:00.000Z","updated":"2021-10-21T08:18:48.334Z","comments":true,"path":"2015/09/27/cornerstone-merge-operation-explain/","link":"","permalink":"https://blog.yuhanle.com/2015/09/27/cornerstone-merge-operation-explain/","excerpt":"Cornerstoneæ˜¯æœ€å¥½ç”¨çš„Macç«¯ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚å°¾éƒ¨é™„ä¸‹è½½é“¾æ¥ï¼Œç±»ä¼¼å…¶ä»–æŒ‡ä»¤å°±ä¸è¯´äº†ã€‚","text":"Cornerstoneæ˜¯æœ€å¥½ç”¨çš„Macç«¯ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚å°¾éƒ¨é™„ä¸‹è½½é“¾æ¥ï¼Œç±»ä¼¼å…¶ä»–æŒ‡ä»¤å°±ä¸è¯´äº†ã€‚ ä¸€æ­¥ä¸€æ­¥æ¥1ã€åœ¨æœåŠ¡å™¨ä¸Šå»ºç«‹æ–°æ–‡ä»¶å¹¶ä¸Šä¼ ä»£ç ï¼ˆæ–‡ä»¶æ“ä½œéœ€è¦è°¨æ…ï¼‰ 2ã€æ–‡ä»¶æ‹–æ”¾åˆ°æœ¬åœ°ï¼Œç‚¹å‡»æäº¤ 3ã€å¦‚è¦ç”Ÿæˆæ–°çš„åˆ†æ”¯ 4ã€å¦‚æœä¸¤ä¸ªåˆ†æ”¯éœ€è¦åˆå¹¶åˆ°ä¸»å¹²ï¼ŒCheckoutåˆ°æœ¬åœ°ï¼Œç‚¹å‡»éœ€è¦åˆå¹¶åˆ°çš„é¡¹ç›®-&gt;Merge-&gt;Sychronize Branché€‰æ‹©éœ€è¦ä»è¢«åˆå¹¶çš„é¡¹ç›®ï¼ˆmerge fromï¼‰åˆå¹¶åˆ°è¿™é‡Œï¼Œç„¶åæäº¤å°±å¯ä»¥äº†ï¼ˆå¦‚æœåŒæ—¶æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œæœ€éœ€ä»éœ€è¦åœ¨åˆ†æ”¯ä¸Šä¿®æ”¹çš„è¯ï¼Œå…ˆåˆå¹¶ä¸€ä¸ªåˆ†æ”¯åˆ°ä¸»å¹²ï¼Œç„¶åä¸»å¹²åœ¨åˆå¹¶åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ï¼Œä¿®æ”¹å†²çªåæäº¤ï¼Œå‰ææ˜¯ï¼Œåˆšå¼€å§‹ä¸»å¹²å’Œä¸¤ä¸ªåˆ†æ”¯çš„ä»£ç ä¸€æ ·ï¼Œå‚è€ƒä¸Šè¾¹çš„æ­¥éª¤ç”Ÿæˆï¼‰ è¯¦è§£12341.åœ¨workcopyingä¸­é€‰æ‹©ç›®æ ‡copyingï¼Œç„¶åç‚¹å‡»Mergeï¼Œå¦‚å›¾æ‰€ç¤º2.é€‰æ‹©Mergefromçš„copying3.Mergeä¹‹å‰cornerstoneä¼šè¿›è¡Œdry runï¼Œè¿›è¡Œmergeåˆ†æå’Œé¢„è§ˆ4.ç¡®è®¤æ— è¯¯åMerge Changes ï¼ˆè¯¥æ“ä½œæ˜¯æœ¬åœ°æ“ä½œï¼Œæ³¨æ„è§£å†³å†²çªååœ¨commitï¼‰ ä¸‹è½½ Cornerstone 2.7.10 ç ´è§£ç‰ˆï¼ˆæ”¯æŒæ­£ç‰ˆï¼‰é“¾æ¥ï¼šhttp://pan.baidu.com/s/1o6VRtcI å¯†ç : p523 æœ¬ç«™æ–‡ç« å¦‚æ— å…¶ä»–ç‰¹æ®Šè¯´æ˜ï¼Œå‡ä¸ºåŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚","categories":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/categories/iOS/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/tags/iOS/"}]},{"title":"æ€»è§‰å¾—æ—¥å­è¿‡å¾—å¹¶ä¸é‚£ä¹ˆæ½‡æ´’","slug":"always-feel-that-life-not-so-chic","date":"2015-09-20T03:00:00.000Z","updated":"2021-10-21T08:18:48.333Z","comments":true,"path":"2015/09/20/always-feel-that-life-not-so-chic/","link":"","permalink":"https://blog.yuhanle.com/2015/09/20/always-feel-that-life-not-so-chic/","excerpt":"ç”Ÿæ´»ï¼Œä¸€ç§æ˜¯åˆ«äººçœ‹çš„ï¼Œä¸€ç§åªä¸ºå¿ƒå®‰ã€‚ åˆåˆ°ä¸Šæµ·ï¼Œæ€»è§‰å¾—è¿™ä¸ªåŸå¸‚å¹¶æ²¡æœ‰é‚£ä¹ˆä»¤äººå‘å¾€ï¼Œå¤„å¤„éƒ½æ˜¯é’¢ç­‹æ··å‡åœŸï¼Œé£ä¸€å¹è¿‡ï¼Œå¼¥æ¼«ç€å„ç§æ°”æ¯ï¼Œäº”å‘³æ‚å‘ˆã€‚æ¯å¤©çš„å·¥ä½œï¼Œæ—¥å¤ä¸€æ—¥ï¼Œå¥½åƒæ²¡æ€ä¹ˆå˜ç€ï¼Œè€Œç”Ÿæ´»æ—©å·²è¢«å·¥ä½œæ©åŸ‹ï¼Œå¯¹å®¶ç«Ÿç„¶æ²¡æœ‰ä¸€ä¸æŒ‚å¿µã€‚","text":"ç”Ÿæ´»ï¼Œä¸€ç§æ˜¯åˆ«äººçœ‹çš„ï¼Œä¸€ç§åªä¸ºå¿ƒå®‰ã€‚ åˆåˆ°ä¸Šæµ·ï¼Œæ€»è§‰å¾—è¿™ä¸ªåŸå¸‚å¹¶æ²¡æœ‰é‚£ä¹ˆä»¤äººå‘å¾€ï¼Œå¤„å¤„éƒ½æ˜¯é’¢ç­‹æ··å‡åœŸï¼Œé£ä¸€å¹è¿‡ï¼Œå¼¥æ¼«ç€å„ç§æ°”æ¯ï¼Œäº”å‘³æ‚å‘ˆã€‚æ¯å¤©çš„å·¥ä½œï¼Œæ—¥å¤ä¸€æ—¥ï¼Œå¥½åƒæ²¡æ€ä¹ˆå˜ç€ï¼Œè€Œç”Ÿæ´»æ—©å·²è¢«å·¥ä½œæ©åŸ‹ï¼Œå¯¹å®¶ç«Ÿç„¶æ²¡æœ‰ä¸€ä¸æŒ‚å¿µã€‚ æ…¢æ…¢çš„å›å®¶è¶Šæ¥è¶Šæ™šï¼Œç¡å¾—ä¹Ÿæ˜¯è¶Šæ¥è¶Šæ™šï¼Œå³ä½¿å¾ˆå›°ï¼Œç¡å‰ä¹Ÿè¦ç¿»ç¿»ç½‘æ˜“æ–°é—»ï¼Œçœ‹ä¸€çœ‹ä»Šå¤©çš„äº‹æƒ…ï¼Œåˆ·ä¸€åˆ·æœ‰è¶£çš„å¾®åšï¼Œè€Œæœ‹å‹å°±åœ¨è¿™ä¸€åˆ†ä¸€ç§’ç§ï¼Œä¼¼ä¹å¤§å®¶éƒ½åœ¨å¿™ï¼Œæ²¡æœ‰è°ä¼šä¸»åŠ¨è”ç³»ã€‚ æœ‰æ—¶å€™ï¼Œä¼šå¾ˆæƒ³å»ç™¾åº¦ï¼ˆä¸€ä¸ªç¥å¥‡çš„ç½‘ç«™ï¼‰ã€‚æ€»æ˜¯è«åå…¶å¦™çš„æœç´¢ä¸€ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªå›°æ‰°æˆ‘å¾ˆä¹…å¾ˆéš¾çš„é—®é¢˜ï¼Œå¦‚ä½•è®©è‡ªå·±åœ¨äº’è”ç½‘æ¶ˆå¤±ï¼Ÿæ˜æ˜çŸ¥é“ï¼Œè¿™å°±åƒåšäº†é”™äº‹å¥¢æ±‚åæ‚”è¯ä¸€æ ·ï¼Œå¯æ˜¯æ¯å½“å­¤ç‹¬çš„æ—¶å€™ï¼Œè¿™ç¡®å®æˆ‘å”¯ä¸€èƒ½æƒ³åˆ°çš„ï¼Œä¹Ÿæ˜¯æˆ‘æ‰€ä¸èƒ½åŠåˆ°çš„ã€‚ ç”Ÿæ´»å¾ˆå¥‡ç‰¹ï¼Œæˆ‘ä»¬ä¸€è¾¹åœ¨äº†è§£ç€è‡ªå·±ï¼Œåˆä¸€è¾¹æ”¹å˜ç€è‡ªå·±ï¼Œç›´åˆ°æœ€åï¼Œæ°¸è¿œæ— æ³•çœŸæ­£çš„è®¤è¯†è‡ªå·±ï¼Œå¯éšç€æ—¶é—´çš„æµé€ï¼Œå¯¹æœ‹å‹ï¼Œå¯¹äº²äººæ…¢æ…¢å˜å¾—éº»æœ¨ï¼Œæ”¾ä½›èº«è¾¹åªæœ‰è‡ªå·±çš„èƒŒå½±ï¼Œæ€»æ˜¯ä¸é‚£ä¹ˆæ½‡æ´’ï¼ æ¯å½“å®‰é™çš„æ—¶å€™ï¼Œå´ä¸èƒ½çœŸæ­£é™ä¸‹æ¥ï¼Œè„‘æµ·é‡Œæ€ç»ªä¹±é£ï¼Œæ¸¸ç¦»åœ¨ææƒ§å­¤ç‹¬ä¹‹ä¸­ï¼Œæˆ‘è§‰å¾—æˆ‘å·²ç»è¢«æŠ¹å»äº†ï¼Œä¸ç®¡æƒ³åˆ°çš„æ˜¯ä»€ä¹ˆï¼Œä¼¼ä¹ä¹Ÿéƒ½ä¸æˆ‘æ— å…³äº†ã€‚ ç”Ÿæ´»ï¼Œä¸€ç§æ˜¯ç»™åˆ«äººçœ‹çš„ã€‚ å¯¹äºæˆ‘ï¼Œæˆ‘ä¸åœ¨ä¹åˆ«äººæ˜¯æ€ä¹ˆçœ‹æˆ‘ï¼Œå½“ç„¶è¿™åªæ˜¯è¡¨è±¡ï¼Œæˆ‘ä¼šåœ¨ä¹ä½ ä¸æ€ä¹ˆçœ‹æˆ‘ã€‚æˆ‘ä¼šå°½å¿ƒå°½åŠ›åšå¥½è‡ªå·±ï¼Œæˆ‘æ‰€è®¤ä¸ºçš„ï¼Œå¯¹æˆ‘æ¥è¯´æ˜¯ç»è¿‡æ·±æ€çš„ï¼Œæœ‰æ—¶å€™ä¹Ÿå®¹æ˜“å†²åŠ¨ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šåœ†åœºï¼Œæœ€ç»ˆå…¶å®å¯¹æˆ‘çš„ä¼¤å®³æœ€å¤§ï¼Œå³ä½¿å› ä¸ºæŸäº›åŸå› ï¼Œæˆ‘ä¼šå¦¥åï¼Œè€Œä¸”ç»å¸¸å¦¥åï¼Œä½†æˆ‘ä»ä¸è®¤ä¸ºæˆ‘æ˜¯é”™çš„ï¼Œæœ‰äº›ä¸œè¥¿å°±æ˜¯æŠ“çš„å¤ªç´§ï¼Œä¸å¦¥åä¼šå¤±å»ï¼Œä½†éƒ½åªæ˜¯æš‚æ—¶çš„ã€‚ å¯èƒ½ï¼Œä»æ¥æ²¡æœ‰äººä¼šç¾¡æ…•æˆ‘ã€‚ è®°å¾—ä»¥å‰åœ¨å­¦æ ¡ï¼Œæˆ‘çš„æˆç»©å¾ˆå¥½ï¼Œå½“ç„¶åªæ˜¯å°åœ°æ–¹ï¼Œé‚£ä¸ªæ—¶å€™ï¼Œå¯¹äºç¤¾ä¼šè¿˜å¹¶æ²¡æœ‰ä»€ä¹ˆæ¦‚å¿µï¼Œæ€»ä¹‹å°±æ˜¯è‡ªæˆ‘æ„Ÿè§‰è‰¯å¥½ï¼Œä¹Ÿå–œæ¬¢ç©ï¼Œä½†ä¸å–œæ¬¢é—¹ã€‚èº«è¾¹ä¹Ÿæ€»ä¼šæœ‰æˆ–å¤šæˆ–å°‘çš„æœ‹å‹ï¼Œæ¯å½“ä¸€ä¸ªé˜¶æ®µç»“æŸï¼Œå¥½ä¼¼æ¢äº†ä¸€ä¸ªåœ°æ–¹ï¼Œå†ä¹Ÿæ²¡æœ‰è”ç³»ï¼Œç»å¸¸æœ‰æ®µæ—¶é—´ï¼Œä¼šè§‰å¾—é‚£äº›æœ‹å‹è¿‡å»äº†å¤ªå¯æƒœï¼Œç°åœ¨æƒ³æƒ³ä¹Ÿä¸è¿‡å¦‚æ­¤ï¼Œè°ä¼šéœ€è¦å“ªä¹ˆå¤šå¾—æœ‹å‹å‘¢ï¼Ÿå¥½äººçš„å½¢è±¡ï¼Œè®©æˆ‘è§‰å¾—è™šä¼ªã€‚åƒæ˜¯ä¼ªè£…ï¼Œè¿˜ä¸çŸ¥é“è‡ªå·±èƒ½åšæŒå¤šä¹…ï¼Œæ€»å¥½åƒè¿™äº›éƒ½æ˜¯åšç»™åˆ«äººçœ‹çš„ã€‚åƒé¥­æ˜¯ä¸ºäº†æ´»ç€ï¼ŒæŒ£é’±æ˜¯ä¸ºäº†æ´»çš„æ›´å¥½ï¼Œå¯å§‹ç»ˆä¸æ˜ç™½æ´»ç€æ˜¯ä¸ºäº†å¹²å˜›ï¼Œåšä¸€ä¸ªå¥½äººï¼Ÿ æ€»æƒ³è®©è‡ªå·±å¿ƒå®‰ã€‚ è®©è‡ªå·±å¿ƒå®‰ç†å¾—ï¼Œç»§ç»­è£…ä¸‹å»ã€‚ä»Šå¤©å¤šåšç‚¹ï¼Œæ˜å¤©å°±èƒ½å¤šæ­‡æ¯ï¼Œå¯æ—¥å­è¿™ä¹ˆé•¿ï¼Œæ—¶é—´åˆå¾ˆçŸ­ï¼Œæ€»æœ‰ä¸€äº›ç†ç”±ï¼Œè®©è‡ªå·±å¿ƒå®‰ã€‚åæ­£ï¼Œå°±æ˜¯ä¸æ½‡æ´’ï¼Œå³ä½¿å¾ˆå¿ƒå®‰ï¼Œä¹Ÿå¾ˆæ˜ç¡®çš„æ„Ÿè§‰ è¿™äº›éƒ½æ˜¯å‡çš„ã€‚åšå®Œä¸€ä»¶äº‹ï¼Œè¿™ä¸ªé˜¶æ®µå°±ç»“æŸäº†ã€‚å³ä½¿å‹åŠ›å†å¤§ï¼Œä¹Ÿèƒ½å¦‚é‡Šé‡è´Ÿï¼Œè°è®©è¿™éƒ½æ˜¯è¿‡ç¨‹å‘¢ã€‚ èƒ½åšæŒåˆ°æœ€åï¼Œå´ä¸ä¸€å®šæ˜¯ç¬¬ä¸€ã€‚è¿™æ˜¯ç»æœ›ï¼Œè®©ä½ èƒŒè´Ÿç€å‹åŠ›å‰è¡Œ","categories":[{"name":"suibi","slug":"suibi","permalink":"https://blog.yuhanle.com/categories/suibi/"}],"tags":[{"name":"outu","slug":"outu","permalink":"https://blog.yuhanle.com/tags/outu/"}]},{"title":"åƒæäº†ä¸€ä¸ªæ„¤é’","slug":"it-seems-like-a-cynical","date":"2015-08-20T06:00:00.000Z","updated":"2021-10-21T08:18:48.337Z","comments":true,"path":"2015/08/20/it-seems-like-a-cynical/","link":"","permalink":"https://blog.yuhanle.com/2015/08/20/it-seems-like-a-cynical/","excerpt":"èŠ‚å‰ä¸€æ™šï¼Œæ„Ÿè§‰å·¥ä½œæœ‰å‘Šä¸€æ®µè½ï¼Œå°±å¼€å§‹å®‰é™åœ°æƒ³äº›äº‹æƒ…ï¼Œåœ¨å·¥ä½œçš„æ—¶å€™ï¼Œäººä¸äººçš„ç›¸å¤„ï¼Œå…³ç³»ä¸€ç›´å¾ˆå¾®å¦™ã€‚ ä»ç¬¬ä¸€æ¬¡è§é¢çš„æ‹˜è°¨ï¼Œåˆ°åæ¥å·¥ä½œä¸­çš„æ¥è§¦ï¼Œä¸€ä¸ªäººçš„æ€§æ ¼ï¼Œå†³å®šäº†æ¥ä¸‹æ¥çš„å‘½è¿ã€‚","text":"èŠ‚å‰ä¸€æ™šï¼Œæ„Ÿè§‰å·¥ä½œæœ‰å‘Šä¸€æ®µè½ï¼Œå°±å¼€å§‹å®‰é™åœ°æƒ³äº›äº‹æƒ…ï¼Œåœ¨å·¥ä½œçš„æ—¶å€™ï¼Œäººä¸äººçš„ç›¸å¤„ï¼Œå…³ç³»ä¸€ç›´å¾ˆå¾®å¦™ã€‚ ä»ç¬¬ä¸€æ¬¡è§é¢çš„æ‹˜è°¨ï¼Œåˆ°åæ¥å·¥ä½œä¸­çš„æ¥è§¦ï¼Œä¸€ä¸ªäººçš„æ€§æ ¼ï¼Œå†³å®šäº†æ¥ä¸‹æ¥çš„å‘½è¿ã€‚ ä¸ç®¡æ˜¯åœ¨å­¦æ ¡ï¼Œè¿˜æ˜¯æ¯•ä¸šåï¼Œæ¸¸è¡åœ¨å„ä¸ªåŸå¸‚ä¹‹é—´ï¼Œå¯¹è‡ªå·±çš„æ„Ÿè§‰éƒ½æ˜¯å†…å‘ï¼Œå¥½æœ‹å‹é¢å‰ï¼Œå§‹ç»ˆå°½åŠ›ä¿æŒç€è€å®äººï¼Œä½œé£ä¸¥è°¨çš„å½¢è±¡ï¼Œå¯æ›´å¤šçš„æ—¶å€™ä¸æ„¿æ„å»æ‰¿è®¤è¿™ä¸ªäº‹å®ï¼Œä»¥è‡³äºåœ¨ä»–ä»¬çš„é¢å‰æ¯«æ— é®æ©ï¼Œä½†é¢å¯¹é™Œç”Ÿäººæˆ–æ˜¯å´‡æ‹œçš„äººï¼Œå†…å‘ï¼Œè‡ªå‘å°±æ˜¾éœ²æ— é—ã€‚ è¿™ç§æ€§æ ¼å¾ˆæ€ªï¼Œä¹Ÿå¾ˆæ¼ã€‚ å½“åœ¨å®‰é™çš„æ—¶å€™ï¼Œæˆ‘ç¾¡æ…•é‚£äº›èƒ½åä¸‹æ¥ï¼Œè®¤è®¤çœŸçœŸçš„è¯»å®Œä¸€æœ¬ä¹¦çš„äººã€‚èº«è¾¹çš„åŒäº‹ï¼Œæœ‰çš„èƒ½å¾…åœ¨åŠå…¬å®¤ä¸€æ•´å¤©ï¼Œé™¤äº†ä¸­åˆèŠ±è´¹åŠä¸ªå°æ—¶çš„æ—¶é—´å¤–å‡ºåƒé¥­ï¼Œç„¶åæ…¢æ‚ æ‚ çš„å›åˆ°åº§ä½ï¼Œç»§ç»­å‰©ä¸‹çš„å·¥ä½œï¼Œèƒ½å®Œå®Œæ•´æ•´å†™ä¸€éä»£ç ï¼Œå®‰å®‰é™é™å¤„ç†æ‰‹ä¸Šçš„é—®é¢˜ï¼Œè™½ç„¶ä¸äººæ²Ÿé€šå¾ˆå°‘ï¼Œä½†æ˜¯å´ä»ä¸å½±å“å·¥ä½œçš„è¿›åº¦ã€‚ å¾ˆå¤šæ—¶å€™ï¼Œæœ¬äººä¹Ÿæ˜¯ä¸€ä¸ªå®‰é™çš„äººï¼Œåªæ˜¯ä¸æƒ³è¯´è¯ï¼Œç®€ç®€å•å•çš„çœ‹çœ‹ä¹¦ï¼Œç©ç©æ‰‹æœºï¼Œæˆ–è€…æ‰¾ä¸ªåœ°æ–¹ååï¼Œçœ‹çœ‹å‘¨å›´æ¥æ¥å¾€å¾€çš„äººã€‚ç‰¹åˆ«å–œæ¬¢çœ‹å°å­©å­ï¼Œæ·˜æ°”çš„åˆ°å¤„ä¹±è·‘ï¼Œç„¶åè¢«ç‰µç€é¼»å­æ‰“ä¸€é¡¿ï¼Œè¿™ä¹Ÿè®¸æ˜¯æˆ‘è§‰å¾—æœ€å¼€å¿ƒçš„äº‹ï¼Œä»æœªè§‰å¾—å¤œæ™šä¼šå¦‚æ­¤å’Œè°ã€‚ å½“æœ‹å‹ä»¬èšçš„å¼€å¿ƒï¼Œå¿ƒé‡Œå¾ˆæƒ³ä¸å¤§å®¶æ‰“æˆä¸€ç‰‡ï¼Œå¯æ˜¯æ€»è§‰å¾—å“ªé‡Œä¸å¯¹ï¼Œæˆ‘çš„å½¢è±¡ï¼Œæˆ‘æ˜¯ä¸€ä¸ªå®‰é™çš„äººï¼Œè¿™æ ·é—¹ä¼šä¸ä¼šä¸æ­£å¸¸ï¼Œä½†å…¶å®å¿ƒé‡Œå¾ˆç¾¡æ…•ä»–ä»¬çš„åµåµé—¹é—¹ï¼Œç—›ç—›å¿«å¿«çš„highä¸€åœºã€‚å†…å‘çš„äººï¼Œæœ€å—ä¸äº†å§”å±ˆï¼Œå¯èƒ½ä¹Ÿåªæ˜¯æŸäº›äººå§ï¼Œå¯¹äºæˆ‘è‚¯å®šå°±æ˜¯è¿™æ ·çš„ï¼Œæƒ³è¯´è¯ï¼Œè¯´å‡ºæ¥çš„å¯èƒ½éƒ½æ˜¯æŠ±æ€¨ã€‚ å¯¹äºæŠ±æ€¨ï¼Œå…¶å®æˆ‘æ˜¯å¾ˆä¸æ„¿æ„æ‰¿è®¤çš„äº‹å®ã€‚ ç”šè‡³ï¼Œæˆ‘éƒ½è§‰å¾—æˆ‘çš„æ‰€ä½œæ‰€ä¸ºæ‰€æŠ±æ€¨ï¼Œéƒ½ä¸æ˜¯ä¸ºäº†è‡ªå·±ï¼Œåƒæäº†ä¸€ä¸ªæ„¤é’ï¼Œçœ‹ä¸æƒ¯çš„ä¸œè¥¿å¤ªå¤šï¼Œä¸åœçš„åœ¨ç»™è‡ªå·±æ–½åŠ æ— å½¢çš„è´Ÿæ‹…ï¼Œç›´åˆ°å‹å€’è‡ªå·±å–˜ä¸è¿‡æ°”ï¼Œæ‰åˆæ„Ÿå¹ä¸€ç•ªï¼Œè·Ÿåˆ«äººè®²èµ·äº†å¤§é“ç†ï¼Œè¯´ä»€ä¹ˆè¦åšä¸€ä¸ªå¿«ä¹çš„äººï¼Œåšä¸€ä¸ªå¯¹ç¤¾ä¼šæœ‰ç”¨çš„äºº ã€‚ æ²¡æœ‰è°ä¼šæ‰¿è®¤è‡ªå·±æŠ±æ€¨ï¼Œä¹Ÿæ²¡æœ‰è°æ„¿æ„å»å¬ä¸€ä¸ªäººæŠ±æ€¨ã€‚ æ„¤é’å¯¹æˆ‘æ¥è¯´ï¼Œå¯èƒ½æ˜¯ä¸€ç§ç†æƒ³çŠ¶æ€å§ã€‚æ€»è§‰å¾—æ„¤é’æ¯”æŠ±æ€¨æ›´èƒœä¸€ç­¹ï¼ŒæŠ±æ€¨åƒæäº†è´¬ä¹‰è¯ï¼Œåƒå°äººï¼Œåƒæ€¨å¦‡ï¼Œåƒé‚£äº›æ²¡äººæ„¿æ„æ¥è§¦çš„äººä¸ç‰©ã€‚æ€»ä¼šè§‰å¾—è¿™ä¸ªä¸åˆç†ï¼Œé‚£ä¸ªåº”è¯¥æ”¹æ”¹ï¼Œæœ‰å¥½ä¹Ÿæœ‰åï¼Œå´å¾ˆéš¾åšèµ·æ¥ï¼Œä¹ æƒ¯äº†å»æ•™å¯¼åˆ«äººï¼Œç”šè‡³å»æ•™åˆ«äººæ€ä¹ˆåšã€‚ è¯´å®è¯ï¼Œå¦‚æœæˆ‘æ˜¯æˆ‘ï¼Œæˆ‘ä¸æ„¿æ„å’Œè¿™æ ·çš„äººåšæœ‹å‹ï¼Œä»–å¾ˆå­¤ç‹¬ã€‚","categories":[{"name":"suibi","slug":"suibi","permalink":"https://blog.yuhanle.com/categories/suibi/"}],"tags":[{"name":"think","slug":"think","permalink":"https://blog.yuhanle.com/tags/think/"}]},{"title":"æˆ‘ç¦»æˆåŠŸåˆè¿‘äº†ä¸€æ­¥","slug":"i-am-closer-away-from-success","date":"2015-08-20T04:00:00.000Z","updated":"2021-10-21T08:18:48.337Z","comments":true,"path":"2015/08/20/i-am-closer-away-from-success/","link":"","permalink":"https://blog.yuhanle.com/2015/08/20/i-am-closer-away-from-success/","excerpt":"æ‰‹æœºå‡çº§å‡ºäº†é—®é¢˜ï¼Œå·¥ä½œä¹Ÿå°±æ²¡æ³•ç»§ç»­ã€‚ ä¸Šæ¬¡ï¼Œå¬åˆ°äº†åŒäº‹çš„è¿™å¥è¯ï¼Œæˆ‘æ€è€ƒäº†å¾ˆä¹…ï¼ŒçŸ­çŸ­çš„ä¹ä¸ªå­—ï¼Œæ¦‚æ‹¬äº†åœ¨ä¸Šæµ·è¿™ä¸ªåŸå¸‚å¥‹æ–—äº”å…­å¹´çš„æ— å¥ˆï¼ŒåŒæ—¶åˆå¯¹æœªæ¥å……æ»¡äº†å¸Œæœ›ã€‚","text":"æ‰‹æœºå‡çº§å‡ºäº†é—®é¢˜ï¼Œå·¥ä½œä¹Ÿå°±æ²¡æ³•ç»§ç»­ã€‚ ä¸Šæ¬¡ï¼Œå¬åˆ°äº†åŒäº‹çš„è¿™å¥è¯ï¼Œæˆ‘æ€è€ƒäº†å¾ˆä¹…ï¼ŒçŸ­çŸ­çš„ä¹ä¸ªå­—ï¼Œæ¦‚æ‹¬äº†åœ¨ä¸Šæµ·è¿™ä¸ªåŸå¸‚å¥‹æ–—äº”å…­å¹´çš„æ— å¥ˆï¼ŒåŒæ—¶åˆå¯¹æœªæ¥å……æ»¡äº†å¸Œæœ›ã€‚ è¯­æ–‡ä¸å¥½ï¼Œä¸çŸ¥é“æ€ä¹ˆæ‰èƒ½æ›´å¥½åœ°è§£é‡Šè¿™å‡ ä¸ªå­—ï¼Œæ±‰å­—å¾ˆæœ‰å¸å¼•åŠ›ï¼Œç‰¹åˆ«æ˜¯è¿™äº›è®©äººæ€ç»ªä¹±é£çš„ï¼Œå¦‚æœä¸æ˜¯æœ¬äººï¼Œæ ¹æœ¬ä¸å¯èƒ½äº†è§£åˆ°æŸäººè¯´è¿™æ—¶çš„çœŸå®æ„Ÿå—ï¼Œæ¯ä¸ªäººçš„ç»å†ä¸åŒï¼Œè§è§£ä¸åŒã€‚ è¯å¤ªå¤šï¼Œæ€»æ„Ÿè§‰è¯´ä¸å®Œï¼Œå¾—å…ˆèµ·ä¸€ä¸ªå¤´å„¿ã€‚ å…¶å®é‚£å¤©ï¼Œåœ¨è½¦ä¸Šï¼Œæƒ³åˆ°è¿™ä¸ªè¯é¢˜çš„æ—¶å€™ï¼Œæˆ‘å°±è§‰å¾—å‡­å€Ÿæ‰‹æœºä½™ä¸‹çš„ç”µé‡ï¼Œæ ¹æœ¬ä¸å¤Ÿæˆ‘ç”¨ï¼Œè¿‡äº†å‡ å¤©å›åˆ°å…¬å¸ï¼Œå·®ç‚¹å¿˜äº†è¿™ä»¶äº‹ï¼Œæ€ªä¸å¾—å¤è¯è¯´çš„åŠæ—¶è¡Œä¹ï¼Œè¿˜æ˜¯å¾ˆæœ‰é“ç†ã€‚ è¯´è¿™ä¹ä¸ªå­—ï¼Œåº”è¯¥æ˜¯é«˜å…´çš„ã€‚ å‡ å¹´ç”šè‡³å‡ åå¹´çš„åŠªåŠ›ï¼Œæ‰æœ‰ä¸€æ¬¡ä»¤è‡ªå·±æ»¡æ„çš„ç»“æœã€‚æƒ³èµ·äº†è¿‡å»ï¼Œä»å¤§å­¦å¼€å§‹ï¼Œæ‰è€ƒè™‘æˆåŠŸçš„é—®é¢˜ï¼Œä½†éƒ½å› ä¸ºè‡ªè®¤ä¸ºå¹³å‡¡äººå±…å¤šï¼Œå´ä¸€ç›´æƒ³ç€åšä¸€ä¸ªå¹³å‡¡çš„äººï¼Œæ²¡ä»€ä¹ˆè¿½æ±‚ã€‚è™½ç„¶å¦‚æ­¤ï¼Œä½†ä¹Ÿä¼šå› ä¸ºä¸€äº›å°çš„æˆå°±è€Œæ·±æ·±è‡ªå–œï¼Œä½œä¸ºä¸€åç†å·¥ç”·ï¼Œæš—åœ°é‡Œä¹Ÿä¼šæ‰¾ä¸€äº›åŠ¨æ‰‹æ€§è¾ƒå¼ºçš„äº‹æƒ…æ¥æ‰¾æ‰¾æˆå°±æ„Ÿï¼Œåˆ·æœºæ‹†æœ¬éƒ½æ˜¯å®¶å¸¸ä¾¿é¥­ï¼Œæ—¶é—´ä¹…äº†ï¼Œæ…¢æ…¢ä»å…´è¶£å˜æˆäº†æ— èŠæ‰“å‘æ—¶é—´ã€‚ æœ‰æ®µæ—¶é—´ï¼Œéƒ½ä¼šæœ‰ä¸€æ®µå–œæ¬¢å¹²çš„äº‹ï¼Œä½†æ˜¯æ²¡æœ‰åšæŒå¤šä¹…ï¼Œæ€»ä¼šç»™è‡ªå·±æ‰¾è¿™æ ·é‚£æ ·çš„ç†ç”±ï¼Œè®©å¶å°”çš„å…´è¶£éƒ½æ·¡å‡ºåœ¨è‡ªå·±çš„ä¸–ç•Œã€‚æœ‰å¾ˆå¤šäººè¯´ï¼Œä¸“ä¸šæ˜¯å·¥ä½œï¼Œå…´è¶£æ˜¯ç”Ÿæ´»ã€‚å¦‚æœèƒ½æŠŠå…´è¶£åšæˆå·¥ä½œï¼Œåº”è¯¥æ˜¯æœ€å¥½çš„å·¥ä½œå§ï¼ è¯´è¿™ä¹ä¸ªå­—ï¼Œåº”è¯¥æ˜¯æ— å¥ˆçš„ã€‚ å­¦ç”Ÿæ—¶ä»£ï¼Œäººäººéƒ½å‘å¾€ç€ç¬¬ä¸€åã€‚ä½å±…åƒå¹´è€äºŒå¤ªä¹…çš„è¯ï¼Œæ•´ä¸ªäººéƒ½ä¼šä¸å¥½äº†ï¼Œå·¥ä½œæ²¡æœ‰æ¿€æƒ…ï¼Œç”Ÿæ´»æ²¡æœ‰å°½å¤´ã€‚ç¦»æˆåŠŸåˆè¿‘äº†ä¸€æ­¥ï¼Œä¸è¿‡è·ç¦»æ˜¯æœªçŸ¥çš„ï¼Œç»“å±€æ˜¯å¾…å®šçš„ï¼Œèƒ½ä¸èƒ½ç»§ç»­èµ°ä¸‹å»ä¹Ÿå¾—çœ‹å¿ƒæƒ…ã€‚ä¹…äº†ï¼Œéƒ½éº»æœ¨äº†ï¼Œæ·¡å´äº†ã€‚é¢å¯¹ç€å‘¨å›´è¶Šæ¥è¶Šå¤šçš„äººï¼Œæˆ‘ä»¬å¼€å§‹èŒ«ç„¶ä¸çŸ¥æ‰€æªï¼Œæˆ–è€…å¦„è‡ªè²è–„ï¼Œä¸»åŠ¨çš„æŠŠè‡ªå·±â€œå®‰æ’â€åˆ°ä¸€ä¸ªè¾ƒä½çš„ä½ç½®ä¸Šã€‚è¿™ä¹Ÿè®¸æ˜¯å‰è¿›çš„è·¯ä¸Šï¼Œè®¸å¤šäººéƒ½è¦èµ°çš„ä¸€æ¡è·¯ã€‚ æœ‰å¤šå°‘äººå’Œæˆ‘ä¸€æ ·ï¼Œååœ¨ä¸è¶³10å¹³ç±³çš„ç©ºé—´é‡Œï¼Œçœ‹ç€ä¹¦é‡Œä¹ä¸‡äº”åƒå…¬é‡Œçš„ç»šä¸½ã€‚åˆæˆ–æ˜¯å’Œæˆ‘ä¸€æ ·ï¼Œæ‹¥æœ‰ä¸€é¢—æ¯”ä¹ä¸‡äº”åƒå…¬é‡Œè¿˜è¾½é˜”çš„å¿ƒï¼Œå´ååœ¨ä¸è¶³ä¸€å¹³ç±³çš„æ¤…å­ä¸Šã€‚","categories":[{"name":"suibi","slug":"suibi","permalink":"https://blog.yuhanle.com/categories/suibi/"}],"tags":[{"name":"think","slug":"think","permalink":"https://blog.yuhanle.com/tags/think/"}]},{"title":"ä½ è¿˜èƒ½åšæŠ€æœ¯å¤šä¹…","slug":"how-long-can-you-do-it","date":"2015-07-20T05:00:00.000Z","updated":"2021-10-21T08:18:48.336Z","comments":true,"path":"2015/07/20/how-long-can-you-do-it/","link":"","permalink":"https://blog.yuhanle.com/2015/07/20/how-long-can-you-do-it/","excerpt":"è¿™æ—¶å€™ï¼Œæˆ‘åœ¨è½¦ä¸Šã€‚ è·ç¦»é‚£æ¬¡é¢è¯•å·²ç»æœ‰äº”ä¸ªæœˆé›¶åäº”å¤©ï¼Œ","text":"è¿™æ—¶å€™ï¼Œæˆ‘åœ¨è½¦ä¸Šã€‚ è·ç¦»é‚£æ¬¡é¢è¯•å·²ç»æœ‰äº”ä¸ªæœˆé›¶åäº”å¤©ï¼Œåæ¥å°±é‡åˆ°äº†ç°åœ¨çš„è€å¤§ï¼Œç°åœ¨è¿™ä¸ªå…¬å¸ã€‚ ä»¥æ€§æ ¼è€Œè¨€ï¼ŒåšæŠ€æœ¯å†å¥½ä¸è¿‡ï¼Œç›´åˆ°å‰ä¸¤å¤©å¤´é—®äº†æˆ‘ï¼Œä½ è§‰å¾—ä½ åšæŠ€æœ¯èƒ½åšå¤šä¹…ï¼Ÿ è¿™ä¸ªé—®é¢˜å¹¶ä¸é™Œç”Ÿï¼Œæ¯•ä¸šåä¸€ä¸ªäººæ¥åˆ°ä¸Šæµ·ï¼Œèµ°ä¹‹å‰å¥³æœ‹å‹ä¹Ÿé—®è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼Œéšçº¦è®°å¾—å½“æ—¶å¹¶æ²¡æœ‰æƒ³åœ¨ä¸Šæµ·å‘†å¤ªä¹…ï¼Œåšä¸ªä¸‰äº”å¹´å§ï¼Œç„¶åå›éƒ‘å·ä¸è‡ªå·±æƒ³åšçš„äº‹ä¸šï¼Œè‡³äºä»€ä¹ˆäº‹ä¸šï¼Œæœ‰å¯èƒ½ä»ç„¶æ˜¯æŠ€æœ¯ã€‚ æˆ‘æŠŠè¿™ä¸ªå›ç­”ç»™äº†å¤´å„¿ï¼Œä»–å¬å®Œä¹‹åç¬‘äº†ç¬‘ï¼Œè¯´å½“æ—¶ä½ æ¥é¢è¯•çš„æ—¶å€™ï¼Œæˆ‘é—®è¿‡ä½ è¿™ä¸ªé—®é¢˜ï¼Œä½ ä¸æ˜¯è¿™æ ·å›ç­”çš„ã€‚ä¸çŸ¥é“æˆ‘ä¸ºä»€ä¹ˆå¿ƒè™šäº†ï¼Œæˆ‘çªç„¶ä¸çŸ¥é“è¯¥è¯´ä»€ä¹ˆï¼Œè¯¥æ€ä¹ˆå›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå°±æŠŠè¯é¢˜è½¬ç§»åˆ°å…¬å¸ä¸€ä½åšäº†åå‡ å¹´æŠ€æœ¯çš„åŒäº‹èº«ä¸Šï¼Œå½“ç„¶æˆ‘ä»¬å¤´å„¿ç»å†æ›´å¤šæ›´ä¸°å¯Œã€‚æˆ‘æ‰¿è®¤ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¸€ç›´åœ¨å›é¿ï¼Œä»¥è‡³äºæ¯ä¸€æ¬¡çš„å›ç­”éƒ½ä¼šä¸åŒï¼Œè€Œä¸”æˆ‘æ²¡æœ‰é‡è§†è¿‡å®ƒï¼Œå› æ­¤ä¹Ÿå°±æ¯«æ— å°è±¡å½“åˆæ˜¯æ€ä¹ˆå›ç­”çš„ã€‚ å¯¹äºæˆ‘æ¥è¯´ï¼ŒæŠ€æœ¯æ€§çš„å·¥ä½œå¯¹æˆ‘å¾ˆæœ‰æŒ‘æˆ˜ï¼Œä¹Ÿå¾ˆæœ‰å¸å¼•åŠ›ï¼Œå¦‚æœå¯ä»¥ï¼Œæˆ‘æ„¿æ„åœ¨è¿™æ¡è·¯ä¸Šèµ°å¾—æ›´è¿œã€‚ä¸‰äº”å¹´åï¼Œæˆ‘åœ¨åšä»€ä¹ˆï¼Œå¾ˆéš¾é¢„æµ‹ï¼Œç‰¹åˆ«æ˜¯äº’è”ç½‘è¿™ä¸ªæ–¹å‘ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯ä¸€æˆä¸å˜çš„ï¼Œç°åœ¨è¯´ä»€ä¹ˆéƒ½å¤ªæ—©ï¼Œä¸è¿‡è¿™è‚¯å®šä¸æ˜¯å¤´å„¿è¦çš„ç­”æ¡ˆã€‚æˆ‘è§‰å¾—ï¼Œåº”è¯¥æœ‰ä¸€ä¸ªæ”¯æ’‘ä½ ç›´èµ°è¿™æ¡è·¯çš„å‹‡æ°”ï¼Œæˆ‘å¾ˆå¸Œæœ›æˆ‘çš„ç­”å¤æ˜¯ä¸€ç›´åšä¸‹å»ï¼Œä½†æ˜¯ç°å®æ˜¯ä¸å…è®¸å‹‡æ°”æ¥ä»»æ€§çš„ã€‚ æˆ‘å€’æ˜¯å¾ˆçæƒœè¿™å‡ å¹´çš„ç»å†å’Œç»éªŒï¼Œä¸‰äº”å¹´åæˆ‘åœ¨åšä»€ä¹ˆè·Ÿè¿™äº›æ¯æ¯ç›¸å…³ã€‚ è®²åˆ°è¿™å„¿ï¼Œæƒ³èµ·äº†åˆšæ¥å…¬å¸é‚£å¹´ï¼Œå¹´ä¼šä¸Šæœ‰ä½åŒäº‹æ‹¿äº†ä¸€ä¸ªå¤§å¥–ï¼Œä½†æ˜¯ä¸æ˜¯æœ€ä½³çš„ï¼Œè¿™ä½åŒäº‹æ˜¯åšå®‰å“å¼€å‘çš„ï¼Œå¹³æ—¶è¯ä¸å¤šï¼Œæˆ‘ä»¬ä¹Ÿåªæ˜¯åœ¨å·¥ä½œé—®é¢˜ä¸Šæœ‰è¿‡äº¤æµï¼Œä»–çš„è·å¥–æ„Ÿè¨€å°±ä¸€å¥è¯ï¼Œæˆ‘ç¦»æˆåŠŸåˆè¿‘äº†ä¸€æ­¥ã€‚ è¿™å°†æ˜¯ä¸‹ä¸€ä¸ªè¯é¢˜ï¼Œæš‚ä¸è®¨è®ºã€‚ å›åˆ°æ­£é¢˜ä¸Šï¼Œä¸ç®¡æ˜¯åšä»€ä¹ˆï¼ŒæŠ€æœ¯ä¹Ÿå¥½ï¼Œé”€å”®ä¹Ÿå¥½ï¼Œæˆ–è€…æ˜¯ä»€ä¹ˆå¤§è€æ¿ï¼Œä¸æ»¡è¶³ç°çŠ¶ï¼Œå°±è‚¯å®šä¼šé€šè¿‡æ”¹å˜è‡ªå·±æ¥é€‚åº”å®ƒï¼Œå½“ç„¶ç»å¤§éƒ¨åˆ†æ˜¯ä¸ºäº†å»æ”¹å–„ã€‚æ‰€ä»¥ï¼Œå¯¹äºè¿™ä¸ªè¯é¢˜ï¼Œèƒ½åšæŠ€æœ¯å¤šä¹…ï¼Œå¹¶ä¸æ˜¯æˆ‘èƒ½å†³å®šçš„ï¼Œæˆ‘åªæ˜¯è¯´å‡ºäº†æˆ‘æ‰€æƒ³çš„ï¼ŒThat is enough!","categories":[{"name":"suibi","slug":"suibi","permalink":"https://blog.yuhanle.com/categories/suibi/"}],"tags":[{"name":"think","slug":"think","permalink":"https://blog.yuhanle.com/tags/think/"}]},{"title":"iOS-BLEè“ç‰™å¼€å‘æŒç»­æ›´æ–°","slug":"ble-development-continuously-update","date":"2015-06-24T09:00:00.000Z","updated":"2021-10-21T08:18:48.334Z","comments":true,"path":"2015/06/24/ble-development-continuously-update/","link":"","permalink":"https://blog.yuhanle.com/2015/06/24/ble-development-continuously-update/","excerpt":"åœ¨å†™è¿™ä¸ªåšå®¢ä¹‹å‰ï¼Œç©ºä½™æ—¶é—´æŠ½çœ‹äº†è¿‘ä¸€ä¸ªæœˆçš„æ–‡æ¡£å’ŒDemoï¼Œç³»ç»Ÿç»™çš„è§£é‡Šå¾ˆè¯¦ç»†ï¼Œæ¥å£ä¹Ÿæ¯”è¾ƒå®ç”¨ï¼Œå”¯ç‹¬æœ‰ä¸€ç‚¹ï¼Œå¯¹äºè®¾å¤‡çš„å”¯ä¸€æ ‡ç¤ºï¼Œç½‘ä¸Šä¼—è¯´çº·çº­ï¼Œåœ¨è¿™é‡Œæˆ‘ç›®å‰ä¹Ÿè¿˜æ²¡æœ‰è‡ªå·±çš„è§è§£ï¼Œåªæ˜¯åœ¨ä¸æ–­çš„æµ‹è¯•å„ç§æƒ…å†µï¼Œäº²æµ‹åŒä¸€è®¾å¤‡çš„UUIDå¯¹äºæ¯å°iPhoneè®¾å¤‡éƒ½ä¸ä¸€æ ·ï¼Œåªèƒ½å°½é‡ä¿è¯è®¾å¤‡çš„å”¯ä¸€æ€§ï¼Œç‰¹åˆ«æ˜¯è‡ªåŠ¨é‡è¿çš„è¿‡ç¨‹ï¼Œè®©ç”¨æˆ·æ²¡æœ‰æ„ŸçŸ¥ã€‚","text":"åœ¨å†™è¿™ä¸ªåšå®¢ä¹‹å‰ï¼Œç©ºä½™æ—¶é—´æŠ½çœ‹äº†è¿‘ä¸€ä¸ªæœˆçš„æ–‡æ¡£å’ŒDemoï¼Œç³»ç»Ÿç»™çš„è§£é‡Šå¾ˆè¯¦ç»†ï¼Œæ¥å£ä¹Ÿæ¯”è¾ƒå®ç”¨ï¼Œå”¯ç‹¬æœ‰ä¸€ç‚¹ï¼Œå¯¹äºè®¾å¤‡çš„å”¯ä¸€æ ‡ç¤ºï¼Œç½‘ä¸Šä¼—è¯´çº·çº­ï¼Œåœ¨è¿™é‡Œæˆ‘ç›®å‰ä¹Ÿè¿˜æ²¡æœ‰è‡ªå·±çš„è§è§£ï¼Œåªæ˜¯åœ¨ä¸æ–­çš„æµ‹è¯•å„ç§æƒ…å†µï¼Œäº²æµ‹åŒä¸€è®¾å¤‡çš„UUIDå¯¹äºæ¯å°iPhoneè®¾å¤‡éƒ½ä¸ä¸€æ ·ï¼Œåªèƒ½å°½é‡ä¿è¯è®¾å¤‡çš„å”¯ä¸€æ€§ï¼Œç‰¹åˆ«æ˜¯è‡ªåŠ¨é‡è¿çš„è¿‡ç¨‹ï¼Œè®©ç”¨æˆ·æ²¡æœ‰æ„ŸçŸ¥ã€‚æˆ‘ä¹‹å‰ä¹Ÿæ‰¾äº†å¾ˆä¹…ï¼Œå‘ç°CBCentralManagerå’ŒCBPeripheralé‡Œè¾¹éƒ½æ‰¾ä¸åˆ°å’ŒMacåœ°å€æœ‰å…³çš„ä¸œè¥¿ï¼Œåæ¥å‘ç°ä¸€èˆ¬æ˜¯å¤–è®¾åœ¨Device InformationæœåŠ¡ä¸­çš„æŸä¸ªç‰¹å¾è¿”å›çš„ã€‚ç»è¿‡ä¸ç¡¬ä»¶å·¥ç¨‹å¸ˆçš„åå•†ï¼Œå†³å®šAPPç«¯å°†ä»è¿™ä¸ªæœåŠ¡ä¸­è·å–åˆ°è“ç‰™è®¾å¤‡ä»¥åŠæˆ‘çš„iPhoneæ‰‹æœºçš„è“ç‰™Macåœ°å€ï¼Œä¸ºè‡ªåŠ¨è¿æ¥çš„å”¯ä¸€æ€§åšå‡†å¤‡ã€‚ è¿™é‡Œç»è¿‡å’Œç¡¬ä»¶å·¥ç¨‹å¸ˆçš„æµ‹è¯•ï¼Œå‘ç°è®¾å¤‡ç«¯åœ¨è·å–æ‰‹æœºè“ç‰™MACåœ°å€çš„æ—¶å€™ï¼Œå½“ç”¨æˆ·æ‰‹æœºé‡å¯ä¹‹åï¼Œè¿™ä¸ªåœ°å€ä¹Ÿæ˜¯ä¼šéšæœºå˜åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½œä¸ºå¼€å‘è€…ï¼Œåªæœ‰è®¾å¤‡çš„MACåœ°å€èƒ½å¤Ÿä¿æŒå”¯ä¸€æ€§ä¸å˜åŒ–ã€‚ å¦‚æœ‰ç–‘é—®çš„æœ‹å‹å¯ä»¥å…ˆå»è¿™é‡Œç…ä¸€ç…ï¼šä¸€ä¸ªå…³äºè“ç‰™4.0çš„æ™ºèƒ½ç¡¬ä»¶Demoè¯¦è§£ ä¸‹é¢æ˜¯ä¸¤å°iPhone6è¿æ¥åŒä¸€å°è“ç‰™è®¾å¤‡çš„ç»“æœï¼š 1234**æˆåŠŸè¿æ¥**** peripheral: &lt;CBPeripheral: 0x1700f4500, identifier = 50084F69-BA5A-34AC-8A6E-6F0CEADB21CD, name = 555555555588, state = connected&gt; with UUID: &lt;__NSConcreteUUID 0x17003d980&gt; 50084F69-BA5A-34AC-8A6E-6F0CEADB21CD************æˆåŠŸè¿æ¥**** peripheral: &lt;CBPeripheral: 0x1742e3000, identifier = 55B7D759-0F1E-6271-EA14-BC5A9C9EEEEC, name = 555555555588, state = connected&gt; with UUID: &lt;__NSConcreteUUID 0x174036c00&gt; 55B7D759-0F1E-6271-EA14-BC5A9C9EEEEC** è¿›å…¥æ­£é¢˜iOSçš„è“ç‰™å¼€å‘å¾ˆç®€å•ï¼Œåªè¦åŒ…å«ä¸€ä¸ªåº“ï¼Œåˆ›å»ºCBCentralManagerå®ä¾‹ï¼Œå®ç°ä»£ç†æ–¹æ³•ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥å’Œè®¾å¤‡è¿›è¡Œé€šä¿¡ã€‚ 1#import &lt;CoreBluetooth/CoreBluetooth.h&gt; é¦–å…ˆå¯ä»¥å®šä¹‰ä¸€äº›å³å°†ä½¿ç”¨åˆ°çš„UUIDçš„å® 123#define kPeripheralName @&quot;360qws Electric Bike Service&quot; //å¤–å›´è®¾å¤‡åç§°#define kServiceUUID @&quot;7CACEB8B-DFC4-4A40-A942-AAD653D174DC&quot; //æœåŠ¡çš„UUID#define kCharacteristicUUID @&quot;282A67B2-8DAB-4577-A42F-C4871A3EEC4F&quot; //ç‰¹å¾çš„UUID å¦‚æœä¸æ˜¯æŠŠæ‰‹æœºä½œä¸ºä¸­å¿ƒè®¾å¤‡çš„è¯ï¼Œè¿™äº›æ²¡æœ‰å¿…è¦è®¾ç½®ã€‚è¿™é‡Œæˆ‘ä¹Ÿæ²¡æœ‰ç”¨åˆ°ï¼Œä»…ä»…æ˜¯æäº†ä¸€ä¸‹ï¼Œå…·ä½“æ“ä½œåç»­æ·»åŠ ã€‚ å¯¹äºç”ŸæˆUUIDï¼Œå¤§å®¶å¯ä»¥è°·æ­Œä¸€ä¸‹ï¼Œç›´æ¥é€šè¿‡macç»ˆç«¯ç”Ÿæˆ32ä½UUIDã€‚ å£°æ˜å±æ€§ 12345678910111213@property (weak, nonatomic) IBOutlet UITableView *bluetoothTable;@property (weak, nonatomic) IBOutlet UITextView *resultTextView;@property BOOL cbReady;@property(nonatomic) float batteryValue;@property (nonatomic, strong) CBCentralManager *manager;@property (nonatomic, strong) CBPeripheral *peripheral;@property (strong ,nonatomic) CBCharacteristic *writeCharacteristic;@property (strong,nonatomic) NSMutableArray *nDevices;@property (strong,nonatomic) NSMutableArray *nServices;@property (strong,nonatomic) NSMutableArray *nCharacteristics; éµå®ˆåè®®(è¿™é‡Œæˆ‘ç”¨åˆ°äº†table) 1@interface ViewController () &lt;CBCentralManagerDelegate, CBPeripheralDelegate, UITableViewDataSource, UITableViewDelegate&gt; åˆå§‹åŒ–æ•°æ® 123456789101112131415- (void)viewDidLoad &#123; [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. self.manager = [[CBCentralManager alloc] initWithDelegate:self queue:nil]; _cbReady = false; _nDevices = [[NSMutableArray alloc]init]; _nServices = [[NSMutableArray alloc]init]; _nCharacteristics = [[NSMutableArray alloc]init]; _bluetoothTable.delegate = self; _bluetoothTable.dataSource = self; count = 0;&#125; å®ç°è“ç‰™çš„åè®®æ–¹æ³• ï¼ˆ1ï¼‰æ£€æµ‹è“ç‰™çŠ¶æ€ 123456789101112131415161718//å¼€å§‹æŸ¥çœ‹æœåŠ¡ï¼Œè“ç‰™å¼€å¯-(void)centralManagerDidUpdateState:(CBCentralManager *)central&#123; switch (central.state) &#123; case CBCentralManagerStatePoweredOn: &#123; [self updateLog:@&quot;è“ç‰™å·²æ‰“å¼€,è¯·æ‰«æå¤–è®¾&quot;]; [_activity startAnimating]; [_manager scanForPeripheralsWithServices:@[[CBUUID UUIDWithString:@&quot;FF15&quot;]] options:@&#123;CBCentralManagerScanOptionAllowDuplicatesKey : @YES &#125;]; &#125; break; case CBCentralManagerStatePoweredOff: [self updateLog:@&quot;è“ç‰™æ²¡æœ‰æ‰“å¼€,è¯·å…ˆæ‰“å¼€è“ç‰™&quot;]; break; default: break; &#125;&#125; æ³¨ï¼š 12// @[[CBUUID UUIDWithString:@&quot;FF15&quot;]] æ˜¯ä¸ºäº†è¿‡æ»¤æ‰å…¶ä»–è®¾å¤‡ï¼Œå¯ä»¥æœç´¢ç‰¹å®šæ ‡ç¤ºçš„è®¾å¤‡ã€‚[_manager scanForPeripheralsWithServices:@[[CBUUID UUIDWithString:@&quot;FF15&quot;]] options:@&#123;CBCentralManagerScanOptionAllowDuplicatesKey : @YES &#125;]; ï¼ˆ2ï¼‰æ£€æµ‹åˆ°å¤–è®¾åï¼Œåœæ­¢æ‰«æï¼Œè¿æ¥è®¾å¤‡ 12345678910111213141516171819202122232425//æŸ¥åˆ°å¤–è®¾åï¼Œåœæ­¢æ‰«æï¼Œè¿æ¥è®¾å¤‡-(void)centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary *)advertisementData RSSI:(NSNumber *)RSSI&#123; [self updateLog:[NSString stringWithFormat:@&quot;å·²å‘ç° peripheral: %@ rssi: %@, UUID: %@ advertisementData: %@ &quot;, peripheral, RSSI, peripheral.identifier, advertisementData]]; _peripheral = peripheral; [_manager connectPeripheral:_peripheral options:nil]; [self.manager stopScan]; [_activity stopAnimating]; BOOL replace = NO; // Match if we have this device from before for (int i=0; i &lt; _nDevices.count; i++) &#123; CBPeripheral *p = [_nDevices objectAtIndex:i]; if ([p isEqual:peripheral]) &#123; [_nDevices replaceObjectAtIndex:i withObject:peripheral]; replace = YES; &#125; &#125; if (!replace) &#123; [_nDevices addObject:peripheral]; [_bluetoothTable reloadData]; &#125;&#125; ï¼ˆ3ï¼‰è¿æ¥å¤–è®¾åçš„å¤„ç† 123456789101112131415161718192021222324//è¿æ¥å¤–è®¾æˆåŠŸï¼Œå¼€å§‹å‘ç°æœåŠ¡- (void)centralManager:(CBCentralManager *)central didConnectPeripheral:(CBPeripheral *)peripheral &#123; NSLog(@&quot;%@&quot;, [NSString stringWithFormat:@&quot;æˆåŠŸè¿æ¥ peripheral: %@ with UUID: %@&quot;,peripheral,peripheral.identifier]); [self updateLog:[NSString stringWithFormat:@&quot;æˆåŠŸè¿æ¥ peripheral: %@ with UUID: %@&quot;,peripheral,peripheral.identifier]]; [self.peripheral setDelegate:self]; [self.peripheral discoverServices:nil]; [self updateLog:@&quot;æ‰«ææœåŠ¡&quot;];&#125;//è¿æ¥å¤–è®¾å¤±è´¥-(void)centralManager:(CBCentralManager *)central didFailToConnectPeripheral:(CBPeripheral *)peripheral error:(NSError *)error&#123; NSLog(@&quot;%@&quot;,error);&#125;-(void)peripheralDidUpdateRSSI:(CBPeripheral *)peripheral error:(NSError *)error&#123; NSLog(@&quot;%s,%@&quot;,__PRETTY_FUNCTION__,peripheral); int rssi = abs([peripheral.RSSI intValue]); CGFloat ci = (rssi - 49) / (10 * 4.); NSString *length = [NSString stringWithFormat:@&quot;å‘ç°BLT4.0çƒ­ç‚¹:%@,è·ç¦»:%.1fm&quot;,_peripheral,pow(10,ci)]; [self updateLog:[NSString stringWithFormat:@&quot;è·ç¦»ï¼š%@&quot;, length]];&#125; ï¼ˆ4ï¼‰å‘ç°æœåŠ¡å’Œæœç´¢åˆ°çš„Characteristice 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667//å·²å‘ç°æœåŠ¡-(void) peripheral:(CBPeripheral *)peripheral didDiscoverServices:(NSError *)error&#123; [self updateLog:@&quot;å‘ç°æœåŠ¡.&quot;]; int i=0; for (CBService *s in peripheral.services) &#123; [self.nServices addObject:s]; &#125; for (CBService *s in peripheral.services) &#123; [self updateLog:[NSString stringWithFormat:@&quot;%d :æœåŠ¡ UUID: %@(%@)&quot;,i,s.UUID.data,s.UUID]]; i++; [peripheral discoverCharacteristics:nil forService:s]; if ([s.UUID isEqual:[CBUUID UUIDWithString:@&quot;FF15&quot;]]) &#123; BOOL replace = NO; // Match if we have this device from before for (int i=0; i &lt; _nDevices.count; i++) &#123; CBPeripheral *p = [_nDevices objectAtIndex:i]; if ([p isEqual:peripheral]) &#123; [_nDevices replaceObjectAtIndex:i withObject:peripheral]; replace = YES; &#125; &#125; if (!replace) &#123; [_nDevices addObject:peripheral]; [_bluetoothTable reloadData]; &#125; &#125; &#125;&#125;//å·²æœç´¢åˆ°Characteristics-(void) peripheral:(CBPeripheral *)peripheral didDiscoverCharacteristicsForService:(CBService *)service error:(NSError *)error&#123; [self updateLog:[NSString stringWithFormat:@&quot;å‘ç°ç‰¹å¾çš„æœåŠ¡:%@ (%@)&quot;,service.UUID.data ,service.UUID]]; for (CBCharacteristic *c in service.characteristics) &#123; [self updateLog:[NSString stringWithFormat:@&quot;ç‰¹å¾ UUID: %@ (%@)&quot;,c.UUID.data,c.UUID]]; if ([c.UUID isEqual:[CBUUID UUIDWithString:@&quot;FF01&quot;]]) &#123; _writeCharacteristic = c; &#125; if ([c.UUID isEqual:[CBUUID UUIDWithString:@&quot;FF02&quot;]]) &#123; [_peripheral readValueForCharacteristic:c]; [_peripheral setNotifyValue:YES forCharacteristic:c]; &#125; if ([c.UUID isEqual:[CBUUID UUIDWithString:@&quot;FF04&quot;]]) &#123; [_peripheral readValueForCharacteristic:c]; &#125; if ([c.UUID isEqual:[CBUUID UUIDWithString:@&quot;FF05&quot;]]) &#123; [_peripheral readValueForCharacteristic:c]; [_peripheral setNotifyValue:YES forCharacteristic:c]; &#125; if ([c.UUID isEqual:[CBUUID UUIDWithString:@&quot;FFA1&quot;]]) &#123; [_peripheral readRSSI]; &#125; [_nCharacteristics addObject:c]; &#125;&#125;- (void)centralManager:(CBCentralManager *)central didDisconnectPeripheral:(CBPeripheral *)peripheral error:(NSError *)error &#123; [self updateLog:[NSString stringWithFormat:@&quot;å·²æ–­å¼€ä¸è®¾å¤‡:[%@]çš„è¿æ¥&quot;, peripheral.name]];&#125; ï¼ˆ5ï¼‰è·å–å¤–è®¾å‘æ¥çš„æ•°æ® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119//è·å–å¤–è®¾å‘æ¥çš„æ•°æ®ï¼Œä¸è®ºæ˜¯readå’Œnotify,è·å–æ•°æ®éƒ½æ˜¯ä»è¿™ä¸ªæ–¹æ³•ä¸­è¯»å–ã€‚- (void)peripheral:(CBPeripheral *)peripheral didUpdateValueForCharacteristic:(CBCharacteristic *)characteristic error:(NSError *)error&#123; if ([characteristic.UUID isEqual:[CBUUID UUIDWithString:@&quot;FF02&quot;]]) &#123; NSData * data = characteristic.value; Byte * resultByte = (Byte *)[data bytes]; for(int i=0;i&lt;[data length];i++) printf(&quot;testByteFF02[%d] = %d\\n&quot;,i,resultByte[i]); if (resultByte[1] == 0) &#123; switch (resultByte[0]) &#123; case 3: // åŠ è§£é” &#123; if (resultByte[2] == 0) &#123; [self updateLog:@&quot;æ’¤é˜²æˆåŠŸ!!!&quot;]; &#125;else if (resultByte[2] == 1) &#123; [self updateLog:@&quot;è®¾é˜²æˆåŠŸ!!!&quot;]; &#125; &#125; break; case 4: // å¼€åæ¡¶ &#123; if (resultByte[2] == 0) &#123; [self updateLog:@&quot;å…³åæ¡¶æˆåŠŸ!!!&quot;]; &#125;else if (resultByte[2] == 1) &#123; [self updateLog:@&quot;å¼€åæ¡¶æˆåŠŸ!!!&quot;]; &#125; &#125; break; case 5: // é”å®šç”µæœº &#123; if (resultByte[2] == 0) &#123; [self updateLog:@&quot;è§£é”ç”µæœºæ§åˆ¶å™¨æˆåŠŸ!!!&quot;]; &#125;else if (resultByte[2] == 1) &#123; [self updateLog:@&quot;é”å®šç”µæœºæ§åˆ¶å™¨æˆåŠŸ!!!&quot;]; &#125; &#125; break; default: break; &#125; &#125;else if (resultByte[1] == 1) &#123; [self updateLog:@&quot;æœªçŸ¥é”™è¯¯&quot;]; &#125;else if (resultByte[1] == 2) &#123; [self updateLog:@&quot;é‰´æƒå¤±è´¥&quot;]; &#125; &#125; if ([characteristic.UUID isEqual:[CBUUID UUIDWithString:@&quot;FF04&quot;]]) &#123; NSData * data = characteristic.value; Byte * resultByte = (Byte *)[data bytes]; for(int i=0;i&lt;[data length];i++) printf(&quot;testByteFF04[%d] = %d\\n&quot;,i,resultByte[i]); if (resultByte[0] == 0) &#123; // æœªç»‘å®š -ã€‹å†™é‰´æƒç  [self updateLog:@&quot;å½“å‰è½¦è¾†æœªç»‘å®šï¼Œè¯·é‰´æƒ&quot;]; [self authentication]; // é‰´æƒ [self writePassword:nil newPw:nil]; &#125;else if (resultByte[0] == 1) &#123; // å·²ç»‘å®š -ã€‹é‰´æƒ [self updateLog:@&quot;å½“å‰è½¦è¾†å·²ç»ç»‘å®šï¼Œè¯·é‰´æƒ&quot;]; [self writePassword:nil newPw:nil]; &#125;else if (resultByte[0] == 2) &#123; // å…è®¸ç»‘å®š [self updateLog:@&quot;å½“å‰è½¦è¾†å…è®¸ç»‘å®š&quot;]; &#125; &#125; if ([characteristic.UUID isEqual:[CBUUID UUIDWithString:@&quot;FF05&quot;]]) &#123; NSData * data = characteristic.value; Byte * resultByte = (Byte *)[data bytes]; for(int i=0;i&lt;[data length];i++) printf(&quot;testByteFF05[%d] = %d\\n&quot;,i,resultByte[i]); if (resultByte[0] == 0) &#123; // è®¾å¤‡åŠ è§£é”çŠ¶æ€ 0 æ’¤é˜² 1 è®¾é˜² [self updateLog:@&quot;å½“å‰è½¦è¾†æ’¤é˜²çŠ¶æ€&quot;]; &#125;else if (resultByte[0] == 1) &#123; // è®¾å¤‡åŠ è§£é”çŠ¶æ€ 0 æ’¤é˜² 1 è®¾é˜² [self updateLog:@&quot;å½“å‰è½¦è¾†è®¾é˜²çŠ¶æ€&quot;]; &#125; &#125;&#125;//ä¸­å¿ƒè¯»å–å¤–è®¾å®æ—¶æ•°æ®- (void)peripheral:(CBPeripheral *)peripheral didUpdateNotificationStateForCharacteristic:(CBCharacteristic *)characteristic error:(NSError *)error &#123; if (error) &#123; NSLog(@&quot;Error changing notification state: %@&quot;, error.localizedDescription); &#125; // Notification has started if (characteristic.isNotifying) &#123; [peripheral readValueForCharacteristic:characteristic]; &#125; else &#123; // Notification has stopped // so disconnect from the peripheral NSLog(@&quot;Notification stopped on %@. Disconnecting&quot;, characteristic); [self updateLog:[NSString stringWithFormat:@&quot;Notification stopped on %@. Disconnecting&quot;, characteristic]]; [self.manager cancelPeripheralConnection:self.peripheral]; &#125;&#125;//ç”¨äºæ£€æµ‹ä¸­å¿ƒå‘å¤–è®¾å†™æ•°æ®æ˜¯å¦æˆåŠŸ-(void)peripheral:(CBPeripheral *)peripheral didWriteValueForCharacteristic:(CBCharacteristic *)characteristic error:(NSError *)error&#123; if (error) &#123; NSLog(@&quot;=======%@&quot;,error.userInfo); [self updateLog:[error.userInfo JSONString]]; &#125;else&#123; NSLog(@&quot;å‘é€æ•°æ®æˆåŠŸ&quot;); [self updateLog:@&quot;å‘é€æ•°æ®æˆåŠŸ&quot;]; &#125; /* When a write occurs, need to set off a re-read of the local CBCharacteristic to update its value */ [peripheral readValueForCharacteristic:characteristic];&#125; åè®° æœ€ä¸»è¦æ˜¯ç”¨ UUID æ¥ç¡®å®šä½ è¦å¹²çš„äº‹æƒ…ï¼Œç‰¹å¾å’ŒæœåŠ¡çš„ UUID éƒ½æ˜¯å¤–è®¾å®šä¹‰å¥½çš„ã€‚æˆ‘ä»¬åªéœ€è¦è¯»å–ï¼Œç¡®å®šä½ è¦è¯»å–ä»€ä¹ˆçš„æ—¶å€™ï¼Œå°±å»åˆ¤æ–­UUIDæ˜¯å¦ç›¸ç¬¦ã€‚ ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä½¿ç”¨çš„ iPhone éƒ½æ˜¯åšcentralManager çš„ï¼Œè“ç‰™æ¨¡å—æ˜¯ peripheral çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯ want datasï¼Œéœ€è¦æ¥å—æ•°æ®ã€‚ åˆ¤æ–­çŠ¶æ€ä¸º powerOnï¼Œç„¶åæ‰§è¡Œæ‰«æ åœæ­¢æ‰«æï¼Œè¿æ¥å¤–è®¾ è¿æ¥æˆåŠŸï¼Œå¯»æ‰¾æœåŠ¡ åœ¨æœåŠ¡é‡Œå¯»æ‰¾ç‰¹å¾ ä¸ºç‰¹å¾æ·»åŠ é€šçŸ¥ é€šçŸ¥æ·»åŠ æˆåŠŸï¼Œé‚£ä¹ˆå°±å¯ä»¥å®æ—¶çš„è¯»å–value[ä¹Ÿå°±æ˜¯è¯´åªè¦å¤–è®¾å‘é€æ•°æ®[ä¸€èˆ¬å¤–è®¾çš„é¢‘ç‡ä¸º10Hz]ï¼Œä»£ç†å°±ä¼šè°ƒç”¨æ­¤æ–¹æ³• å¤„ç†æ¥æ”¶åˆ°çš„ valueï¼Œ[hexå€¼ï¼Œå¾—è½¬æ¢] ä¹‹åå°±è‡ªç”±å‘æŒ¥äº†ï¼Œåœ¨è¿™æœŸé—´éƒ½æ˜¯é€šè¿‡ä»£ç†æ¥å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åªéœ€è¦å¤„ç†ä½ æƒ³è¦åšçš„äº‹æƒ…ï¼Œä»£ç†ä¼šå¸®ä½ è°ƒç”¨æ–¹æ³• 2015-07-28 æ›´å…³äº Write è¿™é‡Œè¿˜æœ‰äº›æ³¨æ„çš„åœ°æ–¹ï¼ï¼ï¼ï¼å¹¶ä¸æ˜¯æ¯ä¸€ä¸ª Characteristic éƒ½å¯ä»¥é€šè¿‡å›è°ƒå‡½æ•°æ¥æŸ¥çœ‹å®ƒå†™å…¥çŠ¶æ€çš„ã€‚å°±æ¯”å¦‚é’ˆå¯¹ immediateAlertServiceï¼ˆ1802ï¼‰ çš„ alertLevelCharacteristicï¼ˆ2A06ï¼‰ï¼Œå°±æ˜¯ä¸€ä¸ªä¸èƒ½æœ‰ response çš„ Characteristicã€‚åˆšå¼€å§‹æˆ‘å°±ä¸€ç›´ç”¨ CBCharacteristicWriteType.WithResponse æ¥è¿›è¡Œå†™å…¥å§‹ç»ˆä¸æˆåŠŸï¼Œéƒé—·åäº†ï¼Œæœ€åçœ‹åˆ°æ¯ä¸ª Characteristic è¿˜æœ‰ä¸ªå±æ€§å€¼æ˜¯æŒ‡ç¤ºè¿™ä¸ªçš„ï¼Œæˆ‘å°†æ¯ä¸ª Characteristic æ‰“å°å‡ºæ¥æœ‰å¦‚ä¸‹ä¿¡æ¯ï¼š 12immediateAlertService Discover characteristic &lt;CBCharacteristic: 0x15574d00, UUID = 2A06, properties = 0x4, value = (null), notifying = NO&gt;linkLossAlertService Discover characteristic &lt;CBCharacteristic: 0x15671d00, UUID = 2A06, properties = 0xA, value = (null), notifying = NO&gt; è¿™ä¸ªçš„ properties æ˜¯ä»€ä¹ˆåˆšå¼€å§‹ä¸çŸ¥é“ï¼Œè§‰å¾—ä»–æ²¡æ„ä¹‰ï¼Œåé¢æ‰æ³¨æ„åˆ° properties æ˜¯ Characteristic çš„ä¸€ä¸ªå‚æ•°ï¼Œå…·ä½“è§£é‡Šå¦‚ä¸‹ï¼š 123456789101112typedef enum &#123; CBCharacteristicPropertyBroadcast = 0x01, CBCharacteristicPropertyRead = 0x02, CBCharacteristicPropertyWriteWithoutResponse = 0x04, CBCharacteristicPropertyWrite = 0x08, CBCharacteristicPropertyNotify = 0x10, CBCharacteristicPropertyIndicate = 0x20, CBCharacteristicPropertyAuthenticatedSignedWrites = 0x40, CBCharacteristicPropertyExtendedProperties = 0x80, CBCharacteristicPropertyNotifyEncryptionRequired = 0x100, CBCharacteristicPropertyIndicateEncryptionRequired = 0x200,&#125; CBCharacteristicProperties; å¯ä»¥çœ‹åˆ° 0x04: CBCharacteristicPropertyWriteWithoutResponse 0x10: CBCharacteristicPropertyNotify æ‰€ä»¥ immediateAlertServiceï¼ˆ1802ï¼‰ çš„ alertLevelCharacteristicï¼ˆ2A06ï¼‰æ˜¯ä¸èƒ½ç”¨ CBCharacteristicWriteType.WithRespons è¿›è¡Œå†™å…¥ï¼Œåªèƒ½ç”¨ CBCharacteristicWriteType.WithOutResponsã€‚è¿™æ ·åœ¨ä»¥åçš„å¼€å‘ä¸­å¯ä»¥å¯¹æ¯ä¸ªCharacteristicçš„è¿™ä¸ªå‚æ•°è¿›è¡Œæ£€æŸ¥å†è¿›è¡Œè®¾ç½®ã€‚ æœ€åè®²ä¸€ä¸‹å…³äºè“ç‰™ç»‘å®šçš„è¿‡ç¨‹ï¼Œåœ¨ iOS ä¸­ï¼Œæ²¡æœ‰è®²å½“ç»‘å®šçš„è¿‡ç¨‹ï¼Œç›´æ¥å°±æ˜¯æ‰«æã€è¿æ¥ã€äº¤äº’ã€‚ä»è€Œå¾ˆå¤šäººä¼šè®¤ä¸ºï¼Œè¿æ¥å°±æ˜¯ç»‘å®šäº†ï¼Œå…¶å®ä¸ç„¶ã€‚åœ¨ iOS å¼€å‘ä¸­ï¼Œè¿æ¥å¹¶æ²¡æœ‰å®Œæˆç»‘å®šï¼Œåœ¨ç½‘ä¸Šæ‰¾åˆ°äº†ä¸ªå¾ˆå¥½çš„è§£é‡Šï¼š you cannot initiate pairing from the iOS central side. Instead, you have to read/write a characteristic value,and then let your peripheral respond with an â€œInsufficient Authenticationâ€ error.iOS will then initiate pairing, will store the keys for later use (bonding) and encrypts the link. As far as I know,it also caches discovery information, so that future connections can be set up faster. å°±æ˜¯å½“å‘ç”Ÿè¯»å†™äº¤äº’æ—¶ï¼Œç³»ç»Ÿåœ¨ä¼šå’Œå¤–è®¾è¿›è¡Œç»‘å®šæ“ä½œ!!! 2016-02-20 æ›´iosè“ç‰™å¦‚ä½•è·å–å¹¿æ’­åŒ…æ•°æ® å¦‚é¢˜ï¼Œæ‰‹æœºä½œä¸ºä¸»è®¾å¤‡ï¼Œåœ¨ä½¿ç”¨ CoreBluetooth æ—¶å€™ï¼Œæƒ³è·å–è“ç‰™çš„æ•°æ®å¹¿æ’­åŒ…ã€‚åœ¨ä½¿ç”¨1- (void)centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)aPeripheral advertisementData:(NSDictionary *)advertisementData RSSI:(NSNumber *)RSSI æ–¹æ³•æ—¶å€™è·å–çš„ advertisementData æ‰“å°å‡ºæ¥åªæœ‰1** ****kCBAdvDataIsConnectable****kCBAdvDataLocalName****kCBAdvDataManufacturerData** ä¸‰ä¸ªå±æ€§å¯¹åº”çš„å€¼ï¼Œä½†è¿™å¹¶éå¹¿æ’­åŒ…çš„æ•°æ®ã€‚ä¾‹å¦‚å®‰å“å¯ä»¥é€šè¿‡ scandata æ¥è·å–åˆ°å¹¿æ’­åŒ…çš„å€¼ï¼Œé‚£ä¹ˆ iOS è¿™è¾¹æˆ‘åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ å¥½åƒè‹¹æœè¿™è¾¹ç¦æ­¢è¯»å–è¿™ç§å¹¿æ’­å†…å®¹çš„çš„ï¼ŒçœŸè¦çš„è¯ä½ å¯ä»¥è®©ç¡¬ä»¶é‚£è¾¹æŠŠæ•°æ®åšåˆ° kCBAdvDataManufacturerData è¿™ä¸ªå­—æ®µé‡Œé¢ã€‚ Demoåœ°å€ï¼šä¸€ä¸ªè“ç‰™4.0çš„æ™ºèƒ½ç¡¬ä»¶Demo æœ¬ç«™æ–‡ç« å¦‚æ— å…¶ä»–ç‰¹æ®Šè¯´æ˜ï¼Œå‡ä¸ºåŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚","categories":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/categories/iOS/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://blog.yuhanle.com/tags/iOS/"}]},{"title":"ä½ åˆ°åº•å¥½ä¸å¥½","slug":"are-you-good-or-not","date":"2015-04-20T02:00:00.000Z","updated":"2021-10-21T08:18:48.333Z","comments":true,"path":"2015/04/20/are-you-good-or-not/","link":"","permalink":"https://blog.yuhanle.com/2015/04/20/are-you-good-or-not/","excerpt":"æç¬”å†™è¿™ç¯‡æ–‡ç« å·²ç»æ€è€ƒå¾ˆä¹…äº†ï¼Œç¼˜ç”±æ¥äºä¸€ä¸ªåˆä¸­æœ‹å‹ï¼Œå¼‚æ€§æœ‹å‹ï¼Œå¾ˆéš¾å¾—çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸ä»…è®¤è¯†ï¼Œè€Œä¸”è¿˜æ˜¯åŒå¹´åŒæœˆåŒæ—¥çš„å¯†å‹ï¼Œè™½ä¸å¸¸è”ç³»ï¼Œä½†æ¯”ä»»ä½•äººæ„Ÿæƒ…éƒ½æ·±ã€‚","text":"æç¬”å†™è¿™ç¯‡æ–‡ç« å·²ç»æ€è€ƒå¾ˆä¹…äº†ï¼Œç¼˜ç”±æ¥äºä¸€ä¸ªåˆä¸­æœ‹å‹ï¼Œå¼‚æ€§æœ‹å‹ï¼Œå¾ˆéš¾å¾—çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸ä»…è®¤è¯†ï¼Œè€Œä¸”è¿˜æ˜¯åŒå¹´åŒæœˆåŒæ—¥çš„å¯†å‹ï¼Œè™½ä¸å¸¸è”ç³»ï¼Œä½†æ¯”ä»»ä½•äººæ„Ÿæƒ…éƒ½æ·±ã€‚ è¿‡ä¸¤å¤©å°±è¦å»åŒ—äº¬å‚åŠ å©šç¤¼äº†ï¼Œæå‰å’Œå¥¹çº¦äº†ä¸€ä¸‹ï¼Œä¸Šæ¬¡è§é¢åº”è¯¥æ˜¯3å¹´å‰äº†å§ï¼åœ¨èŠåŠåˆ°å½¼æ­¤ç”Ÿæ´»çš„æ—¶å€™ï¼Œå¥¹æ— æ„å‘äº†å‡ å¥ç‰¢éªšï¼Œè¯´èº«è¾¹çš„æœ‹å‹éƒ½è¯´å¥¹çš„ç”·æœ‹å‹å¾ˆå¥½ï¼Œå¯èƒ½æ˜¯å¥¹è„¾æ°”ä¸å¥½ï¼Œæˆ–è€…å…¶ä»–åŸå› ï¼Œèº«è¾¹çš„æœ‹å‹éƒ½è¢«ç”·æœ‹å‹æ‹‰æ‹¢äº†ï¼Œè¿™è®©è‡ªå·±è§‰å¾—åˆé«˜å…´åˆè‹¦é€¼ï¼Œé«˜å…´çš„æ˜¯æ‰¾äº†ä¸€ä¸ªå¤§å®¶å…¬è®¤çš„å¥½ç”·äººï¼Œè‹¦é€¼çš„æ˜¯æœ‹å‹è¯´è¿™äº›è¯åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ã€‚ åæ¥ï¼Œå¥¹è¡¥å……äº†ä¸€å¥ã€‚å¯è°çŸ¥é“ï¼Œæˆ‘ä¸€ç›´åœ¨æœ‹å‹é¢å‰è¯´ä»–å¥½ï¼Œå³ä½¿æœ‰æ—¶å€™çœŸçš„å¾ˆä»¤äººç”Ÿæ°”ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šè·Ÿæœ‹å‹è®²è‡ªå·±ç”·æœ‹å‹çš„å¥½ã€‚ å¬å®Œäº†ï¼Œæˆ‘è§‰å¾—è²Œä¼¼å¾ˆæœ‰é“ç†ã€‚ çªç„¶ä¸€ä¸ªé—®é¢˜å°±æ¥äº†ï¼Œä¸€ä¸ªäººå¥½ä¸å¥½è¯¥æ€ä¹ˆå»è¯„ä¼°ï¼Ÿ äººéƒ½æ˜¯è‡ªæ‹çš„ï¼Œè¿™æ˜¯çœŸç†ã€‚è¦å»æ‰¿è®¤ä¸€ä¸ªäººï¼Œå¯¹äºè‡ªå·±æ¥è®²ï¼Œæˆªç„¶æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚æœ‹å‹çœ¼ä¸­çš„ä½ çš„å½¢è±¡å¾ˆé‡è¦ï¼Œæˆ‘æ˜¯è¿™ä¹ˆä»¥ä¸ºçš„ã€‚ å¹´è½»æ—¶ï¼Œæˆ‘å¯¹äººæˆ–äº‹çš„æ˜¯ä¸éæœ‰ä¸€ä¸ªè‡ªå·±çš„åˆ¤æ–­ã€‚ ç¬¬ä¸€ï¼Œå°‘æ•°æœä»å¤šæ•°ã€‚ç”Ÿæ´»ä¸­ï¼Œæœ‰äº›äººä»¤äººè§‰å¾—å¾ˆå¥‡æ€ªï¼Œå› ä¸ºä»–ä»¬çš„æƒ³æ³•å§‹ç»ˆå’Œç°å®å·®ä¸€å¤§æˆªï¼Œå¾ˆå¤šäººéƒ½å–œæ¬¢æ®ç†åŠ›äº‰ï¼Œè¿™æ˜¯æƒ…æœ‰å¯åŸçš„ï¼Œå§”æ›²æ±‚å…¨ä¸æ˜¯è¿™æ ·è¡¨ç°ã€‚å¦‚æœæ‰€æœ‰äººéƒ½è¯´è¿™æ˜¯é”™çš„ï¼Œæˆ‘æƒ³ä¹Ÿæ²¡æœ‰å¿…è¦å†å»åšæŒï¼Œæ–¹å‘åº”è¯¥æ˜¯å¾ˆé‡è¦çš„ï¼Œä¸€å‘³çš„åšæŒåŸåˆ™å¾€å¾€é€‚å¾—å…¶åï¼Œè®©æœ‹å‹ä»¬éƒ½è§‰å¾—ä½ æ˜¯å‚»é€¼ï¼Œæˆ–è®¸è‡ªå·±éƒ½è¿™ä¹ˆè§‰å¾—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤§å®¶éƒ½è®¤ä¸ºè¿™äººçš„è¡Œä¸ºä¹ æƒ¯ä¸åˆé€‚ï¼Œé™¤éå­˜åœ¨è‡­å‘³ç›¸æŠ•ï¼Œæˆ‘ç›¸ä¿¡å¤§å®¶çš„è¯„ä»·ã€‚ ç¬¬äºŒï¼Œå¤šæ•°æœä»å°‘æ•°ã€‚æœ‰äº›äººçš„çœ¼å…‰å¾ˆç‹¬åˆ°ï¼Œè¿™æ˜¯æˆ‘ä»¬å¹³å‡¡äººä¸å¯èƒ½å­¦åˆ°çš„ï¼Œçœ‹å†å¤šçš„ä¹¦ä¹Ÿæ²¡æœ‰ç”¨ã€‚å¯¹äºä¸€ä¸ªäººçš„äº†è§£ä¹Ÿæ˜¯è¿™æ ·ï¼Œå¤ªè¿‡äº²è¿‘çš„äººè™½ç„¶äº†è§£çš„å¤šï¼Œä½†æ˜¯éš¾å…å¸¦ç€æ„Ÿæƒ…æ¥è¯„ä»·ä¸€ä¸ªäººçš„å¥½ä¸åï¼Œäº²è¿‘çš„ä¹Ÿæ¯•ç«Ÿæ˜¯å°‘æ•°ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„ä¸æ˜¯åŒä¸€ä¸ªäººï¼Œä¸€ä»¶å°äº‹å¾ˆæœ‰å¯èƒ½æ”¹å˜äº†ä½ åœ¨æœ‹å‹çœ¼ä¸­çš„å½¢è±¡ã€‚è¯´åˆ°è¿™é‡Œï¼Œæˆ‘ä¸èµæˆäººæ´»ç€ï¼Œæ´»å¾—å°å¿ƒç¿¼ç¿¼ã€‚ ç¬¬ä¸‰ï¼Œä¸è¦å»è¯„è®ºä¸€ä¸ªäººã€‚äººéƒ½å¾ˆå®¹æ˜“è¢«å½±å“ï¼Œå½“æˆ‘ä»¬åœ¨è¯„è®ºä¸€ä¸ªäººï¼Œç‰¹åˆ«æ˜¯ç¼ºç‚¹çš„æ—¶å€™ï¼Œæˆ‘ç›¸ä¿¡å¾ˆå¤šäººéƒ½å·²ç»æ”¾å¼ƒä½ è¿™ä¸ªæœ‹å‹äº†ã€‚soï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ç‰¹åˆ«ä¸å–œæ¬¢å¥³å­©å­å…«å¦ã€‚ä¸€äº›å¥½å¬çš„è¯ï¼Œæˆ‘å¬ç€éƒ½ä¼šéš¾å—ï¼Œä¸å¥½çš„ä¹Ÿå½“è€³æ—é£ï¼Œæ­£æ­£è¡£å† ç»§ç»­å½“æˆ‘çš„ç¦½å…½ï¼ ä»…ä»…æ˜¯å“æ„Ÿè§‰ï¼Œæ¥åˆ¤æ–­ä¸€ä¸ªäººçš„å¥½ä¸åã€‚å°±åƒä¸‰å›½æ€é‡Œä¸€æ ·ï¼Œæ¯ä¸ªäººéƒ½åœ¨ç©å¿ƒè®¡ï¼Œåˆ¤æ–­çš„æ­£ç¡®ä¸å¦ï¼Œæ¦‚ç‡æ€§å¾ˆå¤§ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å»åœ¨ä¹æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œåƒå†…å¥¸ä¸€æ ·ï¼Œåæ¥ä¼šæ­»çš„å¾ˆæƒ¨ï¼ å¯¹äºè¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æ²¡æœ‰ç»“è®ºï¼Œä¹Ÿæ²¡æœ‰æƒ³æ³•å»æ•´ç†ï¼Œå¹³å‡¡äººä¸æ˜¯ç¤¾ä¼šå­¦å®¶ï¼Œæˆ‘ä»¬æŠŠæœ€ç›´è§‚ï¼Œæœ€æœ´ç´ çš„ä¸œè¥¿ç´¯ç§¯èµ·æ¥ï¼Œè®©åˆ«äººå»ç ”ç©¶ï¼Œå»æ€è€ƒï¼Œè¿™åº”è¯¥å°±æ˜¯æˆ‘ä»¬æ´»ç€ï¼Œä¸ºäººå¤„ä¸–çš„æ„ä¹‰ã€‚ å¤§å®¶éƒ½æ˜¯ï¼Œä»ä¸å¦è®¤è‡ªå·±æ˜¯ä¸€ä¸ªå¥½äººï¼Œå´å¾ˆéš¾æ¥å—è‡ªå·±ä¹Ÿæ›¾åšè¿‡å“ªäº›åäº‹ï¼Œæ…¢æ…¢å°±å˜æˆäº†è‡ªå·±æ›¾ç»æœ€è®¨åŒçš„é‚£ä¸ªäººã€‚ é‚£ä¸ªäººæ˜¯è°ï¼Ÿ å¥½åƒæ˜¯ä¸€æ¡ç‹—ã€‚","categories":[{"name":"suibi","slug":"suibi","permalink":"https://blog.yuhanle.com/categories/suibi/"}],"tags":[{"name":"outu","slug":"outu","permalink":"https://blog.yuhanle.com/tags/outu/"}]},{"title":"æ¢…èŠ±å°è‹","slug":"xiaoshi-plum-flower-say","date":"2014-05-21T00:00:00.000Z","updated":"2021-10-21T08:18:48.340Z","comments":true,"path":"2014/05/21/xiaoshi-plum-flower-say/","link":"","permalink":"https://blog.yuhanle.com/2014/05/21/xiaoshi-plum-flower-say/","excerpt":"å¶è¿‡ç©ºé—´ï¼Œè§†åŠ¨æ€ï¼Œæ¢…èŠ±æ€’æ”¾ï¼Œé¦™æ„æ­£æµ“ï¼Œç°‡ç°‡æå¤´ï¼Œå¦‚æœé˜³ä¼¼ç«ï¼Œé†‰è¿·äººå¿ƒã€‚","text":"å¶è¿‡ç©ºé—´ï¼Œè§†åŠ¨æ€ï¼Œæ¢…èŠ±æ€’æ”¾ï¼Œé¦™æ„æ­£æµ“ï¼Œç°‡ç°‡æå¤´ï¼Œå¦‚æœé˜³ä¼¼ç«ï¼Œé†‰è¿·äººå¿ƒã€‚æ ‘ä¸‹æ›´æœ‰ä¸€ä½³äººï¼Œèº«ç€ç²‰è‰²å¤–è¡£ï¼Œæ­£é—­ç›®å…»ç¥é—»é¦™æ°”ï¼Œå¿ƒåŠ¨ä¹Ÿï¼Œé‚ä½œã€Šæ¢…èŠ±æ›¦ã€‹ï¼š ç´ æ‰‹æ¢å›æ¥ï¼Œè½»è§¦çœ‰é—´ï¼Œé¦™æ„æ¸æµ“å¦‚ç—´ã€‚ç°‡ç°‡æå¤´ï¼Œæ¬ ç²‰çº¢é¢œã€‚ ã€Šé¢¤æ¢…èµ‹ã€‹è€…ï¼Œå¿ƒéšæ¢…åŠ¨ï¼Œæ¢…éšå¿ƒåŠ¨å¦‚æ˜¯ã€‚æ¢…èŠ±ç››å¼€çš„å­£èŠ‚ï¼Œä¹Ÿè®¸å°±è¦è¿‡äº†ï¼Œæœªæ›¾è§å¿å´æ€å¿ï¼Œå´ä¹‹ã€‚ æ‹‚è¢–é€å¿å»ï¼Œå½“è¯´ä½•è¯­ï¼Ÿè´¥çµ®æ®‹è½é»¯ç„¶ã€‚é’é’è‰åœ°ï¼Œè‰²å½©æ–‘æ–“ã€‚ äºŒé›¶ä¸€ä¸€å¹´ä¸‰æœˆè®°","categories":[{"name":"poem","slug":"poem","permalink":"https://blog.yuhanle.com/categories/poem/"}],"tags":[{"name":"poem","slug":"poem","permalink":"https://blog.yuhanle.com/tags/poem/"}]},{"title":"ä¹‹æ‰€ä»¥åœ¨è¿™é‡Œå®‰å®¶","slug":"reason-why-home-here","date":"2014-05-20T00:00:00.000Z","updated":"2021-10-21T08:18:48.339Z","comments":true,"path":"2014/05/20/reason-why-home-here/","link":"","permalink":"https://blog.yuhanle.com/2014/05/20/reason-why-home-here/","excerpt":"æˆ‘åœ¨ä¸ç»æ„é—´è§¦æ‘¸åˆ°å‘¨å›½å¹³çš„ã€Šäººçš„é«˜è´µåœ¨äºçµé­‚ã€‹ï¼Œæ´—ç¤¼ä¹‹ååˆ†æ˜æ„Ÿåˆ°ï¼šåšä¸€ä¸ªæœ‰æ€æƒ³çš„äººï¼Œç”¨è‡ªå·±çš„æ€æƒ³èµ°å®Œç”Ÿå‘½çš„å…¨ç¨‹ï¼Œå®šä¼šç²¾å½©çº·å‘ˆã€‚","text":"æˆ‘åœ¨ä¸ç»æ„é—´è§¦æ‘¸åˆ°å‘¨å›½å¹³çš„ã€Šäººçš„é«˜è´µåœ¨äºçµé­‚ã€‹ï¼Œæ´—ç¤¼ä¹‹ååˆ†æ˜æ„Ÿåˆ°ï¼šåšä¸€ä¸ªæœ‰æ€æƒ³çš„äººï¼Œç”¨è‡ªå·±çš„æ€æƒ³èµ°å®Œç”Ÿå‘½çš„å…¨ç¨‹ï¼Œå®šä¼šç²¾å½©çº·å‘ˆã€‚ ç”Ÿå‘½å¦‚è‰èŠ¥ï¼Œæœ‰æ—¶å¾ˆè„†å¼±ï¼Œä½†æ¯”å®‡å®™é—´çš„ä»»ä½•ä¸œè¥¿éƒ½é«˜è´µçš„å¤šï¼Œå› ä¸ºäººæœ‰ä¸€æ£µèƒ½æ€æƒ³çš„çµé­‚ã€‚ ç‰©ç†å­¦å®¶é˜¿åŸºç±³å¾·å¼¥ç•™ä¹‹é™…ï¼Œä»–è®¤ä¸ºï¼šåœ†æ¯”ç”Ÿå‘½é‡è¦ï¼›å“²å­¦å®¶ç¬¬æ¬§æ ¹å°¼ä¸äºšå†å±±å¤§å¤§å¸å¶é‡ï¼Œä»–è®¤ä¸ºï¼šé˜³å…‰æ¯”èµ«èµ«æˆ˜åŠŸçè´µï¼›è‹±å›½ä½œå®¶ç‹å°”å¾·åˆ°ç¾å›½æ—…è¡Œï¼Œä»–è®¤ä¸ºï¼šæ‰åæ¯”é‡‘é’±æ›´æœ‰ä»·å€¼â€¦â€¦ä»–ä»¬æœ‰æ€æƒ³ã€æœ‰ä¸°å¯Œçš„ç²¾ç¥è´¢å¯Œã€æœ‰ä¸€ç§çº¯æ­£çš„è¿½æ±‚ï¼Œä½¿ä»–ä»¬çš„çµé­‚å˜å¾—é«˜è´µï¼Œæ•£å‘å‡ºè¿·äººçš„å…‰å½©ã€‚ ä¹Ÿè®¸æœ‰äººä¼šè¯´ï¼šä»–ä»¬éƒ½æ˜¯åäººï¼Œæœ‰è‡ªå·±çš„æ€æƒ³ç†æ‰€åº”å½“ï¼›å°”ç­‰é¼ è¾ˆï¼Œè‹Ÿä¸”è¿‡æ´»ï¼Œæ€è°ˆæœ‰æ€æƒ³ï¼Ÿå“²å­¦å®¶å‘¨å›½å¹³ä¸ä¼šå¿˜è®°ï¼Œæ¥ç€ä»–åˆä¸¾ç”Ÿæ´»ä¸­çš„ä¸¤ä¾‹ï¼š ä¾‹ä¸€ï¼šæœ‰ä¸€å›ï¼Œæˆ‘ä¹˜è½¦æ—…è¡Œã€‚åˆ—è½¦é£é©°ï¼Œè½¦å¢é‡Œé—¹å“„å“„çš„ï¼Œæ—…å®¢ä»¬åœ¨èŠå¤©ã€æ‰“ç‰Œã€åƒé›¶é£Ÿã€‚ä¸€ä¸ªå°‘å¥³èº²åœ¨è½¦å¢çš„ä¸€è§’ï¼Œå…¨ç¥è´¯æ³¨åœ°è¯»ç€ä¸€æœ¬ä¹¦ã€‚å¥¹è¯»å¾—é‚£ä¹ˆä¸“å¿ƒï¼Œè¿˜ä¸æ—¶åœ°å¾€éšèº«æºå¸¦çš„ä¸€ä¸ªå°æœ¬å­ä¸Šè®°äº›ä»€ä¹ˆï¼Œå¥½åƒå®Œå…¨æ²¡æœ‰å¬è§å‘¨å›´å˜ˆæ‚çš„äººå£°ã€‚æœ›ç€å¥¹ä»¿ä½›æ²æµ´åœ¨ä¸€ç‰‡å…‰è¾‰ä¸­çš„å®‰é™çš„ä¾§å½±â€¦â€¦ ä¾‹äºŒï¼šæ¯å½“åŒ—äº¬ä¸¾åŠä¸–ç•Œåç”»å±•è§ˆæ—¶ï¼Œä¾¿æœ‰è®¸å¤šé»˜é»˜æ— é—»çš„é’å¹´ç”»å®¶èŠ‚è¡£ç¼©é£Ÿï¼Œè‡ªç­¹æ—…è´¹ï¼Œä»å…¨å›½å„åœ°é£å°˜ä»†ä»†æ¥åˆ°é¦–éƒ½ï¼Œåœ¨åç”»å‰æµè¿å¿˜è¿”ã€‚ åœ¨åµé—¹çš„åˆ—è½¦é‡Œå…¨ç¥è´¯æ³¨è¯»ä¹¦çš„å°‘å¥³ï¼ŒèŠ‚è¡£ç¼©é£Ÿã€è‡ªç­¹æ—…è´¹çš„é’å¹´ç”»å®¶ä¸å°±æ˜¯æˆ‘ä»¬è‡ªå·±ï¼Ÿæ— è®ºåœ°ä½çš„é«˜ä½ã€é’±è´¢çš„å¤šå¯¡ï¼Œå½“äººäº«å—è‡ªå·±çš„æ€æƒ³ä¹‹ä¹æ—¶ä»–ä¼šæ˜¾ç¤ºå‡ºä¸€ç§è¶…è¶Šä¸–ä¿—ï¼Œè¶…è¶Šæ—¶ç©ºï¼Œè¶…è¶Šä¸€åˆ‡çš„ç²¾ç¥å¢ƒç•Œï¼Œå»åŒ–èº«äºæ€æƒ³çš„ç©ºæ°”ä¹‹ä¸­ï¼Œå°½æƒ…äº«å—çµé­‚çš„é«˜è´µå’Œçº¯æ´ã€‚ åšä¸€ä¸ªæœ‰æ€æƒ³çš„äººï¼šç”¨çœ¼ç›è§‚å¯Ÿï¼Œç”¨å¤´è„‘æ€ç´¢ï¼Œç”¨å¿ƒçµæ„Ÿæ‚Ÿï¼Œç”¨è¯­è¨€è¡¨è¾¾ï¼Œè®¤çœŸå¯¹å¾…ç”Ÿæ´»çš„æ¯ä¸€ç¬é—´ï¼›åšä¸€ä¸ªæœ‰æ€æƒ³çš„äººï¼šè®¡åˆ’æ¯ä¸€å¤©ï¼Œæ€è€ƒæ¯ä¸€å¤©ï¼Œæ”¶è·æ¯ä¸€å¤©ï¼Œå¿«ä¹æ¯ä¸€å¤©ï¼è¿™æ ·æˆ‘ä»¬çš„äººç”Ÿå°†å› æ­¤ä¸°ç›ˆå……æ»¡ï¼ ä½ å¯ä»¥ä»è¿™é‡Œæ‰¾åˆ°æˆ‘ Weibo Email Github Twitter","categories":[{"name":"suibi","slug":"suibi","permalink":"https://blog.yuhanle.com/categories/suibi/"}],"tags":[{"name":"think","slug":"think","permalink":"https://blog.yuhanle.com/tags/think/"}]}]}